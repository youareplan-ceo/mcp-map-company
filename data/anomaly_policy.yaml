# ê¸°ë³¸ ì´ìƒíƒì§€ ì •ì±… ì„¤ì • (í•œêµ­ì–´ ì£¼ì„)
# ìƒì„±ì¼: 2024-09-21
# ì„¤ëª…: ì´ìƒíƒì§€ ì•Œë¦¼ ì„ê³„ê°’, ìœˆë„ìš° í¬ê¸°, ë¯¼ê°ë„, ì„œí”„ë ˆì…˜ ë£° ì„¤ì •

# ê¸°ë³¸ íƒì§€ ì„¤ì •
detection:
  # ê¸°ë³¸ ìœˆë„ìš° í¬ê¸° (ì¼ ë‹¨ìœ„)
  default_window_size: 7

  # ê¸°ë³¸ Z-score ì„ê³„ê°’
  default_threshold: 3.0

  # ê¸°ë³¸ ì˜ˆì¸¡ ì¼ìˆ˜
  default_forecast_days: 7

  # EWMA ì•ŒíŒŒê°’ (0.0-1.0, ë†’ì„ìˆ˜ë¡ ìµœê·¼ ë°ì´í„°ì— ë¯¼ê°)
  ewma_alpha: 0.3

# ì§€í‘œë³„ ë§ì¶¤ ì„¤ì •
metrics:
  cpu_usage:
    threshold: 2.5      # CPUëŠ” ë” ë¯¼ê°í•˜ê²Œ íƒì§€
    window_size: 5
    enabled: true

  memory_usage:
    threshold: 3.0
    window_size: 7
    enabled: true

  disk_usage:
    threshold: 3.5      # ë””ìŠ¤í¬ëŠ” ëœ ë¯¼ê°í•˜ê²Œ
    window_size: 14
    enabled: true

  network_latency:
    threshold: 2.8
    window_size: 6
    enabled: true

# ì•Œë¦¼ ë ˆë²¨ ì„¤ì •
alert_levels:
  critical:
    threshold: 5.0      # Z-score 5.0 ì´ìƒ
    color: "#dc3545"    # ë¹¨ê°„ìƒ‰
    description: "ì¦‰ì‹œ ëŒ€ì‘ í•„ìš”"

  high:
    threshold: 4.0      # Z-score 4.0-5.0
    color: "#fd7e14"    # ì£¼í™©ìƒ‰
    description: "ì‹ ì† í™•ì¸ ìš”ë§"

  medium:
    threshold: 3.0      # Z-score 3.0-4.0
    color: "#ffc107"    # ë…¸ë€ìƒ‰
    description: "ëª¨ë‹ˆí„°ë§ ê°•í™”"

  low:
    threshold: 2.0      # Z-score 2.0-3.0
    color: "#17a2b8"    # íŒŒë€ìƒ‰
    description: "ì°¸ê³ ìš© ì•Œë¦¼"

# ì„œí”„ë ˆì…˜ ë£° (ì•Œë¦¼ ì–µì œ ê·œì¹™)
suppression:
  # ì „ì—­ ì„œí”„ë ˆì…˜ ì„¤ì •
  global:
    enabled: true
    # ë™ì¼ ì§€í‘œ ì—°ì† ì•Œë¦¼ ì–µì œ ì‹œê°„ (ë¶„)
    consecutive_alert_cooldown: 30
    # í•˜ë£¨ ìµœëŒ€ ì•Œë¦¼ ìˆ˜
    max_alerts_per_day: 100

  # ì‹œê°„ëŒ€ë³„ ì„œí”„ë ˆì…˜
  time_based:
    # ì•¼ê°„ ì‹œê°„ (22:00-06:00) ì„œí”„ë ˆì…˜
    nighttime:
      enabled: true
      start_hour: 22
      end_hour: 6
      suppressed_levels: ["low", "medium"]  # ë‚®ì€/ì¤‘ê°„ ì•Œë¦¼ë§Œ ì–µì œ

    # ì£¼ë§ ì„œí”„ë ˆì…˜
    weekend:
      enabled: false
      suppressed_levels: ["low"]

  # ì§€í‘œë³„ ì„œí”„ë ˆì…˜
  metric_based:
    cpu_usage:
      # CPU ìŠ¤íŒŒì´í¬ëŠ” 5ë¶„ê°„ ì–µì œ
      cooldown_minutes: 5
      max_hourly_alerts: 6

    memory_usage:
      # ë©”ëª¨ë¦¬ëŠ” 15ë¶„ê°„ ì–µì œ (ì²œì²œíˆ ë³€í™”)
      cooldown_minutes: 15
      max_hourly_alerts: 4

    disk_usage:
      # ë””ìŠ¤í¬ëŠ” 1ì‹œê°„ ì–µì œ (ë§¤ìš° ì²œì²œíˆ ë³€í™”)
      cooldown_minutes: 60
      max_hourly_alerts: 2

# ì•Œë¦¼ ì±„ë„ ì„¤ì •
notification:
  channels:
    slack:
      enabled: true
      webhook_url: "${SLACK_WEBHOOK_URL}"
      levels: ["critical", "high", "medium"]

    discord:
      enabled: false
      webhook_url: "${DISCORD_WEBHOOK_URL}"
      levels: ["critical", "high"]

    email:
      enabled: false
      smtp_server: "${SMTP_SERVER}"
      recipients: ["${ALERT_EMAIL}"]
      levels: ["critical"]

  # ì•Œë¦¼ ë©”ì‹œì§€ í…œí”Œë¦¿ (í•œêµ­ì–´)
  templates:
    critical: "ğŸš¨ [ê¸´ê¸‰] {metric} ì´ìƒíƒì§€: {value} (ì„ê³„ê°’: {threshold})"
    high: "âš ï¸ [ë†’ìŒ] {metric} ì´ìƒíƒì§€: {value} (ì„ê³„ê°’: {threshold})"
    medium: "âš¡ [ë³´í†µ] {metric} ì´ìƒíƒì§€: {value} (ì„ê³„ê°’: {threshold})"
    low: "â„¹ï¸ [ë‚®ìŒ] {metric} ì´ìƒíƒì§€: {value} (ì„ê³„ê°’: {threshold})"

# ë°±í…ŒìŠ¤íŠ¸ ë° íŠœë‹ ì„¤ì •
tuning:
  # ìë™ ì„ê³„ê°’ ì¡°ì • í™œì„±í™”
  auto_threshold_adjustment:
    enabled: false
    # ì¡°ì • ì£¼ê¸° (ì¼)
    adjustment_period_days: 30
    # ëª©í‘œ ì¼ì¼ ì•Œë¦¼ ìˆ˜
    target_daily_alerts: 10

  # ë°±í…ŒìŠ¤íŠ¸ ê¸°ë³¸ ì„¤ì •
  backtest:
    # í•™ìŠµ ê¸°ê°„ (ì¼)
    training_period_days: 90
    # í…ŒìŠ¤íŠ¸ ê¸°ê°„ (ì¼)
    test_period_days: 30
    # ëª©í‘œ ì¬í˜„ìœ¨ (0.0-1.0)
    target_recall: 0.85
    # ëª©í‘œ ì •ë°€ë„ (0.0-1.0)
    target_precision: 0.75

# ë©”íƒ€ë°ì´í„°
metadata:
  version: "1.0.0"
  created_by: "Claude Code Assistant"
  created_at: "2024-09-21"
  description: "ì´ìƒíƒì§€ ë° ì•Œë¦¼ ì •ì±… ê¸°ë³¸ ì„¤ì •"
  tags: ["anomaly", "detection", "alerting", "korean"]