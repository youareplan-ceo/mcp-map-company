<!DOCTYPE html>
<html lang="ko" class="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>MCP-MAP ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    animation: {
                        'pulse-slow': 'pulse 2s infinite',
                        'spin-slow': 'spin 2s linear infinite',
                        'shake': 'shake 0.5s ease-in-out'
                    },
                    keyframes: {
                        shake: {
                            '0%, 100%': { transform: 'translateX(0)' },
                            '25%': { transform: 'translateX(-5px)' },
                            '75%': { transform: 'translateX(5px)' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .toggle-switch {
            position: relative;
            width: 50px;
            height: 24px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .toggle-switch.active {
            background: #10b981;
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s ease;
        }

        .toggle-switch.active::after {
            transform: translateX(26px);
        }

        .log-level-info { color: #10b981; }
        .log-level-warning { color: #f59e0b; }
        .log-level-error { color: #ef4444; }

        /* ìš´ì˜ ì•Œë¦¼ í•„í„° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .ops-filter-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.8);
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .ops-filter-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            transform: translateY(-1px);
        }

        .ops-filter-btn.active {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            border-color: #3b82f6;
            color: white;
            box-shadow: 0 4px 8px rgba(59, 130, 246, 0.3);
        }

        /* Dark modeì—ì„œ ìš´ì˜ ì•Œë¦¼ í•„í„° ë²„íŠ¼ */
        .dark .ops-filter-btn {
            background: rgba(75, 85, 99, 0.6);
            border-color: rgba(107, 114, 128, 0.4);
            color: rgba(243, 244, 246, 0.8);
        }

        .dark .ops-filter-btn:hover {
            background: rgba(107, 114, 128, 0.8);
            color: #f3f4f6;
        }

        .dark .ops-filter-btn.active {
            background: linear-gradient(135deg, #3b82f6, #1e40af);
            border-color: #3b82f6;
            color: white;
        }

        /* Dark mode styles for charts */
        .dark .chart-container {
            background: rgba(31, 41, 55, 0.8);
        }

        .dark .chart-wrapper {
            background: rgba(17, 24, 39, 0.9);
        }

        /* Custom scrollbar for dark mode */
        .dark ::-webkit-scrollbar {
            width: 8px;
        }

        .dark ::-webkit-scrollbar-track {
            background: #374151;
        }

        .dark ::-webkit-scrollbar-thumb {
            background: #6b7280;
            border-radius: 4px;
        }

        .dark ::-webkit-scrollbar-thumb:hover {
            background: #9ca3af;
        }

        /* Transition for theme switch */
        * {
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }

        /* ë‚ ì§œ í•„í„° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .date-filter.active {
            background: linear-gradient(45deg, #3b82f6, #8b5cf6) !important;
            color: white !important;
        }

        /* ëª¨ë‹¬ ì• ë‹ˆë©”ì´ì…˜ */
        #alertDetailModal {
            transition: opacity 0.3s ease;
        }

        #alertDetailModal.show {
            display: flex !important;
            animation: modalFadeIn 0.3s ease;
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* ì•Œë¦¼ í•­ëª© hover íš¨ê³¼ */
        .alert-item {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            cursor: pointer;
        }

        .alert-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-pink-900 dark:from-gray-900 dark:via-gray-800 dark:to-black transition-all duration-300">
    <!-- Header with Dark Mode Toggle -->
    <header class="bg-white/10 dark:bg-gray-800/30 backdrop-blur-md border-b border-white/20 dark:border-gray-700/50 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <h1 class="text-2xl font-bold text-white dark:text-gray-100">
                        ğŸš€ MCP-MAP ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
                    </h1>
                    <span id="connectionStatus" class="px-3 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-400">
                        ì—°ê²° í™•ì¸ ì¤‘...
                    </span>
                </div>

                <!-- Dark Mode Toggle and Controls -->
                <div class="flex items-center space-x-4">
                    <!-- Dark Mode Toggle -->
                    <div class="flex items-center space-x-2">
                        <span class="text-sm text-white dark:text-gray-300">â˜€ï¸</span>
                        <button id="darkModeToggle" class="toggle-switch" aria-label="ë‹¤í¬ëª¨ë“œ í† ê¸€">
                        </button>
                        <span class="text-sm text-white dark:text-gray-300">ğŸŒ™</span>
                    </div>

                    <!-- Auto Refresh Toggle -->
                    <div class="flex items-center space-x-2">
                        <span class="text-sm text-white dark:text-gray-300">ìë™ ìƒˆë¡œê³ ì¹¨</span>
                        <button id="autoRefreshToggle" class="toggle-switch" aria-label="ìë™ ìƒˆë¡œê³ ì¹¨ í† ê¸€">
                        </button>
                    </div>

                    <!-- Manual Refresh -->
                    <button id="refreshBtn" class="bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center space-x-2">
                        <span>ğŸ”„</span>
                        <span>ìƒˆë¡œê³ ì¹¨</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto p-6 space-y-8">
        <!-- System Status Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <!-- Health Status Card -->
            <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
                <div class="flex items-center justify-between">
                    <div>
                        <h3 class="text-white dark:text-gray-100 text-sm font-medium opacity-75">ì‹œìŠ¤í…œ ìƒíƒœ</h3>
                        <p id="healthStatus" class="text-white dark:text-gray-100 text-2xl font-bold mt-2">í™•ì¸ ì¤‘...</p>
                    </div>
                    <div class="text-3xl">ğŸ¥</div>
                </div>
            </div>

            <!-- API Status Card -->
            <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
                <div class="flex items-center justify-between">
                    <div>
                        <h3 class="text-white dark:text-gray-100 text-sm font-medium opacity-75">API ìƒíƒœ</h3>
                        <p id="apiStatus" class="text-white dark:text-gray-100 text-2xl font-bold mt-2">í™•ì¸ ì¤‘...</p>
                    </div>
                    <div class="text-3xl">ğŸ”Œ</div>
                </div>
            </div>

            <!-- Database Status Card -->
            <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
                <div class="flex items-center justify-between">
                    <div>
                        <h3 class="text-white dark:text-gray-100 text-sm font-medium opacity-75">ë°ì´í„°ë² ì´ìŠ¤</h3>
                        <p id="dbStatus" class="text-white dark:text-gray-100 text-2xl font-bold mt-2">í™•ì¸ ì¤‘...</p>
                    </div>
                    <div class="text-3xl">ğŸ—„ï¸</div>
                </div>
            </div>

            <!-- Uptime Card -->
            <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
                <div class="flex items-center justify-between">
                    <div>
                        <h3 class="text-white dark:text-gray-100 text-sm font-medium opacity-75">ê°€ë™ ì‹œê°„</h3>
                        <p id="uptime" class="text-white dark:text-gray-100 text-2xl font-bold mt-2">-</p>
                    </div>
                    <div class="text-3xl">â±ï¸</div>
                </div>
            </div>
        </div>

        <!-- Real-time Metrics Panel -->
        <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold text-white dark:text-gray-100 flex items-center">
                    <span class="mr-3">ğŸ“Š</span>
                    ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­
                </h2>
                <div class="flex items-center space-x-4">
                    <div class="flex items-center text-white dark:text-gray-300 text-sm">
                        <div class="w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"></div>
                        ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
                    </div>
                    <button id="refreshMetricsBtn" class="bg-white bg-opacity-20 dark:bg-gray-600 dark:bg-opacity-50 hover:bg-opacity-30 text-white dark:text-gray-100 px-4 py-2 rounded-lg transition-all duration-200 flex items-center">
                        <span class="mr-2">ğŸ”„</span>
                        ë©”íŠ¸ë¦­ ìƒˆë¡œê³ ì¹¨
                    </button>
                </div>
            </div>

            <!-- Metrics Summary Cards -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-white dark:text-gray-300 text-sm opacity-75">í‰ê·  ì‘ë‹µì‹œê°„</p>
                            <p class="text-white dark:text-gray-100 text-2xl font-bold" id="avgResponseTime">-</p>
                            <p class="text-white dark:text-gray-400 text-xs opacity-60">milliseconds</p>
                        </div>
                        <div class="text-3xl">âš¡</div>
                    </div>
                </div>

                <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-white dark:text-gray-300 text-sm opacity-75">DB ì§€ì—°ì‹œê°„</p>
                            <p class="text-white dark:text-gray-100 text-2xl font-bold" id="dbLatency">-</p>
                            <p class="text-white dark:text-gray-400 text-xs opacity-60">milliseconds</p>
                        </div>
                        <div class="text-3xl">ğŸ—„ï¸</div>
                    </div>
                </div>

                <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-white dark:text-gray-300 text-sm opacity-75">í™œì„± ì‚¬ìš©ì</p>
                            <p class="text-white dark:text-gray-100 text-2xl font-bold" id="activeUsers">-</p>
                            <p class="text-white dark:text-gray-400 text-xs opacity-60">last 5 minutes</p>
                        </div>
                        <div class="text-3xl">ğŸ‘¥</div>
                    </div>
                </div>

                <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-white dark:text-gray-300 text-sm opacity-75">ì‹œìŠ¤í…œ CPU</p>
                            <p class="text-white dark:text-gray-100 text-2xl font-bold" id="systemCpu">-</p>
                            <p class="text-white dark:text-gray-400 text-xs opacity-60">percentage</p>
                        </div>
                        <div class="text-3xl">ğŸ’»</div>
                    </div>
                </div>
            </div>

            <!-- Charts Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Response Time Trend Chart -->
                <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm chart-container">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ“ˆ</span>
                        ì‘ë‹µì‹œê°„ ì¶”ì´
                    </h3>
                    <div class="relative chart-wrapper" style="height: 250px;">
                        <canvas id="realTimeResponseChart"></canvas>
                    </div>
                </div>

                <!-- System Resource Gauge -->
                <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm chart-container">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ¯</span>
                        ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤
                    </h3>
                    <div class="relative chart-wrapper" style="height: 250px;">
                        <canvas id="systemResourceGauge"></canvas>
                    </div>
                </div>

                <!-- DB Performance Chart -->
                <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm chart-container">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ—„ï¸</span>
                        DB ì„±ëŠ¥ ëª¨ë‹ˆí„°
                    </h3>
                    <div class="relative chart-wrapper" style="height: 250px;">
                        <canvas id="dbPerformanceChart"></canvas>
                    </div>
                </div>

                <!-- API Call Distribution -->
                <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm chart-container">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ”„</span>
                        API í˜¸ì¶œ ë¶„í¬
                    </h3>
                    <div class="relative chart-wrapper" style="height: 250px;">
                        <canvas id="apiCallsChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Recent Alerts Panel -->
        <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-white dark:text-gray-100 flex items-center">
                    <span class="mr-3">ğŸ””</span>
                    ìµœê·¼ ì•Œë¦¼
                </h2>
                <div class="flex gap-3">
                    <button id="refreshAlertsBtn" class="bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ”„</span>
                        ìƒˆë¡œê³ ì¹¨
                    </button>
                    <button id="testAlertBtn" class="bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ“¢</span>
                        í…ŒìŠ¤íŠ¸ ì•Œë¦¼
                    </button>
                </div>
            </div>

            <!-- Alert Statistics Cards -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <div class="bg-red-500/20 dark:bg-red-600/20 border border-red-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">ğŸš¨</div>
                    <div class="text-red-300 dark:text-red-200 text-sm font-medium">Critical</div>
                    <div id="criticalCount" class="text-red-100 text-2xl font-bold">0</div>
                </div>
                <div class="bg-orange-500/20 dark:bg-orange-600/20 border border-orange-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">âŒ</div>
                    <div class="text-orange-300 dark:text-orange-200 text-sm font-medium">Error</div>
                    <div id="errorCount" class="text-orange-100 text-2xl font-bold">0</div>
                </div>
                <div class="bg-yellow-500/20 dark:bg-yellow-600/20 border border-yellow-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">âš ï¸</div>
                    <div class="text-yellow-300 dark:text-yellow-200 text-sm font-medium">Warning</div>
                    <div id="warningCount" class="text-yellow-100 text-2xl font-bold">0</div>
                </div>
                <div class="bg-blue-500/20 dark:bg-blue-600/20 border border-blue-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">â„¹ï¸</div>
                    <div class="text-blue-300 dark:text-blue-200 text-sm font-medium">Info</div>
                    <div id="infoCount" class="text-blue-100 text-2xl font-bold">0</div>
                </div>
            </div>

            <!-- Alert Controls -->
            <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4 mb-4">
                <div class="flex flex-col gap-4">
                    <!-- ì²« ë²ˆì§¸ í–‰: ê²€ìƒ‰ ë° ë ˆë²¨ í•„í„° -->
                    <div class="flex flex-col md:flex-row gap-4">
                        <!-- Search Box -->
                        <div class="flex-1">
                            <input
                                type="text"
                                id="alertSearch"
                                placeholder="ì•Œë¦¼ ì œëª©ì´ë‚˜ ë©”ì‹œì§€ ê²€ìƒ‰..."
                                class="w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500"
                            />
                        </div>

                        <!-- Level Filter -->
                        <div>
                            <select
                                id="alertLevelFilter"
                                class="px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"
                            >
                                <option value="all">ëª¨ë“  ë ˆë²¨</option>
                                <option value="critical">ğŸš¨ Critical</option>
                                <option value="error">âŒ Error</option>
                                <option value="warning">âš ï¸ Warning</option>
                                <option value="info">â„¹ï¸ Info</option>
                            </select>
                        </div>

                        <!-- Clear Filters -->
                        <div>
                            <button
                                id="clearFiltersBtn"
                                class="px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors duration-200"
                            >
                                í•„í„° ì´ˆê¸°í™”
                            </button>
                        </div>
                    </div>

                    <!-- ë‘ ë²ˆì§¸ í–‰: ë‚ ì§œ í•„í„° ë° ë‚´ë³´ë‚´ê¸° -->
                    <div class="flex flex-col md:flex-row gap-4 items-center">
                        <!-- Date Filters -->
                        <div class="flex gap-2">
                            <button
                                id="dateFilterToday"
                                class="px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 text-sm date-filter active"
                                data-filter="today"
                            >
                                ğŸ“… ì˜¤ëŠ˜
                            </button>
                            <button
                                id="dateFilter7days"
                                class="px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors duration-200 text-sm date-filter"
                                data-filter="7days"
                            >
                                ğŸ“… 7ì¼
                            </button>
                            <button
                                id="dateFilter30days"
                                class="px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors duration-200 text-sm date-filter"
                                data-filter="30days"
                            >
                                ğŸ“… 30ì¼
                            </button>
                            <button
                                id="dateFilterAll"
                                class="px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors duration-200 text-sm date-filter"
                                data-filter="all"
                            >
                                ğŸ“… ì „ì²´
                            </button>
                        </div>

                        <!-- Export Buttons -->
                        <div class="flex gap-2 ml-auto">
                            <button
                                id="exportAlertsJSON"
                                class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors duration-200 text-sm flex items-center"
                            >
                                ğŸ“„ JSON ë‚´ë³´ë‚´ê¸°
                            </button>
                            <button
                                id="exportAlertsCSV"
                                class="px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition-colors duration-200 text-sm flex items-center"
                            >
                                ğŸ“Š CSV ë‚´ë³´ë‚´ê¸°
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Alerts List -->
            <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg overflow-hidden">
                <div class="p-4 border-b border-white/10 dark:border-gray-700 flex justify-between items-center">
                    <h3 class="text-white dark:text-gray-100 font-semibold">
                        <span id="alertsListTitle">ìµœê·¼ ì•Œë¦¼</span>
                        <span id="alertsCount" class="ml-2 text-sm text-white/60">(0ê°œ)</span>
                    </h3>
                    <div class="text-sm text-white/60">
                        <span id="currentPageInfo">í˜ì´ì§€ 1 / 1</span>
                    </div>
                </div>
                <div id="alertsList" class="max-h-80 overflow-y-auto">
                    <!-- Alert items will be populated here -->
                    <div class="p-4 text-center text-white/60 dark:text-gray-400">
                        ì•Œë¦¼ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
                    </div>
                </div>

                <!-- Pagination Controls -->
                <div id="alertsPagination" class="p-4 border-t border-white/10 dark:border-gray-700 flex justify-between items-center">
                    <div class="flex items-center gap-2">
                        <span class="text-white/60 text-sm">í˜ì´ì§€ë‹¹ í‘œì‹œ:</span>
                        <select
                            id="alertsPerPageSelect"
                            class="px-2 py-1 bg-white/10 border border-white/20 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                            <option value="10">10ê°œ</option>
                            <option value="20" selected>20ê°œ</option>
                            <option value="50">50ê°œ</option>
                            <option value="100">100ê°œ</option>
                        </select>
                    </div>

                    <div class="flex items-center gap-2">
                        <button
                            id="prevPageBtn"
                            class="px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"
                            disabled
                        >
                            â† ì´ì „
                        </button>
                        <span id="pageNumbers" class="flex gap-1">
                            <!-- Page numbers will be populated here -->
                        </span>
                        <button
                            id="nextPageBtn"
                            class="px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"
                            disabled
                        >
                            ë‹¤ìŒ â†’
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- System Resource Monitoring Panel -->
        <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold text-white dark:text-gray-100 flex items-center">
                    <span class="mr-3">ğŸ–¥ï¸</span>
                    ì‹œìŠ¤í…œ ìì› ëª¨ë‹ˆí„°ë§
                </h2>
                <div class="flex items-center space-x-4">
                    <div class="flex items-center text-white dark:text-gray-300 text-sm">
                        <div class="w-2 h-2 bg-blue-400 rounded-full mr-2 animate-pulse"></div>
                        ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
                    </div>
                    <button id="refreshSystemMetricsBtn" class="bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ”„</span>
                        ìì› ìƒˆë¡œê³ ì¹¨
                    </button>
                </div>
            </div>

            <!-- Resource Summary Cards -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <!-- CPU ì‚¬ìš©ë¥  ì¹´ë“œ -->
                <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-white dark:text-gray-300 text-sm opacity-75">CPU ì‚¬ìš©ë¥ </p>
                            <p class="text-white dark:text-gray-100 text-2xl font-bold" id="cpuUsagePercent">-</p>
                            <p class="text-white dark:text-gray-400 text-xs opacity-60">percentage</p>
                        </div>
                        <div class="text-3xl">ğŸ”¥</div>
                    </div>
                    <!-- CPU í”„ë¡œê·¸ë ˆìŠ¤ ë°” -->
                    <div class="mt-3 bg-gray-700 rounded-full h-2">
                        <div id="cpuProgressBar" class="bg-red-500 h-2 rounded-full transition-all duration-500" style="width: 0%"></div>
                    </div>
                </div>

                <!-- ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  ì¹´ë“œ -->
                <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-white dark:text-gray-300 text-sm opacity-75">ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ </p>
                            <p class="text-white dark:text-gray-100 text-2xl font-bold" id="memoryUsagePercent">-</p>
                            <p class="text-white dark:text-gray-400 text-xs opacity-60">percentage</p>
                        </div>
                        <div class="text-3xl">ğŸ’¾</div>
                    </div>
                    <!-- ë©”ëª¨ë¦¬ í”„ë¡œê·¸ë ˆìŠ¤ ë°” -->
                    <div class="mt-3 bg-gray-700 rounded-full h-2">
                        <div id="memoryProgressBar" class="bg-blue-500 h-2 rounded-full transition-all duration-500" style="width: 0%"></div>
                    </div>
                </div>

                <!-- ë””ìŠ¤í¬ ì‚¬ìš©ë¥  ì¹´ë“œ -->
                <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-white dark:text-gray-300 text-sm opacity-75">ë””ìŠ¤í¬ ì‚¬ìš©ë¥ </p>
                            <p class="text-white dark:text-gray-100 text-2xl font-bold" id="diskUsagePercent">-</p>
                            <p class="text-white dark:text-gray-400 text-xs opacity-60">percentage</p>
                        </div>
                        <div class="text-3xl">ğŸ’¿</div>
                    </div>
                    <!-- ë””ìŠ¤í¬ í”„ë¡œê·¸ë ˆìŠ¤ ë°” -->
                    <div class="mt-3 bg-gray-700 rounded-full h-2">
                        <div id="diskProgressBar" class="bg-green-500 h-2 rounded-full transition-all duration-500" style="width: 0%"></div>
                    </div>
                </div>

                <!-- ë„¤íŠ¸ì›Œí¬ I/O ì¹´ë“œ -->
                <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-white dark:text-gray-300 text-sm opacity-75">ë„¤íŠ¸ì›Œí¬ I/O</p>
                            <p class="text-white dark:text-gray-100 text-2xl font-bold" id="networkIORate">-</p>
                            <p class="text-white dark:text-gray-400 text-xs opacity-60">MB/s</p>
                        </div>
                        <div class="text-3xl">ğŸŒ</div>
                    </div>
                    <!-- ë„¤íŠ¸ì›Œí¬ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ í‘œì‹œê¸° -->
                    <div class="mt-3 flex justify-between text-xs">
                        <span class="text-green-400">â†‘ <span id="networkUpload">0</span> MB/s</span>
                        <span class="text-blue-400">â†“ <span id="networkDownload">0</span> MB/s</span>
                    </div>
                </div>
            </div>

            <!-- System Resource Charts Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- CPU ì‚¬ìš©ë¥  ì¶”ì´ ì°¨íŠ¸ -->
                <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm chart-container">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ”¥</span>
                        CPU ì‚¬ìš©ë¥  ì¶”ì´
                    </h3>
                    <div class="relative chart-wrapper" style="height: 250px;">
                        <canvas id="cpuUsageChart"></canvas>
                    </div>
                </div>

                <!-- ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  ì¶”ì´ ì°¨íŠ¸ -->
                <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm chart-container">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ’¾</span>
                        ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  ì¶”ì´
                    </h3>
                    <div class="relative chart-wrapper" style="height: 250px;">
                        <canvas id="memoryUsageChart"></canvas>
                    </div>
                </div>

                <!-- ë””ìŠ¤í¬ I/O ì°¨íŠ¸ -->
                <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm chart-container">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ’¿</span>
                        ë””ìŠ¤í¬ I/O ì¶”ì´
                    </h3>
                    <div class="relative chart-wrapper" style="height: 250px;">
                        <canvas id="diskIOChart"></canvas>
                    </div>
                </div>

                <!-- ë„¤íŠ¸ì›Œí¬ I/O ì°¨íŠ¸ -->
                <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm chart-container">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸŒ</span>
                        ë„¤íŠ¸ì›Œí¬ I/O ì¶”ì´
                    </h3>
                    <div class="relative chart-wrapper" style="height: 250px;">
                        <canvas id="networkIOChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- System Information Summary -->
            <div class="mt-6 bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                <h3 class="text-white dark:text-gray-100 font-semibold mb-4 flex items-center">
                    <span class="mr-2">â„¹ï¸</span>
                    ì‹œìŠ¤í…œ ì •ë³´ ìš”ì•½
                </h3>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <!-- ì‹œìŠ¤í…œ ìƒíƒœ -->
                    <div class="text-center">
                        <div class="text-2xl font-bold text-green-400" id="systemHealthScore">95</div>
                        <div class="text-white/60 text-sm">ì‹œìŠ¤í…œ ê±´ê°•ë„</div>
                    </div>

                    <!-- í‰ê·  ë¶€í•˜ -->
                    <div class="text-center">
                        <div class="text-2xl font-bold text-blue-400" id="avgLoadLevel">0.5</div>
                        <div class="text-white/60 text-sm">í‰ê·  ë¶€í•˜</div>
                    </div>

                    <!-- í™œì„± í”„ë¡œì„¸ìŠ¤ -->
                    <div class="text-center">
                        <div class="text-2xl font-bold text-yellow-400" id="activeProcesses">245</div>
                        <div class="text-white/60 text-sm">í™œì„± í”„ë¡œì„¸ìŠ¤</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Security Panel -->
        <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-white dark:text-gray-100 flex items-center">
                    <span class="mr-3">ğŸ”’</span>
                    ë³´ì•ˆ ëª¨ë‹ˆí„°ë§
                </h2>
                <div class="flex space-x-2">
                    <button id="refreshSecurityBtn" class="bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ”„</span>
                        ìƒˆë¡œê³ ì¹¨
                    </button>
                    <button id="testSecurityAlertBtn" class="bg-yellow-600 hover:bg-yellow-700 dark:bg-yellow-500 dark:hover:bg-yellow-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ””</span>
                        í…ŒìŠ¤íŠ¸ ì•Œë¦¼
                    </button>
                    <button id="exportSecurityLogBtn" class="bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ“</span>
                        ë¡œê·¸ ë‚´ë³´ë‚´ê¸°
                    </button>
                </div>
            </div>

            <!-- Security Statistics Cards -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <div class="bg-red-500/20 dark:bg-red-600/20 border border-red-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">ğŸš«</div>
                    <div class="text-red-300 dark:text-red-200 text-sm font-medium">ì°¨ë‹¨ëœ IP</div>
                    <div id="blockedIpCount" class="text-red-100 text-2xl font-bold">0</div>
                </div>
                <div class="bg-yellow-500/20 dark:bg-yellow-600/20 border border-yellow-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">âš ï¸</div>
                    <div class="text-yellow-300 dark:text-yellow-200 text-sm font-medium">Rate Limit ìœ„ë°˜</div>
                    <div id="rateLimitViolations" class="text-yellow-100 text-2xl font-bold">0</div>
                </div>
                <div class="bg-green-500/20 dark:bg-green-600/20 border border-green-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">âœ…</div>
                    <div class="text-green-300 dark:text-green-200 text-sm font-medium">í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸</div>
                    <div id="whitelistCount" class="text-green-100 text-2xl font-bold">0</div>
                </div>
                <div class="bg-blue-500/20 dark:bg-blue-600/20 border border-blue-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">ğŸ‘€</div>
                    <div class="text-blue-300 dark:text-blue-200 text-sm font-medium">ëª¨ë‹ˆí„°ë§ IP</div>
                    <div id="monitoredIpCount" class="text-blue-100 text-2xl font-bold">0</div>
                </div>
            </div>

            <!-- Security Charts and Lists Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Security Events Chart -->
                <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ“Š</span>
                        ì°¨ë‹¨ ì´ë²¤íŠ¸ ì¶”ì´
                    </h3>
                    <div class="relative h-64">
                        <canvas id="securityEventsChart"></canvas>
                    </div>
                </div>

                <!-- Blocked IPs List -->
                <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸš«</span>
                        ì°¨ë‹¨ëœ IP ëª©ë¡
                    </h3>
                    <div id="blockedIpsList" class="max-h-64 overflow-y-auto space-y-2">
                        <div class="text-center text-white/60 dark:text-gray-400 py-8">
                            ì°¨ë‹¨ëœ IPê°€ ì—†ìŠµë‹ˆë‹¤.
                        </div>
                    </div>
                </div>
            </div>

            <!-- IP Whitelist Management -->
            <div class="mt-6 bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                <h3 class="text-white dark:text-gray-100 font-semibold mb-4 flex items-center">
                    <span class="mr-2">âšª</span>
                    IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬
                </h3>
                <div class="flex flex-col sm:flex-row gap-3">
                    <input
                        type="text"
                        id="whitelistIpInput"
                        placeholder="IP ì£¼ì†Œ ì…ë ¥ (ì˜ˆ: 192.168.1.100)"
                        class="flex-1 bg-white/10 dark:bg-gray-800/50 border border-white/30 dark:border-gray-600 rounded-lg px-4 py-2 text-white dark:text-gray-100 placeholder-white/50 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    >
                    <button
                        id="addWhitelistBtn"
                        class="bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 text-white px-6 py-2 rounded-lg transition-colors duration-200 flex items-center"
                    >
                        <span class="mr-2">â•</span>
                        ì¶”ê°€
                    </button>
                </div>
                <div id="whitelistResult" class="mt-3 text-sm hidden"></div>
            </div>

            <!-- Security Alerts and Trends -->
            <div class="mt-6 bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                <h3 class="text-white dark:text-gray-100 font-semibold mb-4 flex items-center">
                    <span class="mr-2">ğŸ””</span>
                    ì‹¤ì‹œê°„ ë³´ì•ˆ ì•Œë¦¼ ì„¤ì •
                </h3>

                <!-- Alert Settings -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div class="space-y-3">
                        <h4 class="text-white dark:text-gray-200 text-sm font-medium">ì•Œë¦¼ ì±„ë„ ì„¤ì •</h4>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" id="enableSlackAlerts" class="rounded border-gray-300">
                                <span class="text-white dark:text-gray-300 text-sm">ğŸ”” Slack ì•Œë¦¼</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" id="enableDiscordAlerts" class="rounded border-gray-300">
                                <span class="text-white dark:text-gray-300 text-sm">ğŸ® Discord ì•Œë¦¼</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" id="enableEmailAlerts" class="rounded border-gray-300">
                                <span class="text-white dark:text-gray-300 text-sm">ğŸ“§ ì´ë©”ì¼ ì•Œë¦¼</span>
                            </label>
                        </div>
                    </div>

                    <div class="space-y-3">
                        <h4 class="text-white dark:text-gray-200 text-sm font-medium">ì•Œë¦¼ ì„ê³„ê°’ ì„¤ì •</h4>
                        <div class="space-y-2">
                            <label class="flex items-center justify-between">
                                <span class="text-white dark:text-gray-300 text-sm">ì°¨ë‹¨ ì„ê³„ê°’:</span>
                                <input type="number" id="blockThreshold" value="100" min="1" max="1000"
                                       class="w-20 px-2 py-1 bg-white/10 border border-white/30 rounded text-white text-sm">
                            </label>
                            <label class="flex items-center justify-between">
                                <span class="text-white dark:text-gray-300 text-sm">ì•Œë¦¼ ê°„ê²©(ë¶„):</span>
                                <input type="number" id="alertInterval" value="5" min="1" max="60"
                                       class="w-20 px-2 py-1 bg-white/10 border border-white/30 rounded text-white text-sm">
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Recent Security Events -->
                <div class="border-t border-white/10 pt-4">
                    <h4 class="text-white dark:text-gray-200 text-sm font-medium mb-3">ìµœê·¼ ë³´ì•ˆ ì´ë²¤íŠ¸</h4>
                    <div id="recentSecurityEvents" class="space-y-2 max-h-32 overflow-y-auto">
                        <div class="text-center text-white/60 dark:text-gray-400 py-4">
                            ë³´ì•ˆ ì´ë²¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Security Metrics Summary -->
            <div class="mt-6 bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                <h3 class="text-white dark:text-gray-100 font-semibold mb-4 flex items-center">
                    <span class="mr-2">ğŸ“Š</span>
                    ë³´ì•ˆ ì§€í‘œ ìš”ì•½
                </h3>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <!-- Today's Stats -->
                    <div class="text-center">
                        <div class="text-2xl font-bold text-blue-400" id="todayBlocked">0</div>
                        <div class="text-white/60 text-sm">ì˜¤ëŠ˜ ì°¨ë‹¨ëœ IP</div>
                    </div>

                    <!-- Average Response Time -->
                    <div class="text-center">
                        <div class="text-2xl font-bold text-green-400" id="avgResponseTime">0ms</div>
                        <div class="text-white/60 text-sm">í‰ê·  ì‘ë‹µì‹œê°„</div>
                    </div>

                    <!-- Security Score -->
                    <div class="text-center">
                        <div class="text-2xl font-bold text-yellow-400" id="securityScore">95</div>
                        <div class="text-white/60 text-sm">ë³´ì•ˆ ì ìˆ˜</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ğŸ” ë³´ì•ˆ ë¡œê·¸ íŒ¨ë„ -->
        <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-white dark:text-gray-100 flex items-center">
                    <span class="mr-3">ğŸ”</span>
                    ë³´ì•ˆ ë¡œê·¸ ëª¨ë‹ˆí„°ë§
                </h2>
                <button id="refreshSecurityLogsBtn" class="bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                    <span class="mr-2">ğŸ”„</span>
                    ìƒˆë¡œê³ ì¹¨
                </button>
            </div>

            <!-- ë³´ì•ˆ ë¡œê·¸ í†µê³„ ì¹´ë“œ -->
            <div class="grid grid-cols-4 gap-4 mb-6">
                <div class="bg-red-500/20 dark:bg-red-600/20 border border-red-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">ğŸš«</div>
                    <div class="text-red-300 dark:text-red-200 text-sm font-medium">ì°¨ë‹¨ëœ IP</div>
                    <div id="securityLogBlockedIpCount" class="text-red-100 text-2xl font-bold">0</div>
                </div>
                <div class="bg-yellow-500/20 dark:bg-yellow-600/20 border border-yellow-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">âš ï¸</div>
                    <div class="text-yellow-300 dark:text-yellow-200 text-sm font-medium">Rate Limit ìœ„ë°˜</div>
                    <div id="securityLogRateLimitCount" class="text-yellow-100 text-2xl font-bold">0</div>
                </div>
                <div class="bg-green-500/20 dark:bg-green-600/20 border border-green-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">âœ…</div>
                    <div class="text-green-300 dark:text-green-200 text-sm font-medium">í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸</div>
                    <div id="securityLogWhitelistCount" class="text-green-100 text-2xl font-bold">0</div>
                </div>
                <div class="bg-blue-500/20 dark:bg-blue-600/20 border border-blue-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">ğŸ‘€</div>
                    <div class="text-blue-300 dark:text-blue-200 text-sm font-medium">ëª¨ë‹ˆí„°ë§ IP</div>
                    <div id="securityLogMonitoringCount" class="text-blue-100 text-2xl font-bold">0</div>
                </div>
            </div>

            <!-- ë³´ì•ˆ ë¡œê·¸ ì°¨íŠ¸ -->
            <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm mb-6">
                <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                    <span class="mr-2">ğŸ“Š</span>
                    ë³´ì•ˆ ì´ë²¤íŠ¸ ì¶”ì´
                </h3>
                <div class="relative chart-wrapper" style="height: 120px;">
                    <canvas id="securityChart"></canvas>
                </div>
            </div>

            <!-- ë³´ì•ˆ ë¡œê·¸ ëª©ë¡ -->
            <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg overflow-hidden">
                <div class="p-4 border-b border-white/10 dark:border-gray-700 flex justify-between items-center">
                    <h3 class="text-white dark:text-gray-100 font-semibold">ìµœê·¼ ë³´ì•ˆ ë¡œê·¸</h3>
                    <div class="text-sm text-white/60">ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸</div>
                </div>
                <div id="securityLogList" class="max-h-64 overflow-y-auto text-sm">
                    <div class="p-4 text-center text-white/60 dark:text-gray-400">
                        ë³´ì•ˆ ë¡œê·¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
                    </div>
                </div>
            </div>
        </div>

        <!-- ğŸ”” ìš´ì˜ ì•Œë¦¼ í†µí•© íŒ¨ë„ -->
        <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-white dark:text-gray-100 flex items-center">
                    <span class="mr-3">ğŸ””</span>
                    ìš´ì˜ ì•Œë¦¼ í†µí•©
                </h2>
                <div class="flex items-center space-x-2">
                    <button id="refreshOpsNotificationsBtn" class="bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ”„</span>
                        ìƒˆë¡œê³ ì¹¨
                    </button>
                    <button id="testOpsNotificationBtn" class="bg-yellow-600 hover:bg-yellow-700 dark:bg-yellow-500 dark:hover:bg-yellow-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ””</span>
                        í…ŒìŠ¤íŠ¸ ì•Œë¦¼
                    </button>
                </div>
            </div>

            <!-- í†µí•© ì•Œë¦¼ í†µê³„ ì¹´ë“œ -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <div class="bg-red-500/20 dark:bg-red-600/20 border border-red-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">ğŸš¨</div>
                    <div class="text-red-300 dark:text-red-200 text-sm font-medium">ê¸´ê¸‰ ì•Œë¦¼</div>
                    <div id="opsNotificationsCriticalCount" class="text-red-100 text-2xl font-bold">0</div>
                </div>
                <div class="bg-orange-500/20 dark:bg-orange-600/20 border border-orange-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">âŒ</div>
                    <div class="text-orange-300 dark:text-orange-200 text-sm font-medium">ì˜¤ë¥˜ ì•Œë¦¼</div>
                    <div id="opsNotificationsErrorCount" class="text-orange-100 text-2xl font-bold">0</div>
                </div>
                <div class="bg-yellow-500/20 dark:bg-yellow-600/20 border border-yellow-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">âš ï¸</div>
                    <div class="text-yellow-300 dark:text-yellow-200 text-sm font-medium">ê²½ê³  ì•Œë¦¼</div>
                    <div id="opsNotificationsWarningCount" class="text-yellow-100 text-2xl font-bold">0</div>
                </div>
                <div class="bg-blue-500/20 dark:bg-blue-600/20 border border-blue-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">â„¹ï¸</div>
                    <div class="text-blue-300 dark:text-blue-200 text-sm font-medium">ì •ë³´ ì•Œë¦¼</div>
                    <div id="opsNotificationsInfoCount" class="text-blue-100 text-2xl font-bold">0</div>
                </div>
            </div>

            <!-- ìµœê·¼ ìš´ì˜ ì•Œë¦¼ ëª©ë¡ -->
            <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg overflow-hidden">
                <div class="p-4 border-b border-white/10 dark:border-gray-700 flex justify-between items-center">
                    <h3 class="text-white dark:text-gray-100 font-semibold">ìµœê·¼ ìš´ì˜ ì•Œë¦¼</h3>
                    <div class="flex items-center space-x-2">
                        <div class="text-sm text-white/60">ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸</div>
                        <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                    </div>
                </div>
                <div id="opsNotificationsList" class="max-h-80 overflow-y-auto">
                    <div class="p-4 text-center text-white/60 dark:text-gray-400">
                        ìš´ì˜ ì•Œë¦¼ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
                    </div>
                </div>
            </div>

            <!-- ì†ŒìŠ¤ë³„ í•„í„° ë²„íŠ¼ -->
            <div class="mt-4 flex flex-wrap gap-2">
                <button class="ops-filter-btn active" data-filter="all">
                    ğŸ“Š ì „ì²´
                </button>
                <button class="ops-filter-btn" data-filter="security">
                    ğŸ”’ ë³´ì•ˆ
                </button>
                <button class="ops-filter-btn" data-filter="backup">
                    ğŸ”§ ë°±ì—…
                </button>
                <button class="ops-filter-btn" data-filter="system">
                    ğŸ–¥ï¸ ì‹œìŠ¤í…œ
                </button>
            </div>
        </div>

        <!-- System Logs Panel -->
        <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
            <div class="flex items-center justify-between mb-4">
                <h2 class="text-xl font-bold text-white dark:text-gray-100 flex items-center">
                    <span class="mr-3">ğŸ“‹</span>
                    ì‹œìŠ¤í…œ ë¡œê·¸
                </h2>
                <button id="clearLogsBtn" class="bg-red-600 hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200">
                    ë¡œê·¸ ì§€ìš°ê¸°
                </button>
            </div>
            <div id="logContainer" class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4 h-64 overflow-y-auto font-mono text-sm">
                <div class="text-green-400 dark:text-green-300">ì‹œìŠ¤í…œ ë¡œê·¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
            </div>
        </div>

        <!-- ğŸ“Š CI/CD ì„±ëŠ¥ ë¦¬í¬íŠ¸ íŒ¨ë„ -->
        <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-white dark:text-gray-100 flex items-center">
                    <span class="mr-3">ğŸ“Š</span>
                    CI/CD ì„±ëŠ¥ ë¦¬í¬íŠ¸
                </h2>
                <div class="flex items-center space-x-2">
                    <button id="refreshCIReportsBtn" class="bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ”„</span>
                        ìƒˆë¡œê³ ì¹¨
                    </button>
                    <button id="downloadCIReportMdBtn" class="bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ“„</span>
                        Markdown
                    </button>
                    <button id="downloadCIReportJsonBtn" class="bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ“‹</span>
                        JSON
                    </button>
                    <button id="toggleCIJsonViewBtn" class="bg-gray-600 hover:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ‘ï¸</span>
                        JSON ë³´ê¸°
                    </button>
                </div>
            </div>

            <!-- CI/CD ì„±ëŠ¥ í†µê³„ ì¹´ë“œ -->
            <div class="grid grid-cols-1 md:grid-cols-5 gap-4 mb-6">
                <!-- ì„±ê³µë¥  ì¹´ë“œ -->
                <div class="bg-green-500/20 dark:bg-green-600/20 border border-green-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">âœ…</div>
                    <div class="text-green-300 dark:text-green-200 text-sm font-medium">ì„±ê³µë¥ </div>
                    <div id="ciSuccessRate" class="text-green-100 text-2xl font-bold">-</div>
                    <div class="text-green-400 dark:text-green-300 text-xs">%</div>
                </div>

                <!-- ì‹¤íŒ¨ìœ¨ ì¹´ë“œ (ì„±ëŠ¥ ì´ìŠˆ í•˜ì´ë¼ì´íŠ¸) -->
                <div id="ciFailureRateCard" class="bg-red-500/20 dark:bg-red-600/20 border border-red-400/30 rounded-lg p-4 text-center transition-all duration-300">
                    <div class="text-2xl mb-2">âŒ</div>
                    <div class="text-red-300 dark:text-red-200 text-sm font-medium">ì‹¤íŒ¨ìœ¨</div>
                    <div id="ciFailureRate" class="text-red-100 text-2xl font-bold">-</div>
                    <div class="text-red-400 dark:text-red-300 text-xs">%</div>
                    <!-- ê²½ê³  í‘œì‹œ (ì‹¤íŒ¨ìœ¨ >10% ì‹œ) -->
                    <div id="ciFailureWarning" class="hidden mt-2 text-xs text-red-200 bg-red-500/30 rounded px-2 py-1">
                        âš ï¸ ì„ê³„ê°’ ì´ˆê³¼
                    </div>
                </div>

                <!-- í‰ê·  ì‹¤í–‰ ì‹œê°„ ì¹´ë“œ -->
                <div class="bg-blue-500/20 dark:bg-blue-600/20 border border-blue-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">â±ï¸</div>
                    <div class="text-blue-300 dark:text-blue-200 text-sm font-medium">í‰ê·  ì‹¤í–‰ ì‹œê°„</div>
                    <div id="ciAvgExecutionTime" class="text-blue-100 text-2xl font-bold">-</div>
                    <div class="text-blue-400 dark:text-blue-300 text-xs">ë¶„</div>
                </div>

                <!-- ì´ ì‹¤í–‰ íšŸìˆ˜ ì¹´ë“œ -->
                <div class="bg-purple-500/20 dark:bg-purple-600/20 border border-purple-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">ğŸ”„</div>
                    <div class="text-purple-300 dark:text-purple-200 text-sm font-medium">ì´ ì‹¤í–‰</div>
                    <div id="ciTotalRuns" class="text-purple-100 text-2xl font-bold">-</div>
                    <div class="text-purple-400 dark:text-purple-300 text-xs">ê°œ</div>
                </div>

                <!-- ìµœê·¼ ì‹¤í–‰ ë‚ ì§œ ì¹´ë“œ -->
                <div class="bg-gray-500/20 dark:bg-gray-600/20 border border-gray-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">ğŸ“…</div>
                    <div class="text-gray-300 dark:text-gray-200 text-sm font-medium">ìµœê·¼ ì‹¤í–‰</div>
                    <div id="ciLastExecution" class="text-gray-100 text-lg font-bold">-</div>
                    <div class="text-gray-400 dark:text-gray-300 text-xs">ì‹œê°„</div>
                </div>
            </div>

            <!-- CI/CD ì„±ëŠ¥ ì°¨íŠ¸ -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <!-- ìµœê·¼ ë¹Œë“œ íŠ¸ë Œë“œ ì°¨íŠ¸ (Chart.js ë¼ì¸ ì°¨íŠ¸, ìµœê·¼ 10íšŒ ì‹¤í–‰) -->
                <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ“ˆ</span>
                        ìµœê·¼ ë¹Œë“œ íŠ¸ë Œë“œ (ìµœê·¼ 10íšŒ)
                    </h3>
                    <div class="relative" style="height: 280px;">
                        <canvas id="ciBuildTrendChart"></canvas>
                    </div>
                </div>

                <!-- ì„±ê³µ/ì‹¤íŒ¨ ë¶„í¬ ë„ë„› ì°¨íŠ¸ -->
                <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ©</span>
                        ì„±ê³µ/ì‹¤íŒ¨ ë¶„í¬
                    </h3>
                    <div class="relative" style="height: 280px;">
                        <canvas id="ciSuccessDistributionChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- ìµœê·¼ CI ë¦¬í¬íŠ¸ ëª©ë¡ -->
            <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg overflow-hidden">
                <div class="p-4 border-b border-white/10 dark:border-gray-700 flex justify-between items-center">
                    <h3 class="text-white dark:text-gray-100 font-semibold">ìµœê·¼ CI ë¦¬í¬íŠ¸</h3>
                    <div class="flex items-center space-x-2">
                        <!-- ìƒíƒœ í•„í„° ë²„íŠ¼ -->
                        <button id="ciFilterAllBtn" class="ci-status-filter-btn bg-blue-600 text-white px-3 py-1 rounded-lg text-sm transition-colors duration-200">
                            ì „ì²´
                        </button>
                        <button id="ciFilterSuccessBtn" class="ci-status-filter-btn bg-white/10 text-white/80 px-3 py-1 rounded-lg text-sm transition-colors duration-200">
                            ì„±ê³µ
                        </button>
                        <button id="ciFilterFailureBtn" class="ci-status-filter-btn bg-white/10 text-white/80 px-3 py-1 rounded-lg text-sm transition-colors duration-200">
                            ì‹¤íŒ¨
                        </button>
                    </div>
                </div>

                <div id="ciReportsList" class="max-h-80 overflow-y-auto p-4 space-y-3">
                    <!-- CI ë¦¬í¬íŠ¸ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    <div class="text-center text-gray-400 py-8">
                        <div class="text-4xl mb-2">ğŸ“Š</div>
                        <div>CI ë¦¬í¬íŠ¸ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ëŠ” ì¤‘...</div>
                    </div>
                </div>
            </div>

            <!-- JSON ë³´ê¸° í† ê¸€ ì„¹ì…˜ (ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€) -->
            <div id="ciJsonViewSection" class="hidden mt-6">
                <div class="bg-black/40 dark:bg-gray-900/60 rounded-lg p-4">
                    <div class="flex items-center justify-between mb-3">
                        <h4 class="text-white dark:text-gray-100 font-semibold">JSON ë°ì´í„° ì›ë³¸</h4>
                        <button id="copyCIJsonBtn" class="bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded text-sm transition-colors duration-200">
                            ğŸ“‹ ë³µì‚¬
                        </button>
                    </div>
                    <pre id="ciJsonContent" class="bg-gray-900 text-green-400 p-4 rounded overflow-x-auto text-sm max-h-64 overflow-y-auto"></pre>
                </div>
            </div>
        </div>

        <!-- ğŸš¨ CI/CD ì—ëŸ¬ ë¡œê·¸ ë¶„ì„ íŒ¨ë„ -->
        <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-white dark:text-gray-100 flex items-center">
                    <span class="mr-3">ğŸš¨</span>
                    CI/CD ì—ëŸ¬ ë¡œê·¸ ë¶„ì„
                </h2>
                <div class="flex items-center space-x-2">
                    <button id="refreshErrorAnalysisBtn" class="bg-red-600 hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ”„</span>
                        ìƒˆë¡œê³ ì¹¨
                    </button>
                    <button id="runErrorAnalysisBtn" class="bg-orange-600 hover:bg-orange-700 dark:bg-orange-500 dark:hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ”</span>
                        ë¶„ì„ ì‹¤í–‰
                    </button>
                    <button id="downloadErrorReportBtn" class="bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ“¥</span>
                        ë¦¬í¬íŠ¸ ë‹¤ìš´ë¡œë“œ
                    </button>
                </div>
            </div>

            <!-- ì—ëŸ¬ í†µê³„ ì¹´ë“œ -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <!-- ì‹¤íŒ¨ìœ¨ ì¹´ë“œ -->
                <div id="errorFailureRateCard" class="bg-gradient-to-br from-red-500/20 to-red-600/30 border border-red-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸ“Š</span>
                        <div class="text-red-300 text-sm font-medium">ì‹¤íŒ¨ìœ¨</div>
                    </div>
                    <div id="errorFailureRate" class="text-red-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-red-200 text-xs">%</div>
                    <div id="errorFailureWarning" class="hidden mt-2 text-red-200 text-xs animate-pulse">
                        âš ï¸ ì„ê³„ì¹˜ ì´ˆê³¼
                    </div>
                </div>

                <!-- ì´ ì—ëŸ¬ ìˆ˜ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-orange-500/20 to-orange-600/30 border border-orange-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸ”¢</span>
                        <div class="text-orange-300 text-sm font-medium">ì´ ì—ëŸ¬ ìˆ˜</div>
                    </div>
                    <div id="errorTotalCount" class="text-orange-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-orange-200 text-xs">ê°œ</div>
                </div>

                <!-- ì—ëŸ¬ ìœ í˜• ìˆ˜ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-yellow-500/20 to-yellow-600/30 border border-yellow-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸ“‹</span>
                        <div class="text-yellow-300 text-sm font-medium">ì—ëŸ¬ ìœ í˜•</div>
                    </div>
                    <div id="errorTypeCount" class="text-yellow-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-yellow-200 text-xs">ì¢…ë¥˜</div>
                </div>

                <!-- ë¶„ì„ ê¸°ê°„ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-blue-500/20 to-blue-600/30 border border-blue-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸ“…</span>
                        <div class="text-blue-300 text-sm font-medium">ë¶„ì„ ê¸°ê°„</div>
                    </div>
                    <div id="errorAnalysisPeriod" class="text-blue-100 text-3xl font-bold mb-1">7</div>
                    <div class="text-blue-200 text-xs">ì¼</div>
                </div>
            </div>

            <!-- ì—ëŸ¬ ë¶„í¬ ì°¨íŠ¸ -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <!-- ì—ëŸ¬ ìœ í˜•ë³„ ë¶„í¬ ì°¨íŠ¸ -->
                <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ“Š</span>
                        ì—ëŸ¬ ìœ í˜•ë³„ ë¶„í¬
                    </h3>
                    <div class="relative h-64">
                        <canvas id="errorTypeDistributionChart"></canvas>
                    </div>
                </div>

                <!-- ì—ëŸ¬ ë¹ˆë„ ì¶”ì´ ì°¨íŠ¸ -->
                <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ“ˆ</span>
                        ì¼ë³„ ì—ëŸ¬ ë°œìƒ ì¶”ì´
                    </h3>
                    <div class="relative h-64">
                        <canvas id="errorTrendChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- ìµœê·¼ ì‹¤íŒ¨ ì‚¬ë¡€ ë¡œê·¸ ë¯¸ë¦¬ë³´ê¸° -->
            <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg overflow-hidden mb-6">
                <div class="p-4 border-b border-white/10 dark:border-gray-700 flex justify-between items-center">
                    <h3 class="text-white dark:text-gray-100 font-semibold">ìµœê·¼ ì‹¤íŒ¨ ì‚¬ë¡€ (Top 10)</h3>
                    <div class="flex items-center space-x-2">
                        <!-- ì—ëŸ¬ ìœ í˜• í•„í„° -->
                        <select id="errorTypeFilter" class="bg-gray-700 text-white px-3 py-1 rounded text-sm border border-gray-600">
                            <option value="all">ì „ì²´ ìœ í˜•</option>
                            <option value="BUILD_ERROR">ë¹Œë“œ ì—ëŸ¬</option>
                            <option value="TEST_FAILURE">í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨</option>
                            <option value="TIMEOUT_ERROR">íƒ€ì„ì•„ì›ƒ</option>
                            <option value="MODULE_ERROR">ëª¨ë“ˆ ì—ëŸ¬</option>
                            <option value="SYNTAX_ERROR">ë¬¸ë²• ì—ëŸ¬</option>
                        </select>
                    </div>
                </div>

                <div id="errorCasesList" class="max-h-80 overflow-y-auto p-4 space-y-3">
                    <!-- ì—ëŸ¬ ì‚¬ë¡€ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    <div class="text-center text-gray-400 py-8">
                        <div class="text-4xl mb-2">ğŸš¨</div>
                        <div>ì—ëŸ¬ ë¶„ì„ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ëŠ” ì¤‘...</div>
                    </div>
                </div>
            </div>

            <!-- ì•Œë¦¼ ì„ê³„ì¹˜ ì„¤ì • UI -->
            <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                <h3 class="text-white dark:text-gray-100 font-semibold mb-4 flex items-center">
                    <span class="mr-2">âš™ï¸</span>
                    ì•Œë¦¼ ì„ê³„ì¹˜ ì„¤ì •
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <!-- Critical ì„ê³„ì¹˜ -->
                    <div class="space-y-2">
                        <label class="text-red-300 text-sm font-medium">ğŸš¨ Critical (%)</label>
                        <input
                            id="criticalThreshold"
                            type="number"
                            value="10"
                            min="0"
                            max="100"
                            class="w-full bg-gray-700 text-white px-3 py-2 rounded border border-gray-600 focus:border-red-500 focus:outline-none"
                        >
                        <div class="text-red-200 text-xs">ì‹¤íŒ¨ìœ¨ > 10%</div>
                    </div>

                    <!-- Error ì„ê³„ì¹˜ -->
                    <div class="space-y-2">
                        <label class="text-orange-300 text-sm font-medium">âŒ Error (%)</label>
                        <input
                            id="errorThreshold"
                            type="number"
                            value="5"
                            min="0"
                            max="100"
                            class="w-full bg-gray-700 text-white px-3 py-2 rounded border border-gray-600 focus:border-orange-500 focus:outline-none"
                        >
                        <div class="text-orange-200 text-xs">ì‹¤íŒ¨ìœ¨ 5-10%</div>
                    </div>

                    <!-- Warning ì„ê³„ì¹˜ -->
                    <div class="space-y-2">
                        <label class="text-yellow-300 text-sm font-medium">âš ï¸ Warning (%)</label>
                        <input
                            id="warningThreshold"
                            type="number"
                            value="1"
                            min="0"
                            max="100"
                            class="w-full bg-gray-700 text-white px-3 py-2 rounded border border-gray-600 focus:border-yellow-500 focus:outline-none"
                        >
                        <div class="text-yellow-200 text-xs">ì‹¤íŒ¨ìœ¨ 1-5%</div>
                    </div>

                    <!-- ì„¤ì • ì €ì¥ ë²„íŠ¼ -->
                    <div class="space-y-2">
                        <label class="text-gray-300 text-sm font-medium">ì„¤ì • ê´€ë¦¬</label>
                        <button id="saveThresholdsBtn" class="w-full bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded transition-colors duration-200">
                            ğŸ’¾ ì €ì¥
                        </button>
                        <div class="text-gray-300 text-xs">ì„ê³„ì¹˜ ì €ì¥</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ğŸ“… ì—°ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ íŒ¨ë„ -->
        <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-white dark:text-gray-100 flex items-center">
                    <span class="mr-3">ğŸ“…</span>
                    ì—°ê°„ ìš´ì˜ ë¦¬í¬íŠ¸
                </h2>
                <div class="flex items-center space-x-2">
                    <button id="refreshYearlyReportBtn" class="bg-amber-600 hover:bg-amber-700 dark:bg-amber-500 dark:hover:bg-amber-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ”„</span>
                        ìƒˆë¡œê³ ì¹¨
                    </button>
                    <button id="generateYearlyReportBtn" class="bg-indigo-600 hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ“Š</span>
                        ë¦¬í¬íŠ¸ ìƒì„±
                    </button>
                    <button id="downloadYearlyReportMdBtn" class="bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ“„</span>
                        Markdown
                    </button>
                    <button id="downloadYearlyReportJsonBtn" class="bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ“‹</span>
                        JSON
                    </button>
                    <button id="sendYearlyNotificationBtn" class="bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ“¢</span>
                        ì•Œë¦¼ ì „ì†¡
                    </button>
                </div>
            </div>

            <!-- ì—°ê°„ ì„±ê³¼ ì ìˆ˜ ì¹´ë“œ -->
            <div class="grid grid-cols-1 md:grid-cols-5 gap-4 mb-6">
                <!-- ì¢…í•© ì„±ê³¼ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-purple-500/20 to-purple-600/30 border border-purple-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸ†</span>
                        <div class="text-purple-300 text-sm font-medium">ì¢…í•© ì„±ê³¼</div>
                    </div>
                    <div id="yearlyTotalScore" class="text-purple-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-purple-200 text-xs">/100ì </div>
                    <div id="yearlyGrade" class="text-purple-200 text-sm font-medium mt-1">-</div>
                </div>

                <!-- ë³´ì•ˆ ì ìˆ˜ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-red-500/20 to-red-600/30 border border-red-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸ›¡ï¸</span>
                        <div class="text-red-300 text-sm font-medium">ë³´ì•ˆ ì ìˆ˜</div>
                    </div>
                    <div id="yearlySecurityScore" class="text-red-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-red-200 text-xs">/30ì </div>
                </div>

                <!-- ë°±ì—… ì ìˆ˜ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-blue-500/20 to-blue-600/30 border border-blue-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸ“¦</span>
                        <div class="text-blue-300 text-sm font-medium">ë°±ì—… ì ìˆ˜</div>
                    </div>
                    <div id="yearlyBackupScore" class="text-blue-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-blue-200 text-xs">/30ì </div>
                </div>

                <!-- ì‹œìŠ¤í…œ ì ìˆ˜ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-orange-500/20 to-orange-600/30 border border-orange-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">âš™ï¸</span>
                        <div class="text-orange-300 text-sm font-medium">ì‹œìŠ¤í…œ ì ìˆ˜</div>
                    </div>
                    <div id="yearlySystemScore" class="text-orange-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-orange-200 text-xs">/20ì </div>
                </div>

                <!-- CI/CD ì ìˆ˜ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-green-500/20 to-green-600/30 border border-green-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸš€</span>
                        <div class="text-green-300 text-sm font-medium">CI/CD ì ìˆ˜</div>
                    </div>
                    <div id="yearlyCIScore" class="text-green-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-green-200 text-xs">/20ì </div>
                </div>
            </div>

            <!-- ì—°ê°„ ì¶”ì´ ì°¨íŠ¸ -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <!-- ë¶„ê¸°ë³„ ì„±ê³¼ ì¶”ì´ ì°¨íŠ¸ -->
                <div class="bg-black/20 dark:bg-gray-900/30 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ“ˆ</span>
                        ë¶„ê¸°ë³„ ì„±ê³¼ ì¶”ì´
                    </h3>
                    <div style="height: 250px;">
                        <canvas id="yearlyQuarterlyChart"></canvas>
                    </div>
                </div>

                <!-- ì—°ê°„ ì„±ê³¼ ë¶„í¬ ì°¨íŠ¸ -->
                <div class="bg-black/20 dark:bg-gray-900/30 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ°</span>
                        ì„±ê³¼ ì˜ì—­ë³„ ë¶„í¬
                    </h3>
                    <div style="height: 250px;">
                        <canvas id="yearlyDistributionChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- ì´ë²¤íŠ¸ ì§‘ì¤‘ êµ¬ê°„ ë° ì¹˜ëª…ì  ì´ë²¤íŠ¸ -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <!-- ì¹˜ëª…ì  ì´ë²¤íŠ¸ Top5 -->
                <div class="bg-black/20 dark:bg-gray-900/30 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸš¨</span>
                        ì¹˜ëª…ì  ì´ë²¤íŠ¸ Top5
                    </h3>
                    <div id="yearlyCriticalEventsList" class="space-y-3">
                        <div class="text-gray-400 dark:text-gray-500 text-center py-4">
                            ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
                        </div>
                    </div>
                </div>

                <!-- ì—°ê°„ í†µê³„ ìš”ì•½ -->
                <div class="bg-black/20 dark:bg-gray-900/30 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ“Š</span>
                        ì—°ê°„ í†µê³„ ìš”ì•½
                    </h3>
                    <div id="yearlyStatsSummary" class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300 dark:text-gray-400">ë³´ì•ˆ ì´ë²¤íŠ¸:</span>
                            <span id="yearlySecurityEvents" class="text-white font-medium">-</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300 dark:text-gray-400">ë°±ì—… ì„±ê³µë¥ :</span>
                            <span id="yearlyBackupSuccessRate" class="text-white font-medium">-</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300 dark:text-gray-400">ì‹œìŠ¤í…œ ê°€ë™ì‹œê°„:</span>
                            <span id="yearlySystemUptime" class="text-white font-medium">-</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300 dark:text-gray-400">CI ë¹Œë“œ ìˆ˜:</span>
                            <span id="yearlyCIBuilds" class="text-white font-medium">-</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300 dark:text-gray-400">í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€:</span>
                            <span id="yearlyTestCoverage" class="text-white font-medium">-</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ë¦¬í¬íŠ¸ ìƒì„±/ë‹¤ìš´ë¡œë“œ ì»¨íŠ¸ë¡¤ -->
            <div class="bg-black/20 dark:bg-gray-900/30 rounded-lg p-4">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-white dark:text-gray-100 font-semibold flex items-center">
                        <span class="mr-2">ğŸ“‹</span>
                        ë¦¬í¬íŠ¸ ê´€ë¦¬
                    </h3>
                    <div class="flex items-center space-x-2">
                        <select id="yearlyReportYearSelect" class="bg-gray-800 dark:bg-gray-700 text-white border border-gray-600 rounded px-3 py-1 text-sm">
                            <option value="2024">2024ë…„</option>
                            <option value="2023">2023ë…„</option>
                            <option value="2022">2022ë…„</option>
                        </select>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- ë¦¬í¬íŠ¸ ìƒì„± ìƒíƒœ -->
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300 dark:text-gray-400">ë¦¬í¬íŠ¸ ìƒíƒœ:</span>
                            <span id="yearlyReportStatus" class="text-yellow-400 font-medium">ì¤€ë¹„ ì¤‘</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300 dark:text-gray-400">ë§ˆì§€ë§‰ ìƒì„±:</span>
                            <span id="yearlyReportLastGenerated" class="text-white font-medium">-</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300 dark:text-gray-400">íŒŒì¼ í¬ê¸°:</span>
                            <span id="yearlyReportFileSize" class="text-white font-medium">-</span>
                        </div>
                    </div>

                    <!-- ì•Œë¦¼ ë° ê³µìœ  -->
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300 dark:text-gray-400">ë§ˆì§€ë§‰ ì•Œë¦¼:</span>
                            <span id="yearlyLastNotification" class="text-white font-medium">-</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300 dark:text-gray-400">ì•Œë¦¼ ì±„ë„:</span>
                            <div class="flex space-x-1">
                                <span id="yearlySlackStatus" class="text-xs px-2 py-1 rounded bg-gray-600 text-gray-300">Slack</span>
                                <span id="yearlyDiscordStatus" class="text-xs px-2 py-1 rounded bg-gray-600 text-gray-300">Discord</span>
                                <span id="yearlyEmailStatus" class="text-xs px-2 py-1 rounded bg-gray-600 text-gray-300">Email</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ì§„í–‰ë¥  í‘œì‹œ (ë¦¬í¬íŠ¸ ìƒì„± ì¤‘ì¼ ë•Œ) -->
                <div id="yearlyReportProgress" class="hidden mt-4">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-gray-300 text-sm">ë¦¬í¬íŠ¸ ìƒì„± ì¤‘...</span>
                        <span id="yearlyProgressPercent" class="text-white text-sm font-medium">0%</span>
                    </div>
                    <div class="w-full bg-gray-700 rounded-full h-2">
                        <div id="yearlyProgressBar" class="bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ğŸ“… ì›”ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ íŒ¨ë„ -->
        <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-white dark:text-gray-100 flex items-center">
                    <span class="mr-3">ğŸ“…</span>
                    ì›”ê°„ ìš´ì˜ ë¦¬í¬íŠ¸
                </h2>
                <div class="flex items-center space-x-2">
                    <button id="refreshMonthlyReportBtn" class="bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ”„</span>
                        ìƒˆë¡œê³ ì¹¨
                    </button>
                    <button id="generateMonthlyReportBtn" class="bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ“Š</span>
                        ë¦¬í¬íŠ¸ ìƒì„±
                    </button>
                    <button id="downloadMonthlyReportBtn" class="bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ“¥</span>
                        ë‹¤ìš´ë¡œë“œ
                    </button>
                </div>
            </div>

            <!-- ì›”ê°„ ì„±ê³¼ ì ìˆ˜ ì¹´ë“œë“¤ -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                <!-- ë³´ì•ˆ ì ìˆ˜ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-red-500/20 to-red-600/30 border border-red-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸ›¡ï¸</span>
                        <div class="text-red-300 dark:text-red-200 text-sm font-medium">ë³´ì•ˆ ì ìˆ˜</div>
                    </div>
                    <div id="monthlySecurityScore" class="text-red-100 text-3xl font-bold mb-1">0</div>
                    <div class="text-red-200 text-xs">/40ì </div>
                </div>

                <!-- ë°±ì—… ì ìˆ˜ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-blue-500/20 to-blue-600/30 border border-blue-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸ“¦</span>
                        <div class="text-blue-300 dark:text-blue-200 text-sm font-medium">ë°±ì—… ì ìˆ˜</div>
                    </div>
                    <div id="monthlyBackupScore" class="text-blue-100 text-3xl font-bold mb-1">0</div>
                    <div class="text-blue-200 text-xs">/40ì </div>
                </div>

                <!-- ì‹œìŠ¤í…œ ì ìˆ˜ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-green-500/20 to-green-600/30 border border-green-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸ’¾</span>
                        <div class="text-green-300 dark:text-green-200 text-sm font-medium">ì‹œìŠ¤í…œ ì ìˆ˜</div>
                    </div>
                    <div id="monthlySystemScore" class="text-green-100 text-3xl font-bold mb-1">0</div>
                    <div class="text-green-200 text-xs">/20ì </div>
                </div>

                <!-- ì´ì  ë° ë“±ê¸‰ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-yellow-500/20 to-yellow-600/30 border border-yellow-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸ“ˆ</span>
                        <div class="text-yellow-300 dark:text-yellow-200 text-sm font-medium">ì¢…í•© ì„±ê³¼</div>
                    </div>
                    <div id="monthlyTotalScore" class="text-yellow-100 text-3xl font-bold mb-1">0</div>
                    <div id="monthlyPerformanceGrade" class="text-yellow-200 text-xs font-medium">ë“±ê¸‰ í™•ì¸ ì¤‘...</div>
                </div>
            </div>

            <!-- ì›”ê°„ ì„±ê³¼ ì¶”ì´ ì°¨íŠ¸ -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <!-- ì„±ê³¼ ì ìˆ˜ ì¶”ì´ ì°¨íŠ¸ -->
                <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ“Š</span>
                        ì›”ë³„ ì„±ê³¼ ì ìˆ˜ ì¶”ì´ (ìµœê·¼ 6ê°œì›”)
                    </h3>
                    <div class="relative" style="height: 300px;">
                        <canvas id="monthlyPerformanceTrendChart"></canvas>
                    </div>
                </div>

                <!-- ì„±ê³¼ ë“±ê¸‰ ë¶„í¬ ì°¨íŠ¸ -->
                <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ†</span>
                        ì›”ë³„ ì„±ê³¼ ë“±ê¸‰ ë¶„í¬
                    </h3>
                    <div class="relative" style="height: 300px;">
                        <canvas id="monthlyGradeDistributionChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- ì›”ê°„ ë¦¬í¬íŠ¸ ìƒì„¸ ì •ë³´ -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                <!-- ë³´ì•ˆ í˜„í™© ìš”ì•½ -->
                <div class="bg-red-500/10 dark:bg-red-600/10 border border-red-400/20 rounded-lg p-4">
                    <h4 class="text-red-300 dark:text-red-200 font-semibold mb-3 flex items-center">
                        <span class="mr-2">ğŸ›¡ï¸</span>
                        ë³´ì•ˆ í˜„í™© (30ì¼)
                    </h4>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-red-200">ì´ ì°¨ë‹¨ IP:</span>
                            <span id="monthlyBlockedIPs" class="text-red-100 font-medium">0íšŒ</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-red-200">ê³ ìœ  ì°¨ë‹¨ IP:</span>
                            <span id="monthlyUniqueIPs" class="text-red-100 font-medium">0ê°œ</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-red-200">Rate Limit ìœ„ë°˜:</span>
                            <span id="monthlyRateLimit" class="text-red-100 font-medium">0íšŒ</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-red-200">ë³´ì•ˆ ì´ë²¤íŠ¸:</span>
                            <span id="monthlySecurityEvents" class="text-red-100 font-medium">0íšŒ</span>
                        </div>
                    </div>
                </div>

                <!-- ë°±ì—… í˜„í™© ìš”ì•½ -->
                <div class="bg-blue-500/10 dark:bg-blue-600/10 border border-blue-400/20 rounded-lg p-4">
                    <h4 class="text-blue-300 dark:text-blue-200 font-semibold mb-3 flex items-center">
                        <span class="mr-2">ğŸ“¦</span>
                        ë°±ì—… í˜„í™© (30ì¼)
                    </h4>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-blue-200">ì„±ê³µí•œ ë°±ì—…:</span>
                            <span id="monthlySuccessfulBackups" class="text-blue-100 font-medium">0íšŒ</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-blue-200">ì‹¤íŒ¨í•œ ë°±ì—…:</span>
                            <span id="monthlyFailedBackups" class="text-blue-100 font-medium">0íšŒ</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-blue-200">ì„±ê³µë¥ :</span>
                            <span id="monthlyBackupSuccessRate" class="text-blue-100 font-medium">0%</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-blue-200">ì •ë¦¬ ì‘ì—…:</span>
                            <span id="monthlyCleanupOps" class="text-blue-100 font-medium">0íšŒ</span>
                        </div>
                    </div>
                </div>

                <!-- ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ìš”ì•½ -->
                <div class="bg-green-500/10 dark:bg-green-600/10 border border-green-400/20 rounded-lg p-4">
                    <h4 class="text-green-300 dark:text-green-200 font-semibold mb-3 flex items-center">
                        <span class="mr-2">ğŸ’¾</span>
                        ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ (30ì¼)
                    </h4>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-green-200">í‰ê·  ë””ìŠ¤í¬ ì‚¬ìš©ë¥ :</span>
                            <span id="monthlyAvgDiskUsage" class="text-green-100 font-medium">0%</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-green-200">ìµœëŒ€ ë””ìŠ¤í¬ ì‚¬ìš©ë¥ :</span>
                            <span id="monthlyMaxDiskUsage" class="text-green-100 font-medium">0%</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-green-200">ë³´ì•ˆ ë¡œê·¸ í¬ê¸°:</span>
                            <span id="monthlyLogSize" class="text-green-100 font-medium">0MB</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-green-200">ë°±ì—… ì €ì¥ì†Œ í¬ê¸°:</span>
                            <span id="monthlyBackupSize" class="text-green-100 font-medium">0GB</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ìµœì‹  ì›”ê°„ ë¦¬í¬íŠ¸ ëª©ë¡ ë° ë‹¤ìš´ë¡œë“œ -->
            <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg overflow-hidden">
                <div class="p-4 border-b border-white/10 dark:border-gray-700 flex justify-between items-center">
                    <h3 class="text-white dark:text-gray-100 font-semibold">ìµœê·¼ ì›”ê°„ ë¦¬í¬íŠ¸</h3>
                    <div class="flex items-center space-x-2">
                        <!-- ê¸°ê°„ ì„ íƒ ë“œë¡­ë‹¤ìš´ -->
                        <select id="monthlyReportPeriodSelect" class="bg-gray-700 text-white px-3 py-1 rounded text-sm border border-gray-600 focus:outline-none focus:border-blue-500">
                            <option value="current">ì´ë²ˆ ë‹¬</option>
                            <option value="last-1">ì§€ë‚œ ë‹¬</option>
                            <option value="last-2">2ê°œì›” ì „</option>
                            <option value="last-3">3ê°œì›” ì „</option>
                            <option value="last-6">6ê°œì›” ì „</option>
                        </select>
                        <!-- í¬ë§· ì„ íƒ ë²„íŠ¼ -->
                        <button id="downloadMarkdownBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-lg text-sm transition-colors duration-200">
                            Markdown
                        </button>
                        <button id="downloadJsonBtn" class="bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded-lg text-sm transition-colors duration-200">
                            JSON
                        </button>
                    </div>
                </div>

                <div id="monthlyReportsList" class="max-h-64 overflow-y-auto p-4 space-y-3">
                    <!-- ì›”ê°„ ë¦¬í¬íŠ¸ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    <div class="text-center text-gray-400 py-8">
                        <div class="text-4xl mb-2">ğŸ“…</div>
                        <div>ì›”ê°„ ë¦¬í¬íŠ¸ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ëŠ” ì¤‘...</div>
                        <div class="text-sm text-gray-500 mt-2">ì²« ë²ˆì§¸ ë¦¬í¬íŠ¸ ìƒì„±ê¹Œì§€ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
                    </div>
                </div>
            </div>

            <!-- ì›”ê°„ ë¦¬í¬íŠ¸ ê¶Œì¥ì‚¬í•­ -->
            <div id="monthlyRecommendationsSection" class="mt-6 hidden">
                <div class="bg-yellow-500/10 dark:bg-yellow-600/10 border border-yellow-400/20 rounded-lg p-4">
                    <h4 class="text-yellow-300 dark:text-yellow-200 font-semibold mb-3 flex items-center">
                        <span class="mr-2">ğŸ’¡</span>
                        ì›”ê°„ ê¶Œì¥ì‚¬í•­
                    </h4>
                    <div id="monthlyRecommendationsList" class="space-y-2 text-sm text-yellow-200">
                        <!-- ê¶Œì¥ì‚¬í•­ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    </div>
                </div>
            </div>

            <!-- ë‹¤ìŒ ë‹¬ ëª©í‘œ -->
            <div id="nextMonthGoalsSection" class="mt-6 hidden">
                <div class="bg-purple-500/10 dark:bg-purple-600/10 border border-purple-400/20 rounded-lg p-4">
                    <h4 class="text-purple-300 dark:text-purple-200 font-semibold mb-3 flex items-center">
                        <span class="mr-2">ğŸ¯</span>
                        ë‹¤ìŒ ë‹¬ ëª©í‘œ
                    </h4>
                    <div id="nextMonthGoalsList" class="space-y-2 text-sm text-purple-200">
                        <div>â€¢ ì¢…í•© ì„±ê³¼ ì ìˆ˜ 85ì  ì´ìƒ ë‹¬ì„±</div>
                        <div>â€¢ ë³´ì•ˆ ì´ë²¤íŠ¸ 20% ê°ì†Œ</div>
                        <div>â€¢ ë°±ì—… ì„±ê³µë¥  98% ì´ìƒ ìœ ì§€</div>
                        <div>â€¢ ì‹œìŠ¤í…œ ìë™í™” ë° ëª¨ë‹ˆí„°ë§ ê°•í™”</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ğŸ› ï¸ ìë™ ì™„í™” & ëŸ°ë¶ íŒ¨ë„ -->
        <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-white dark:text-gray-100 flex items-center">
                    <span class="mr-3">ğŸ› ï¸</span>
                    ìë™ ì™„í™” & ëŸ°ë¶
                </h2>
                <div class="flex items-center space-x-2">
                    <button id="refreshAutoRemediationBtn" class="bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ”„</span>
                        ìƒˆë¡œê³ ì¹¨
                    </button>
                    <button id="runAutoRemediationBtn" class="bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸš€</span>
                        ìë™ ì™„í™” ì‹¤í–‰
                    </button>
                    <button id="openRunbookViewerBtn" class="bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ“–</span>
                        ëŸ°ë¶ ë·°ì–´
                    </button>
                </div>
            </div>

            <!-- ìë™ ì™„í™” ìƒíƒœ ì¹´ë“œ -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <!-- ì‹¤í–‰ ê°€ëŠ¥í•œ ì•¡ì…˜ ìˆ˜ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-green-500/20 to-green-600/30 border border-green-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸš€</span>
                        <div class="text-green-300 text-sm font-medium">ì‹¤í–‰ ê°€ëŠ¥ ì•¡ì…˜</div>
                    </div>
                    <div id="availableActionsCount" class="text-green-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-green-200 text-xs">ê°œ</div>
                    <div id="availableActionsStatus" class="mt-2 text-green-200 text-xs">
                        ëŒ€ê¸° ì¤‘
                    </div>
                </div>

                <!-- ìµœê·¼ ì„±ê³µë¥  ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-blue-500/20 to-blue-600/30 border border-blue-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸ“Š</span>
                        <div class="text-blue-300 text-sm font-medium">ì„±ê³µë¥ </div>
                    </div>
                    <div id="remediationSuccessRate" class="text-blue-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-blue-200 text-xs">%</div>
                    <div id="successRateTrend" class="mt-2 text-blue-200 text-xs">
                        í‰ê°€ ì¤‘
                    </div>
                </div>

                <!-- ì‚¬ìš© ê°€ëŠ¥í•œ ëŸ°ë¶ ìˆ˜ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-purple-500/20 to-purple-600/30 border border-purple-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸ“š</span>
                        <div class="text-purple-300 text-sm font-medium">ì‚¬ìš© ê°€ëŠ¥ ëŸ°ë¶</div>
                    </div>
                    <div id="availableRunbooksCount" class="text-purple-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-purple-200 text-xs">ê°œ</div>
                </div>

                <!-- ë§ˆì§€ë§‰ ì‹¤í–‰ ì‹œê°„ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-orange-500/20 to-orange-600/30 border border-orange-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">â°</span>
                        <div class="text-orange-300 text-sm font-medium">ë§ˆì§€ë§‰ ì‹¤í–‰</div>
                    </div>
                    <div id="lastRemediationTime" class="text-orange-100 text-lg font-bold mb-1">-</div>
                    <div class="text-orange-200 text-xs">ì‹œê°„ ì „</div>
                </div>
            </div>

            <!-- ìë™ ì™„í™” ì„¤ì • -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <!-- ì™„í™” ëª¨ë“œ ì„¤ì • -->
                <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">âš™ï¸</span>
                        ì™„í™” ëª¨ë“œ ì„¤ì •
                    </h3>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between">
                            <span class="text-white dark:text-gray-300">ë“œë¼ì´ëŸ° ëª¨ë“œ</span>
                            <div class="toggle-switch active" id="dryRunToggle">
                                <span class="toggle-text">ON</span>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-white dark:text-gray-300">ìë™ ì‹¤í–‰</span>
                            <div class="toggle-switch" id="autoExecuteToggle">
                                <span class="toggle-text">OFF</span>
                            </div>
                        </div>
                        <div class="space-y-2">
                            <label class="text-white dark:text-gray-300 text-sm">ìµœëŒ€ ì•¡ì…˜ ìˆ˜:</label>
                            <input type="number" id="maxActionsInput" value="10" min="1" max="50"
                                   class="w-full bg-white/10 dark:bg-gray-800/50 border border-white/30 dark:border-gray-600 rounded-lg px-3 py-2 text-white dark:text-gray-100">
                        </div>
                        <div class="space-y-2">
                            <label class="text-white dark:text-gray-300 text-sm">ì¬ì‹œë„ ê°„ê²© (ë¶„):</label>
                            <input type="number" id="retryIntervalInput" value="15" min="5" max="120"
                                   class="w-full bg-white/10 dark:bg-gray-800/50 border border-white/30 dark:border-gray-600 rounded-lg px-3 py-2 text-white dark:text-gray-100">
                        </div>
                    </div>
                </div>

                <!-- ì—ëŸ¬ ìœ í˜•ë³„ ìš°ì„ ìˆœìœ„ -->
                <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ¯</span>
                        ì—ëŸ¬ ìœ í˜•ë³„ ìš°ì„ ìˆœìœ„
                    </h3>
                    <div id="errorTypePriorities" class="space-y-2 max-h-48 overflow-y-auto">
                        <!-- ìš°ì„ ìˆœìœ„ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    </div>
                </div>
            </div>

            <!-- ì‹¤í–‰ ì´ë ¥ ë° ë¡œê·¸ -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <!-- ìµœê·¼ ì™„í™” ì•¡ì…˜ ì´ë ¥ -->
                <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-white dark:text-gray-100 text-lg font-semibold flex items-center">
                            <span class="mr-2">ğŸ“‹</span>
                            ìµœê·¼ ì™„í™” ì•¡ì…˜ ì´ë ¥
                        </h3>
                        <button id="clearHistoryBtn" class="text-red-400 hover:text-red-300 text-sm">
                            ì§€ìš°ê¸°
                        </button>
                    </div>
                    <div id="remediationHistoryList" class="space-y-2 max-h-64 overflow-y-auto">
                        <div class="text-center text-white/60 dark:text-gray-400 py-8">
                            ì™„í™” ì•¡ì…˜ ì´ë ¥ì´ ì—†ìŠµë‹ˆë‹¤.
                        </div>
                    </div>
                </div>

                <!-- ëŸ°ë¶ ë¹ ë¥¸ ì•¡ì„¸ìŠ¤ -->
                <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ“–</span>
                        ëŸ°ë¶ ë¹ ë¥¸ ì•¡ì„¸ìŠ¤
                    </h3>
                    <div class="space-y-2">
                        <select id="runbookCategoryFilter" class="w-full bg-white/10 dark:bg-gray-800/50 border border-white/30 dark:border-gray-600 rounded-lg px-3 py-2 text-white dark:text-gray-100">
                            <option value="all">ëª¨ë“  ì¹´í…Œê³ ë¦¬</option>
                            <option value="build_failure">ë¹Œë“œ ì‹¤íŒ¨</option>
                            <option value="test_failure">í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨</option>
                            <option value="deployment">ë°°í¬ ë¬¸ì œ</option>
                            <option value="infrastructure">ì¸í”„ë¼ ë¬¸ì œ</option>
                            <option value="security">ë³´ì•ˆ ë¬¸ì œ</option>
                            <option value="dependency">ì˜ì¡´ì„± ë¬¸ì œ</option>
                        </select>
                        <div id="quickRunbooksList" class="space-y-1 max-h-48 overflow-y-auto">
                            <!-- ëŸ°ë¶ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ -->
            <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                    <span class="mr-2">ğŸ“º</span>
                    ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
                </h3>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                    <!-- í™œì„± í”„ë¡œì„¸ìŠ¤ -->
                    <div>
                        <h4 class="text-white dark:text-gray-300 text-sm font-medium mb-2">í™œì„± ì™„í™” í”„ë¡œì„¸ìŠ¤</h4>
                        <div id="activeRemediationProcesses" class="bg-white/5 dark:bg-gray-800/30 rounded-lg p-3 min-h-[100px] max-h-32 overflow-y-auto">
                            <div class="text-center text-white/60 dark:text-gray-400 py-4 text-sm">
                                í™œì„± í”„ë¡œì„¸ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤.
                            </div>
                        </div>
                    </div>

                    <!-- ëŒ€ê¸° ì¤‘ì¸ ì•¡ì…˜ -->
                    <div>
                        <h4 class="text-white dark:text-gray-300 text-sm font-medium mb-2">ëŒ€ê¸° ì¤‘ì¸ ì•¡ì…˜</h4>
                        <div id="pendingRemediationActions" class="bg-white/5 dark:bg-gray-800/30 rounded-lg p-3 min-h-[100px] max-h-32 overflow-y-auto">
                            <div class="text-center text-white/60 dark:text-gray-400 py-4 text-sm">
                                ëŒ€ê¸° ì¤‘ì¸ ì•¡ì…˜ì´ ì—†ìŠµë‹ˆë‹¤.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ğŸ§ª CI ì•ˆì •ì„± ì‹œë®¬ë ˆì´ì…˜ íŒ¨ë„ -->
        <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-white dark:text-gray-100 flex items-center">
                    <span class="mr-3">ğŸ§ª</span>
                    CI ì•ˆì •ì„± ì‹œë®¬ë ˆì´ì…˜
                </h2>
                <div class="flex items-center space-x-2">
                    <button id="refreshSimulationBtn" class="bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ”„</span>
                        ìƒˆë¡œê³ ì¹¨
                    </button>
                    <button id="runSimulationBtn" class="bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸš€</span>
                        ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰
                    </button>
                    <button id="validateRunbookBtn" class="bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ“š</span>
                        ëŸ°ë¶ ê²€ì¦
                    </button>
                </div>
            </div>

            <!-- ì‹œë®¬ë ˆì´ì…˜ ì„¤ì • íŒ¨ë„ -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <!-- ì‹œë®¬ë ˆì´ì…˜ ë§¤ê°œë³€ìˆ˜ ì„¤ì • -->
                <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">âš™ï¸</span>
                        ì‹œë®¬ë ˆì´ì…˜ ì„¤ì •
                    </h3>
                    <div class="space-y-4">
                        <div class="space-y-2">
                            <div class="flex justify-between items-center">
                                <label class="text-white dark:text-gray-300 text-sm">ì‹¤íŒ¨ìœ¨ (%)</label>
                                <span id="failRateValue" class="text-white dark:text-gray-100 text-sm font-bold">15</span>
                            </div>
                            <input type="range" id="failRateSlider" min="0" max="50" value="15" step="1"
                                   class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider">
                        </div>
                        <div class="space-y-2">
                            <div class="flex justify-between items-center">
                                <label class="text-white dark:text-gray-300 text-sm">í”Œë˜í‚¤ìœ¨ (%)</label>
                                <span id="flakyRateValue" class="text-white dark:text-gray-100 text-sm font-bold">5</span>
                            </div>
                            <input type="range" id="flakyRateSlider" min="0" max="30" value="5" step="1"
                                   class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider">
                        </div>
                        <div class="space-y-2">
                            <div class="flex justify-between items-center">
                                <label class="text-white dark:text-gray-300 text-sm">ë°˜ë³µíšŸìˆ˜</label>
                                <span id="runsValue" class="text-white dark:text-gray-100 text-sm font-bold">100</span>
                            </div>
                            <input type="range" id="runsSlider" min="10" max="500" value="100" step="10"
                                   class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider">
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-white dark:text-gray-300">ë“œë¼ì´ëŸ° ëª¨ë“œ</span>
                            <div class="toggle-switch active" id="dryRunToggle">
                                <span class="toggle-text">ON</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸° -->
                <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ“Š</span>
                        ì˜ˆìƒ ê²°ê³¼
                    </h3>
                    <div class="space-y-3">
                        <div class="flex justify-between">
                            <span class="text-white dark:text-gray-300">ì˜ˆìƒ ì„±ê³µë¥ :</span>
                            <span id="expectedSuccessRate" class="text-green-400 font-bold">80%</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-white dark:text-gray-300">ì˜ˆìƒ ì‹¤íŒ¨ ìˆ˜:</span>
                            <span id="expectedFailures" class="text-red-400 font-bold">15íšŒ</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-white dark:text-gray-300">ì˜ˆìƒ í”Œë˜í‚¤ ìˆ˜:</span>
                            <span id="expectedFlaky" class="text-yellow-400 font-bold">5íšŒ</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-white dark:text-gray-300">ì•ˆì •ì„± ì ìˆ˜:</span>
                            <span id="expectedStabilityScore" class="text-blue-400 font-bold">77.5/100</span>
                        </div>
                    </div>
                    <div class="mt-4">
                        <canvas id="simulationPreviewChart" width="400" height="200"></canvas>
                    </div>
                </div>
            </div>

            <!-- ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ ì¹´ë“œ -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <!-- ì„±ê³µë¥  ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-green-500/20 to-green-600/30 border border-green-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">âœ…</span>
                        <div class="text-green-300 text-sm font-medium">ì„±ê³µë¥ </div>
                    </div>
                    <div id="actualSuccessRate" class="text-green-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-green-200 text-xs">%</div>
                    <div id="successRateTrend" class="mt-2 text-green-200 text-xs">
                        ëŒ€ê¸° ì¤‘
                    </div>
                </div>

                <!-- ì‹¤íŒ¨ìœ¨ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-red-500/20 to-red-600/30 border border-red-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">âŒ</span>
                        <div class="text-red-300 text-sm font-medium">ì‹¤íŒ¨ìœ¨</div>
                    </div>
                    <div id="actualFailRate" class="text-red-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-red-200 text-xs">%</div>
                </div>

                <!-- í”Œë˜í‚¤ìœ¨ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-yellow-500/20 to-yellow-600/30 border border-yellow-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">âš ï¸</span>
                        <div class="text-yellow-300 text-sm font-medium">í”Œë˜í‚¤ìœ¨</div>
                    </div>
                    <div id="actualFlakyRate" class="text-yellow-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-yellow-200 text-xs">%</div>
                </div>

                <!-- ì•ˆì •ì„± ì ìˆ˜ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-blue-500/20 to-blue-600/30 border border-blue-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸ¯</span>
                        <div class="text-blue-300 text-sm font-medium">ì•ˆì •ì„± ì ìˆ˜</div>
                    </div>
                    <div id="actualStabilityScore" class="text-blue-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-blue-200 text-xs">/100</div>
                </div>
            </div>

            <!-- ì‹œë®¬ë ˆì´ì…˜ ì°¨íŠ¸ ë° ë¶„ì„ -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <!-- ì‹œë®¬ë ˆì´ì…˜ ë¶„í¬ ì°¨íŠ¸ -->
                <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ“ˆ</span>
                        ì‹œë®¬ë ˆì´ì…˜ ë¶„í¬
                    </h3>
                    <div class="relative h-64">
                        <canvas id="simulationDistributionChart"></canvas>
                    </div>
                </div>

                <!-- ëŸ°ë¶ ê²€ì¦ ê²°ê³¼ -->
                <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ“š</span>
                        ëŸ°ë¶ ê²€ì¦ ê²°ê³¼
                    </h3>
                    <div id="runbookValidationResults" class="space-y-2 max-h-48 overflow-y-auto">
                        <div class="text-center text-white/60 dark:text-gray-400 py-8">
                            ëŸ°ë¶ ê²€ì¦ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.
                        </div>
                    </div>
                    <div class="mt-4 grid grid-cols-2 gap-2">
                        <div class="text-center">
                            <div id="runbookTemplatesCount" class="text-white dark:text-gray-100 text-2xl font-bold">-</div>
                            <div class="text-white/70 dark:text-gray-400 text-xs">ëŸ°ë¶ í…œí”Œë¦¿</div>
                        </div>
                        <div class="text-center">
                            <div id="runbookIssuesCount" class="text-white dark:text-gray-100 text-2xl font-bold">-</div>
                            <div class="text-white/70 dark:text-gray-400 text-xs">ë°œê²¬ëœ ë¬¸ì œ</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ê²°ê³¼ ë‚´ë³´ë‚´ê¸° ë° ì•¡ì…˜ -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- ê²°ê³¼ ë‚´ë³´ë‚´ê¸° -->
                <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ“¥</span>
                        ê²°ê³¼ ë‚´ë³´ë‚´ê¸°
                    </h3>
                    <div class="space-y-2">
                        <button id="downloadSimulationJsonBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center justify-center">
                            <span class="mr-2">ğŸ“„</span>
                            JSON ë‹¤ìš´ë¡œë“œ
                        </button>
                        <button id="downloadSimulationMdBtn" class="w-full bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center justify-center">
                            <span class="mr-2">ğŸ“</span>
                            Markdown ë‹¤ìš´ë¡œë“œ
                        </button>
                        <button id="shareSimulationResultsBtn" class="w-full bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center justify-center">
                            <span class="mr-2">ğŸ“¤</span>
                            ê²°ê³¼ ê³µìœ 
                        </button>
                    </div>
                </div>

                <!-- ê¶Œì¥ì‚¬í•­ ë° ì•¡ì…˜ -->
                <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ’¡</span>
                        ê¶Œì¥ì‚¬í•­
                    </h3>
                    <div id="simulationRecommendations" class="space-y-2 max-h-32 overflow-y-auto">
                        <div class="text-center text-white/60 dark:text-gray-400 py-4 text-sm">
                            ì‹œë®¬ë ˆì´ì…˜ì„ ì‹¤í–‰í•˜ì—¬ ê¶Œì¥ì‚¬í•­ì„ í™•ì¸í•˜ì„¸ìš”.
                        </div>
                    </div>
                    <div class="mt-4">
                        <button id="applyRecommendationsBtn" class="w-full bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center justify-center">
                            <span class="mr-2">ğŸ”§</span>
                            ê¶Œì¥ì‚¬í•­ ì ìš©
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ğŸ§ª í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ ê´€ë¦¬ íŒ¨ë„ -->
        <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-white dark:text-gray-100 flex items-center">
                    <span class="mr-3">ğŸ§ª</span>
                    í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ ê´€ë¦¬
                </h2>
                <div class="flex items-center space-x-2">
                    <button id="refreshFlakyTestsBtn" class="bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ”„</span>
                        ìƒˆë¡œê³ ì¹¨
                    </button>
                    <button id="runFlakyAnalysisBtn" class="bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ”</span>
                        ë¶„ì„ ì‹¤í–‰
                    </button>
                    <button id="exportFlakyStatsBtn" class="bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ“Š</span>
                        í†µê³„ ë‚´ë³´ë‚´ê¸°
                    </button>
                </div>
            </div>

            <!-- í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ ìƒíƒœ ì¹´ë“œ -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <!-- ê²©ë¦¬ëœ í…ŒìŠ¤íŠ¸ ìˆ˜ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-red-500/20 to-red-600/30 border border-red-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸš«</span>
                        <div class="text-red-300 text-sm font-medium">ê²©ë¦¬ëœ í…ŒìŠ¤íŠ¸</div>
                    </div>
                    <div id="quarantinedTestsCount" class="text-red-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-red-200 text-xs">ê°œ</div>
                </div>

                <!-- ìµœê·¼ 7ì¼ê°„ ì‹¤íŒ¨ìœ¨ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-orange-500/20 to-orange-600/30 border border-orange-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">âš ï¸</span>
                        <div class="text-orange-300 text-sm font-medium">7ì¼ ì‹¤íŒ¨ìœ¨</div>
                    </div>
                    <div id="recentFailureRate" class="text-orange-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-orange-200 text-xs">%</div>
                </div>

                <!-- ìë™ì¬ì‹œë„ ì„±ê³µë¥  ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-blue-500/20 to-blue-600/30 border border-blue-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸ”„</span>
                        <div class="text-blue-300 text-sm font-medium">ì¬ì‹œë„ ì„±ê³µë¥ </div>
                    </div>
                    <div id="retrySuccessRate" class="text-blue-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-blue-200 text-xs">%</div>
                </div>

                <!-- ë¯¸í•´ê²° í…ŒìŠ¤íŠ¸ ìˆ˜ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-yellow-500/20 to-yellow-600/30 border border-yellow-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">â³</span>
                        <div class="text-yellow-300 text-sm font-medium">ë¯¸í•´ê²° í…ŒìŠ¤íŠ¸</div>
                    </div>
                    <div id="unresolvedTestsCount" class="text-yellow-100 text-3xl font-bold mb-1">-</div>
                    <div class="text-yellow-200 text-xs">ê°œ</div>
                </div>
            </div>

            <!-- í•„í„° ë° ê²€ìƒ‰ ì»¨íŠ¸ë¡¤ -->
            <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4 mb-6">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
                    <!-- ë‚ ì§œ í•„í„° -->
                    <div>
                        <label class="block text-white dark:text-gray-300 text-sm font-medium mb-2">ê¸°ê°„ í•„í„°</label>
                        <select id="flakyDateFilter" class="w-full bg-white/10 dark:bg-gray-800/50 border border-white/30 dark:border-gray-600 rounded-lg px-3 py-2 text-white dark:text-gray-100">
                            <option value="7d">ìµœê·¼ 7ì¼</option>
                            <option value="30d">ìµœê·¼ 30ì¼</option>
                            <option value="90d">ìµœê·¼ 90ì¼</option>
                            <option value="all">ì „ì²´ ê¸°ê°„</option>
                        </select>
                    </div>

                    <!-- ìƒíƒœ í•„í„° -->
                    <div>
                        <label class="block text-white dark:text-gray-300 text-sm font-medium mb-2">ìƒíƒœ í•„í„°</label>
                        <select id="flakyStatusFilter" class="w-full bg-white/10 dark:bg-gray-800/50 border border-white/30 dark:border-gray-600 rounded-lg px-3 py-2 text-white dark:text-gray-100">
                            <option value="all">ëª¨ë“  ìƒíƒœ</option>
                            <option value="quarantined">ê²©ë¦¬ë¨</option>
                            <option value="active">í™œì„±</option>
                            <option value="resolved">í•´ê²°ë¨</option>
                            <option value="pending">ëŒ€ê¸°ì¤‘</option>
                        </select>
                    </div>

                    <!-- íƒœê·¸ í•„í„° -->
                    <div>
                        <label class="block text-white dark:text-gray-300 text-sm font-medium mb-2">íƒœê·¸ í•„í„°</label>
                        <select id="flakyTagFilter" class="w-full bg-white/10 dark:bg-gray-800/50 border border-white/30 dark:border-gray-600 rounded-lg px-3 py-2 text-white dark:text-gray-100">
                            <option value="all">ëª¨ë“  íƒœê·¸</option>
                            <option value="timeout">íƒ€ì„ì•„ì›ƒ</option>
                            <option value="network">ë„¤íŠ¸ì›Œí¬</option>
                            <option value="database">ë°ì´í„°ë² ì´ìŠ¤</option>
                            <option value="ui">UI í…ŒìŠ¤íŠ¸</option>
                            <option value="integration">í†µí•© í…ŒìŠ¤íŠ¸</option>
                        </select>
                    </div>
                </div>

                <!-- ê²€ìƒ‰ ë° ì•¡ì…˜ ë²„íŠ¼ -->
                <div class="flex flex-wrap items-center gap-4 mt-4">
                    <div class="flex-1 min-w-[200px]">
                        <input
                            type="text"
                            id="flakyTestSearch"
                            placeholder="í…ŒìŠ¤íŠ¸ ì´ë¦„ ë˜ëŠ” íŒŒì¼ ê²½ë¡œë¡œ ê²€ìƒ‰..."
                            class="w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500"
                        />
                    </div>
                    <button id="clearFlakyFiltersBtn" class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ—‘ï¸</span>
                        í•„í„° ì´ˆê¸°í™”
                    </button>
                </div>
            </div>

            <!-- ì°¨íŠ¸ ì„¹ì…˜ -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <!-- ì‹¤íŒ¨ìœ¨ ì¶”ì´ ì°¨íŠ¸ -->
                <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ“ˆ</span>
                        ì‹¤íŒ¨ìœ¨ ì¶”ì´ (ìµœê·¼ 30ì¼)
                    </h3>
                    <div class="relative chart-wrapper" style="height: 300px;">
                        <canvas id="flakyFailureRateChart"></canvas>
                    </div>
                </div>

                <!-- ê²©ë¦¬ ì‚¬ìœ ë³„ ë¶„í¬ ì°¨íŠ¸ -->
                <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ¥§</span>
                        ê²©ë¦¬ ì‚¬ìœ ë³„ ë¶„í¬
                    </h3>
                    <div class="relative chart-wrapper" style="height: 300px;">
                        <canvas id="flakyQuarantineReasonChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- ìµœê·¼ ê²©ë¦¬ëœ í…ŒìŠ¤íŠ¸ ëª©ë¡ -->
            <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-white dark:text-gray-100 text-lg font-semibold flex items-center">
                        <span class="mr-2">ğŸ“‹</span>
                        ìµœê·¼ ê²©ë¦¬ëœ í…ŒìŠ¤íŠ¸
                    </h3>
                    <div class="flex items-center space-x-2">
                        <span class="text-sm text-white/60">
                            <span id="flakyTestsCurrentPageInfo">í˜ì´ì§€ 1 / 1</span>
                        </span>
                        <select id="flakyTestsPerPage" class="bg-gray-700 text-white px-2 py-1 rounded text-sm border border-gray-600">
                            <option value="5">5ê°œ</option>
                            <option value="10" selected>10ê°œ</option>
                            <option value="20">20ê°œ</option>
                        </select>
                    </div>
                </div>

                <!-- í…ŒìŠ¤íŠ¸ ëª©ë¡ í—¤ë” -->
                <div class="hidden lg:grid lg:grid-cols-7 gap-4 py-3 px-4 bg-white/5 rounded-lg mb-3 text-sm font-medium text-white/80">
                    <div>í…ŒìŠ¤íŠ¸ ì´ë¦„</div>
                    <div>íŒŒì¼ ê²½ë¡œ</div>
                    <div>ì›ì¸</div>
                    <div>ìµœì´ˆ ë°œìƒì¼</div>
                    <div>ìƒíƒœ</div>
                    <div>ì‹¤íŒ¨ìœ¨</div>
                    <div>ì•¡ì…˜</div>
                </div>

                <!-- í…ŒìŠ¤íŠ¸ ëª©ë¡ ë‚´ìš© -->
                <div id="flakyTestsList" class="space-y-3 max-h-96 overflow-y-auto">
                    <!-- í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ í•­ëª©ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    <div class="text-center text-white/60 dark:text-gray-400 py-8">
                        í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
                    </div>
                </div>

                <!-- í˜ì´ì§€ë„¤ì´ì…˜ ì»¨íŠ¸ë¡¤ -->
                <div class="flex items-center justify-between mt-4">
                    <div class="flex items-center gap-2">
                        <button id="flakyTestsPrevPageBtn" class="bg-gray-600 hover:bg-gray-700 disabled:bg-gray-800 disabled:cursor-not-allowed text-white px-3 py-1 rounded text-sm transition-colors" disabled>
                            â† ì´ì „
                        </button>
                        <button id="flakyTestsNextPageBtn" class="bg-gray-600 hover:bg-gray-700 disabled:bg-gray-800 disabled:cursor-not-allowed text-white px-3 py-1 rounded text-sm transition-colors" disabled>
                            ë‹¤ìŒ â†’
                        </button>
                    </div>
                    <div class="text-sm text-white/60">
                        ì´ <span id="flakyTestsTotalCount">0</span>ê°œ í…ŒìŠ¤íŠ¸
                    </div>
                </div>
            </div>
        </div>

        <!-- ğŸ“Š ë¶„ê¸°ë³„ ìš´ì˜ ë¦¬í¬íŠ¸ íŒ¨ë„ -->
        <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-white dark:text-gray-100 flex items-center">
                    <span class="mr-3">ğŸ“Š</span>
                    ë¶„ê¸°ë³„ ìš´ì˜ ë¦¬í¬íŠ¸
                </h2>
                <div class="flex items-center space-x-2">
                    <select id="quarterlyReportQuarterSelect" class="bg-gray-700 text-white px-3 py-2 rounded text-sm border border-gray-600 focus:outline-none focus:border-blue-500">
                        <option value="Q1">Q1 (1-3ì›”)</option>
                        <option value="Q2">Q2 (4-6ì›”)</option>
                        <option value="Q3">Q3 (7-9ì›”)</option>
                        <option value="Q4">Q4 (10-12ì›”)</option>
                    </select>
                    <button id="refreshQuarterlyReportBtn" class="bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ”„</span>
                        ìƒˆë¡œê³ ì¹¨
                    </button>
                    <button id="generateQuarterlyReportBtn" class="bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ“Š</span>
                        ë¦¬í¬íŠ¸ ìƒì„±
                    </button>
                    <button id="downloadQuarterlyReportBtn" class="bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ“¥</span>
                        ë‹¤ìš´ë¡œë“œ
                    </button>
                </div>
            </div>

            <!-- ë¶„ê¸°ë³„ ì„±ê³¼ ì ìˆ˜ ì¹´ë“œë“¤ -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                <!-- ë³´ì•ˆ ì ìˆ˜ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-red-500/20 to-red-600/30 border border-red-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸ›¡ï¸</span>
                        <div class="text-red-300 dark:text-red-200 text-sm font-medium">ë³´ì•ˆ ì ìˆ˜</div>
                    </div>
                    <div id="quarterlySecurityScore" class="text-red-100 text-3xl font-bold mb-1">0</div>
                    <div class="text-red-200 text-xs">/30ì </div>
                </div>

                <!-- ë°±ì—… ì ìˆ˜ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-blue-500/20 to-blue-600/30 border border-blue-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸ“¦</span>
                        <div class="text-blue-300 dark:text-blue-200 text-sm font-medium">ë°±ì—… ì ìˆ˜</div>
                    </div>
                    <div id="quarterlyBackupScore" class="text-blue-100 text-3xl font-bold mb-1">0</div>
                    <div class="text-blue-200 text-xs">/30ì </div>
                </div>

                <!-- ì‹œìŠ¤í…œ ì ìˆ˜ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-green-500/20 to-green-600/30 border border-green-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">âš™ï¸</span>
                        <div class="text-green-300 dark:text-green-200 text-sm font-medium">ì‹œìŠ¤í…œ ì ìˆ˜</div>
                    </div>
                    <div id="quarterlySystemScore" class="text-green-100 text-3xl font-bold mb-1">0</div>
                    <div class="text-green-200 text-xs">/20ì </div>
                </div>

                <!-- ì´í•© ì ìˆ˜ ì¹´ë“œ -->
                <div class="bg-gradient-to-br from-yellow-500/20 to-yellow-600/30 border border-yellow-400/30 rounded-lg p-4 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-2xl mr-2">ğŸ†</span>
                        <div class="text-yellow-300 dark:text-yellow-200 text-sm font-medium">ì´í•© ì ìˆ˜</div>
                    </div>
                    <div id="quarterlyTotalScore" class="text-yellow-100 text-3xl font-bold mb-1">0</div>
                    <div id="quarterlyPerformanceGrade" class="text-yellow-200 text-xs font-medium">ë“±ê¸‰ í™•ì¸ ì¤‘...</div>
                </div>
            </div>

            <!-- ë¶„ê¸°ë³„ ì„±ê³¼ ì°¨íŠ¸ë“¤ -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <!-- ì›”ë³„ ì¶”ì´ ì°¨íŠ¸ -->
                <div class="bg-gray-800/30 border border-gray-600/30 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ“ˆ</span>
                        ì›”ë³„ ì„±ê³¼ ì¶”ì´
                    </h3>
                    <div class="h-64">
                        <canvas id="quarterlyMonthlyTrendChart"></canvas>
                    </div>
                </div>

                <!-- ì˜ì—­ë³„ ì ìˆ˜ ë¶„í¬ ì°¨íŠ¸ -->
                <div class="bg-gray-800/30 border border-gray-600/30 rounded-lg p-4">
                    <h3 class="text-white dark:text-gray-100 font-semibold mb-4 flex items-center">
                        <span class="mr-2">ğŸ¯</span>
                        ì˜ì—­ë³„ ì ìˆ˜ ë¶„í¬
                    </h3>
                    <div class="h-64">
                        <canvas id="quarterlyScoreDistributionChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- ë¶„ê¸°ë³„ ë¦¬í¬íŠ¸ ìƒì„¸ ì •ë³´ -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                <!-- ë³´ì•ˆ ìƒì„¸ -->
                <div class="bg-red-500/10 dark:bg-red-600/10 border border-red-400/20 rounded-lg p-4">
                    <h4 class="text-red-300 dark:text-red-200 font-semibold mb-3 flex items-center">
                        <span class="mr-2">ğŸ›¡ï¸</span>
                        ë³´ì•ˆ í˜„í™©
                    </h4>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-red-200">ì°¨ë‹¨ IP:</span>
                            <span id="quarterlyBlockedIPs" class="text-red-100 font-medium">0ê°œ</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-red-200">ë³´ì•ˆ ì´ë²¤íŠ¸:</span>
                            <span id="quarterlySecurityEvents" class="text-red-100 font-medium">0ê±´</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-red-200">Rate Limit:</span>
                            <span id="quarterlyRateLimit" class="text-red-100 font-medium">0íšŒ</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-red-200">í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì¶”ê°€:</span>
                            <span id="quarterlyWhitelistAdded" class="text-red-100 font-medium">0ê°œ</span>
                        </div>
                    </div>
                </div>

                <!-- ë°±ì—… ìƒì„¸ -->
                <div class="bg-blue-500/10 dark:bg-blue-600/10 border border-blue-400/20 rounded-lg p-4">
                    <h4 class="text-blue-300 dark:text-blue-200 font-semibold mb-3 flex items-center">
                        <span class="mr-2">ğŸ“¦</span>
                        ë°±ì—… í˜„í™©
                    </h4>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-blue-200">ì„±ê³µ ë°±ì—…:</span>
                            <span id="quarterlySuccessfulBackups" class="text-blue-100 font-medium">0íšŒ</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-blue-200">ì‹¤íŒ¨ ë°±ì—…:</span>
                            <span id="quarterlyFailedBackups" class="text-blue-100 font-medium">0íšŒ</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-blue-200">ì„±ê³µë¥ :</span>
                            <span id="quarterlyBackupSuccessRate" class="text-blue-100 font-medium">0%</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-blue-200">ì •ë¦¬ ì‘ì—…:</span>
                            <span id="quarterlyCleanupOps" class="text-blue-100 font-medium">0íšŒ</span>
                        </div>
                    </div>
                </div>

                <!-- ì‹œìŠ¤í…œ ìƒì„¸ -->
                <div class="bg-green-500/10 dark:bg-green-600/10 border border-green-400/20 rounded-lg p-4">
                    <h4 class="text-green-300 dark:text-green-200 font-semibold mb-3 flex items-center">
                        <span class="mr-2">âš™ï¸</span>
                        ì‹œìŠ¤í…œ í˜„í™©
                    </h4>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-green-200">í‰ê·  CPU:</span>
                            <span id="quarterlyAvgCpu" class="text-green-100 font-medium">0%</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-green-200">í‰ê·  ë©”ëª¨ë¦¬:</span>
                            <span id="quarterlyAvgMemory" class="text-green-100 font-medium">0%</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-green-200">í‰ê·  ë””ìŠ¤í¬:</span>
                            <span id="quarterlyAvgDisk" class="text-green-100 font-medium">0%</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-green-200">ì—…íƒ€ì„:</span>
                            <span id="quarterlyUptime" class="text-green-100 font-medium">0ì¼</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ìµœì‹  ë¶„ê¸°ë³„ ë¦¬í¬íŠ¸ ëª©ë¡ ë° ë‹¤ìš´ë¡œë“œ -->
            <div class="bg-gray-800/30 border border-gray-600/30 rounded-lg p-4">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-white dark:text-gray-100 font-semibold">ìµœê·¼ ë¶„ê¸°ë³„ ë¦¬í¬íŠ¸</h3>
                    <div class="flex items-center space-x-2">
                        <select id="quarterlyReportYearSelect" class="bg-gray-700 text-white px-3 py-1 rounded text-sm border border-gray-600 focus:outline-none focus:border-blue-500">
                            <option value="2024">2024ë…„</option>
                            <option value="2023">2023ë…„</option>
                        </select>
                    </div>
                </div>

                <div id="quarterlyReportsList" class="max-h-64 overflow-y-auto p-4 space-y-3">
                    <!-- ë¶„ê¸°ë³„ ë¦¬í¬íŠ¸ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    <div class="text-center text-gray-400 py-8">
                        <div class="text-4xl mb-2">ğŸ“Š</div>
                        <div>ë¶„ê¸°ë³„ ë¦¬í¬íŠ¸ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ëŠ” ì¤‘...</div>
                        <div class="text-sm text-gray-500 mt-2">ì²« ë²ˆì§¸ ë¦¬í¬íŠ¸ ìƒì„±ê¹Œì§€ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
                    </div>
                </div>
            </div>

            <!-- ë¶„ê¸°ë³„ ë¦¬í¬íŠ¸ ê¶Œì¥ì‚¬í•­ -->
            <div id="quarterlyRecommendationsSection" class="mt-6 hidden">
                <div class="bg-yellow-500/10 dark:bg-yellow-600/10 border border-yellow-400/20 rounded-lg p-4">
                    <h4 class="text-yellow-300 dark:text-yellow-200 font-semibold mb-3 flex items-center">
                        <span class="mr-2">ğŸ’¡</span>
                        ë¶„ê¸°ë³„ ê¶Œì¥ì‚¬í•­
                    </h4>
                    <div id="quarterlyRecommendationsList" class="space-y-2 text-sm text-yellow-200">
                        <!-- ê¶Œì¥ì‚¬í•­ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    </div>
                </div>
            </div>

            <!-- ì£¼ìš” ì´ìŠˆ ê¸°ê°„ -->
            <div id="quarterlyCriticalPeriodsSection" class="mt-6 hidden">
                <div class="bg-red-500/10 dark:bg-red-600/10 border border-red-400/20 rounded-lg p-4">
                    <h4 class="text-red-300 dark:text-red-200 font-semibold mb-3 flex items-center">
                        <span class="mr-2">âš ï¸</span>
                        ì£¼ìš” ì´ìŠˆ ê¸°ê°„
                    </h4>
                    <div id="quarterlyCriticalPeriodsList" class="space-y-2 text-sm text-red-200">
                        <!-- ì£¼ìš” ì´ìŠˆ ê¸°ê°„ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    </div>
                </div>
            </div>

            <!-- ë‹¤ìŒ ë¶„ê¸° ëª©í‘œ -->
            <div id="nextQuarterGoalsSection" class="mt-6 hidden">
                <div class="bg-purple-500/10 dark:bg-purple-600/10 border border-purple-400/20 rounded-lg p-4">
                    <h4 class="text-purple-300 dark:text-purple-200 font-semibold mb-3 flex items-center">
                        <span class="mr-2">ğŸ¯</span>
                        ë‹¤ìŒ ë¶„ê¸° ëª©í‘œ
                    </h4>
                    <div id="nextQuarterGoalsList" class="space-y-2 text-sm text-purple-200">
                        <div>â€¢ ì¢…í•© ì„±ê³¼ ì ìˆ˜ 90ì  ì´ìƒ ë‹¬ì„±</div>
                        <div>â€¢ ë³´ì•ˆ ì´ë²¤íŠ¸ 15% ê°ì†Œ</div>
                        <div>â€¢ ë°±ì—… ì„±ê³µë¥  99% ì´ìƒ ìœ ì§€</div>
                        <div>â€¢ ì‹œìŠ¤í…œ ìë™í™” ë° CI/CD ì„±ëŠ¥ í–¥ìƒ</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ğŸ” ì´ìƒíƒì§€ & ì›ì¸ë¶„ì„(RCA) ë“œë¦´ë‹¤ìš´ íŒ¨ë„ -->
        <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50 mb-8">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-white dark:text-gray-100 flex items-center">
                    <span class="mr-3">ğŸ”</span>
                    ì´ìƒíƒì§€ & ì›ì¸ë¶„ì„(RCA)
                </h2>
                <div class="flex gap-3">
                    <button id="refreshAnomalyBtn" class="bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ”„</span>
                        ìƒˆë¡œê³ ì¹¨
                    </button>
                    <button id="runRCABtn" class="bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ“Œ</span>
                        ì›ì¸ë¶„ì„ ì‹¤í–‰
                    </button>
                </div>
            </div>

            <!-- RCA ìš”ì•½ ì¹´ë“œë“¤ -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <div class="bg-red-500/20 dark:bg-red-600/20 border border-red-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">ğŸ“Œ</div>
                    <div class="text-red-300 dark:text-red-200 text-sm font-medium">ì£¼ìš” ì›ì¸ #1</div>
                    <div id="rcaTopCause" class="text-red-100 text-lg font-bold">-</div>
                    <div id="rcaTopContribution" class="text-red-200 text-sm">ê¸°ì—¬ë„: -%</div>
                </div>
                <div class="bg-orange-500/20 dark:bg-orange-600/20 border border-orange-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">ğŸ“Š</div>
                    <div class="text-orange-300 dark:text-orange-200 text-sm font-medium">ê¸°ì—¬ë„ ë³€í™”</div>
                    <div id="rcaContributionChange" class="text-orange-100 text-lg font-bold">-</div>
                    <div id="rcaChangeDirection" class="text-orange-200 text-sm">ê¸°ì¤€ ëŒ€ë¹„</div>
                </div>
                <div class="bg-blue-500/20 dark:bg-blue-600/20 border border-blue-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">ğŸ”®</div>
                    <div class="text-blue-300 dark:text-blue-200 text-sm font-medium">ê³„ì ˆì„± ê°•ë„</div>
                    <div id="rcaSeasonalityStrength" class="text-blue-100 text-lg font-bold">-</div>
                    <div id="rcaSeasonalityDesc" class="text-blue-200 text-sm">íŒ¨í„´ ë¶„ì„</div>
                </div>
                <div class="bg-green-500/20 dark:bg-green-600/20 border border-green-400/30 rounded-lg p-4 text-center">
                    <div class="text-2xl mb-2">âš¡</div>
                    <div class="text-green-300 dark:text-green-200 text-sm font-medium">ë¶„ì„ ì‹ ë¢°ë„</div>
                    <div id="rcaConfidenceScore" class="text-green-100 text-lg font-bold">-</div>
                    <div id="rcaConfidenceDesc" class="text-green-200 text-sm">í†µê³„ì  ìœ ì˜ì„±</div>
                </div>
            </div>

            <!-- RCA íƒ­ ë©”ë‰´ -->
            <div class="bg-black/20 dark:bg-gray-900/50 rounded-lg p-4 mb-6">
                <div class="flex flex-wrap gap-2 border-b border-white/20 dark:border-gray-600 pb-3 mb-4">
                    <button id="rcaTabOverview" class="rca-tab-btn bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200">
                        ğŸ“Š ê°œìš”
                    </button>
                    <button id="rcaTabCauses" class="rca-tab-btn bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200">
                        ğŸ“Œ ì›ì¸ë¶„ì„
                    </button>
                    <button id="rcaTabDecompose" class="rca-tab-btn bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200">
                        ğŸ”„ ê³„ì ˆì„± ë¶„í•´
                    </button>
                    <button id="rcaTabPolicy" class="rca-tab-btn bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200">
                        âš™ï¸ ì •ì±… ë¯¸ë¦¬ë³´ê¸°
                    </button>
                </div>

                <!-- ê°œìš” íƒ­ -->
                <div id="rcaContentOverview" class="rca-tab-content">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm chart-container">
                            <h3 class="text-lg font-semibold text-white dark:text-gray-100 mb-4">ì´ìƒ êµ¬ê°„ í•˜ì´ë¼ì´íŠ¸</h3>
                            <div class="relative h-64">
                                <canvas id="rcaAnomalyTimelineChart"></canvas>
                            </div>
                        </div>
                        <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm chart-container">
                            <h3 class="text-lg font-semibold text-white dark:text-gray-100 mb-4">ì§€í‘œë³„ ìœ„í—˜ë„</h3>
                            <div class="relative h-64">
                                <canvas id="rcaRiskByMetricChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ì›ì¸ë¶„ì„ íƒ­ -->
                <div id="rcaContentCauses" class="rca-tab-content hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm chart-container">
                            <h3 class="text-lg font-semibold text-white dark:text-gray-100 mb-4">ì›ì¸ë³„ ê¸°ì—¬ë„</h3>
                            <div class="relative h-64">
                                <canvas id="rcaContributionChart"></canvas>
                            </div>
                        </div>
                        <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm">
                            <h3 class="text-lg font-semibold text-white dark:text-gray-100 mb-4">ìƒì„¸ ì›ì¸ ëª©ë¡</h3>
                            <div id="rcaCausesList" class="space-y-2 max-h-64 overflow-y-auto">
                                <div class="text-gray-300 dark:text-gray-400 text-sm text-center py-8">
                                    ì›ì¸ë¶„ì„ì„ ì‹¤í–‰í•˜ë©´ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ê³„ì ˆì„± ë¶„í•´ íƒ­ -->
                <div id="rcaContentDecompose" class="rca-tab-content hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
                        <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm chart-container">
                            <h3 class="text-lg font-semibold text-white dark:text-gray-100 mb-4">ì¶”ì„¸ ì„±ë¶„</h3>
                            <div class="relative h-48">
                                <canvas id="rcaTrendChart"></canvas>
                            </div>
                        </div>
                        <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm chart-container">
                            <h3 class="text-lg font-semibold text-white dark:text-gray-100 mb-4">ê³„ì ˆì„± ì„±ë¶„</h3>
                            <div class="relative h-48">
                                <canvas id="rcaSeasonalChart"></canvas>
                            </div>
                        </div>
                        <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm chart-container">
                            <h3 class="text-lg font-semibold text-white dark:text-gray-100 mb-4">ì”ì°¨ ì„±ë¶„</h3>
                            <div class="relative h-48">
                                <canvas id="rcaResidualChart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="mt-4 bg-white/10 dark:bg-gray-700/50 rounded-lg p-4">
                        <h4 class="text-white dark:text-gray-100 font-medium mb-2">ë¶„í•´ ìš”ì•½</h4>
                        <div id="rcaDecomposeSummary" class="text-gray-300 dark:text-gray-400 text-sm">
                            ê³„ì ˆì„± ë¶„í•´ë¥¼ ì‹¤í–‰í•˜ë©´ ìš”ì•½ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤
                        </div>
                    </div>
                </div>

                <!-- ì •ì±… ë¯¸ë¦¬ë³´ê¸° íƒ­ -->
                <div id="rcaContentPolicy" class="rca-tab-content hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4">
                            <h3 class="text-lg font-semibold text-white dark:text-gray-100 mb-4">ì„ê³„ê°’ ì„¤ì •</h3>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm text-gray-300 dark:text-gray-400 mb-2">Z-score ì„ê³„ê°’</label>
                                    <input type="range" id="rcaPolicyThreshold" min="1.0" max="5.0" step="0.1" value="3.0"
                                           class="w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer slider">
                                    <div class="flex justify-between text-xs text-gray-400 mt-1">
                                        <span>1.0</span>
                                        <span id="rcaPolicyThresholdValue" class="font-bold text-white">3.0</span>
                                        <span>5.0</span>
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-sm text-gray-300 dark:text-gray-400 mb-2">ìœˆë„ìš° í¬ê¸° (ì¼)</label>
                                    <input type="range" id="rcaPolicyWindow" min="3" max="30" step="1" value="7"
                                           class="w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer slider">
                                    <div class="flex justify-between text-xs text-gray-400 mt-1">
                                        <span>3</span>
                                        <span id="rcaPolicyWindowValue" class="font-bold text-white">7</span>
                                        <span>30</span>
                                    </div>
                                </div>
                                <button id="rcaPolicyTestBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors duration-200">
                                    ì •ì±… ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰
                                </button>
                            </div>
                        </div>
                        <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4">
                            <h3 class="text-lg font-semibold text-white dark:text-gray-100 mb-4">ì„œí”„ë ˆì…˜ ë£° ì„¤ì •</h3>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-gray-300 dark:text-gray-400">ì•¼ê°„ ì„œí”„ë ˆì…˜</span>
                                    <div class="toggle-switch" id="rcaSuppressionNight">
                                        <span class="toggle-switch-handle"></span>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-gray-300 dark:text-gray-400">ì£¼ë§ ì„œí”„ë ˆì…˜</span>
                                    <div class="toggle-switch" id="rcaSuppressionWeekend">
                                        <span class="toggle-switch-handle"></span>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-gray-300 dark:text-gray-400">ì¤‘ë³µ ì•Œë¦¼ ì–µì œ</span>
                                    <div class="toggle-switch active" id="rcaSuppressionDuplicate">
                                        <span class="toggle-switch-handle"></span>
                                    </div>
                                </div>
                                <div id="rcaSuppressionStatus" class="bg-black/20 rounded-lg p-3 text-sm text-gray-300">
                                    ì„œí”„ë ˆì…˜ ìƒíƒœê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ê²°ê³¼ ë‚´ë³´ë‚´ê¸° -->
            <div class="flex justify-end gap-3">
                <button id="rcaExportJSON" class="bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                    <span class="mr-2">ğŸ“„</span>
                    JSON ë‚´ë³´ë‚´ê¸°
                </button>
                <button id="rcaExportMD" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                    <span class="mr-2">ğŸ“</span>
                    Markdown ë‚´ë³´ë‚´ê¸°
                </button>
            </div>
        </div>

        <!-- ğŸ§© ì¸ì‹œë˜íŠ¸ ì„¼í„° íŒ¨ë„ -->
        <div class="bg-white/10 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-white/20 dark:border-gray-700/50 mb-8">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-white dark:text-gray-100 flex items-center">
                    <span class="mr-3">ğŸ§©</span>
                    ì¸ì‹œë˜íŠ¸ ì„¼í„° (Incident Center)
                </h2>
                <div class="flex gap-3">
                    <button id="refreshIncidentsBtn" class="bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ”„</span>
                        ìƒˆë¡œê³ ì¹¨
                    </button>
                    <button id="buildIncidentsBtn" class="bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                        <span class="mr-2">ğŸ”§</span>
                        ì¸ì‹œë˜íŠ¸ ë¹Œë“œ
                    </button>
                </div>
            </div>

            <!-- ì¸ì‹œë˜íŠ¸ ìš”ì•½ ì¹´ë“œë“¤ -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <!-- ê¸ˆì£¼ ì¸ì‹œë˜íŠ¸ ìˆ˜ -->
                <div class="bg-gradient-to-br from-orange-500/20 to-red-500/30 backdrop-blur-sm rounded-lg p-4 border border-orange-400/30">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-orange-200 text-sm font-medium">ê¸ˆì£¼ ì¸ì‹œë˜íŠ¸</p>
                            <p id="weeklyIncidentCount" class="text-2xl font-bold text-white mt-1">0</p>
                        </div>
                        <div class="text-orange-300">
                            <span class="text-2xl">ğŸ“Š</span>
                        </div>
                    </div>
                    <div class="mt-2">
                        <span id="weeklyIncidentTrend" class="text-xs text-orange-200">ì „ì£¼ ëŒ€ë¹„ ë³€í™” ê³„ì‚° ì¤‘...</span>
                    </div>
                </div>

                <!-- í‰ê·  í•´ê²°ì‹œê°„ -->
                <div class="bg-gradient-to-br from-blue-500/20 to-cyan-500/30 backdrop-blur-sm rounded-lg p-4 border border-blue-400/30">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-blue-200 text-sm font-medium">í‰ê·  í•´ê²°ì‹œê°„</p>
                            <p id="avgResolutionTime" class="text-2xl font-bold text-white mt-1">0ë¶„</p>
                        </div>
                        <div class="text-blue-300">
                            <span class="text-2xl">â±ï¸</span>
                        </div>
                    </div>
                    <div class="mt-2">
                        <span id="resolutionTimeTrend" class="text-xs text-blue-200">ëª©í‘œ: 30ë¶„ ì´ë‚´</span>
                    </div>
                </div>

                <!-- ê³ ì‹¬ê°ë„ ë¹„ìœ¨ -->
                <div class="bg-gradient-to-br from-red-500/20 to-pink-500/30 backdrop-blur-sm rounded-lg p-4 border border-red-400/30">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-red-200 text-sm font-medium">ê³ ì‹¬ê°ë„ ë¹„ìœ¨</p>
                            <p id="criticalIncidentRatio" class="text-2xl font-bold text-white mt-1">0%</p>
                        </div>
                        <div class="text-red-300">
                            <span class="text-2xl">ğŸš¨</span>
                        </div>
                    </div>
                    <div class="mt-2">
                        <span id="criticalIncidentTrend" class="text-xs text-red-200">Critical + High ë¹„ìœ¨</span>
                    </div>
                </div>

                <!-- ì¬ë°œë¥  -->
                <div class="bg-gradient-to-br from-yellow-500/20 to-orange-500/30 backdrop-blur-sm rounded-lg p-4 border border-yellow-400/30">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-yellow-200 text-sm font-medium">ì¬ë°œë¥ </p>
                            <p id="recurrenceRate" class="text-2xl font-bold text-white mt-1">0%</p>
                        </div>
                        <div class="text-yellow-300">
                            <span class="text-2xl">ğŸ”„</span>
                        </div>
                    </div>
                    <div class="mt-2">
                        <span id="recurrenceTrend" class="text-xs text-yellow-200">ìœ ì‚¬ ë©”íŠ¸ë¦­ íŒ¨í„´ ê¸°ì¤€</span>
                    </div>
                </div>
            </div>

            <!-- ì¸ì‹œë˜íŠ¸ í•„í„° ë° ì•¡ì…˜ ë°” -->
            <div class="bg-gray-800/30 rounded-lg p-4 mb-6">
                <div class="flex flex-wrap items-center justify-between gap-4">
                    <div class="flex flex-wrap items-center gap-3">
                        <!-- ë‚ ì§œ ë²”ìœ„ í•„í„° -->
                        <select id="incidentDateFilter" class="bg-gray-700/50 text-white border border-gray-600 rounded-lg px-3 py-2 text-sm">
                            <option value="7d">ìµœê·¼ 7ì¼</option>
                            <option value="30d">ìµœê·¼ 30ì¼</option>
                            <option value="3m">ìµœê·¼ 3ê°œì›”</option>
                        </select>

                        <!-- ì‹¬ê°ë„ í•„í„° -->
                        <select id="incidentSeverityFilter" class="bg-gray-700/50 text-white border border-gray-600 rounded-lg px-3 py-2 text-sm">
                            <option value="all">ëª¨ë“  ì‹¬ê°ë„</option>
                            <option value="critical">Critical</option>
                            <option value="high">High</option>
                            <option value="medium">Medium</option>
                            <option value="low">Low</option>
                        </select>

                        <!-- ìƒíƒœ í•„í„° -->
                        <select id="incidentStatusFilter" class="bg-gray-700/50 text-white border border-gray-600 rounded-lg px-3 py-2 text-sm">
                            <option value="all">ëª¨ë“  ìƒíƒœ</option>
                            <option value="open">ì—´ë¦¼</option>
                            <option value="investigating">ì¡°ì‚¬ ì¤‘</option>
                            <option value="resolved">í•´ê²°ë¨</option>
                        </select>
                    </div>

                    <div class="flex items-center gap-3">
                        <!-- ê²€ìƒ‰ -->
                        <input id="incidentSearchInput" type="text" placeholder="ì¸ì‹œë˜íŠ¸ ê²€ìƒ‰..."
                               class="bg-gray-700/50 text-white border border-gray-600 rounded-lg px-3 py-2 text-sm w-40">

                        <!-- ë‚´ë³´ë‚´ê¸° ì˜µì…˜ -->
                        <button id="exportIncidentsJSON" class="bg-gray-600 hover:bg-gray-500 text-white px-3 py-2 rounded-lg text-sm transition-colors duration-200 flex items-center">
                            <span class="mr-1">ğŸ“„</span>
                            JSON
                        </button>
                        <button id="exportIncidentsCSV" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm transition-colors duration-200 flex items-center">
                            <span class="mr-1">ğŸ“Š</span>
                            CSV
                        </button>
                    </div>
                </div>
            </div>

            <!-- ì¸ì‹œë˜íŠ¸ ë¦¬ìŠ¤íŠ¸ ë° íƒ€ì„ë¼ì¸ ì°¨íŠ¸ -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <!-- ìµœê·¼ ì¸ì‹œë˜íŠ¸ ë¦¬ìŠ¤íŠ¸ -->
                <div class="bg-gray-800/30 rounded-lg p-4">
                    <h3 class="text-lg font-semibold text-white mb-4 flex items-center">
                        <span class="mr-2">ğŸ“‹</span>
                        ìµœê·¼ ì¸ì‹œë˜íŠ¸ ëª©ë¡
                    </h3>
                    <div id="incidentsList" class="space-y-3 max-h-96 overflow-y-auto">
                        <!-- ë¡œë”© ìƒíƒœ -->
                        <div class="flex items-center justify-center py-8">
                            <div class="animate-spin rounded-full h-8 w-8 border-2 border-white/30 border-t-white"></div>
                            <span class="ml-3 text-white/70">ì¸ì‹œë˜íŠ¸ ëª©ë¡ ë¡œë”© ì¤‘...</span>
                        </div>
                    </div>
                </div>

                <!-- ì¸ì‹œë˜íŠ¸ ì¶”ì´ ì°¨íŠ¸ -->
                <div class="bg-gray-800/30 rounded-lg p-4">
                    <h3 class="text-lg font-semibold text-white mb-4 flex items-center">
                        <span class="mr-2">ğŸ“ˆ</span>
                        ì¸ì‹œë˜íŠ¸ ë°œìƒ ì¶”ì´
                    </h3>
                    <div class="relative h-80">
                        <canvas id="incidentTrendChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- ì¸ì‹œë˜íŠ¸ ë¹Œë“œ ìƒíƒœ ë° ê²°ê³¼ -->
            <div id="incidentBuildStatus" class="bg-gray-800/30 rounded-lg p-4 mb-6 hidden">
                <h3 class="text-lg font-semibold text-white mb-4 flex items-center">
                    <span class="mr-2">âš™ï¸</span>
                    ì¸ì‹œë˜íŠ¸ ë¹Œë“œ ìƒíƒœ
                </h3>
                <div id="buildStatusContent">
                    <!-- ë¹Œë“œ ìƒíƒœê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>
            </div>

            <!-- ì¸ì‹œë˜íŠ¸ ìƒì„¸ ëª¨ë‹¬ -->
            <div id="incidentDetailModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden z-50">
                <div class="flex items-center justify-center min-h-screen p-4">
                    <div class="bg-gray-800 rounded-xl p-6 max-w-4xl w-full max-h-90vh overflow-y-auto">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-xl font-bold text-white flex items-center">
                                <span class="mr-3">ğŸ”</span>
                                ì¸ì‹œë˜íŠ¸ ìƒì„¸ ì •ë³´
                            </h2>
                            <button id="closeIncidentModal" class="text-gray-400 hover:text-white transition-colors">
                                <span class="text-2xl">Ã—</span>
                            </button>
                        </div>

                        <div id="incidentDetailContent">
                            <!-- ì¸ì‹œë˜íŠ¸ ìƒì„¸ ë‚´ìš©ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                        </div>

                        <div class="flex justify-end gap-3 mt-6">
                            <button id="downloadIncidentJSON" class="bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                                <span class="mr-2">ğŸ“„</span>
                                JSON ë‹¤ìš´ë¡œë“œ
                            </button>
                            <button id="downloadIncidentMD" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center">
                                <span class="mr-2">ğŸ“</span>
                                Markdown ë‹¤ìš´ë¡œë“œ
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="text-center text-white/70 dark:text-gray-400 text-sm">
            Â© 2024 MCP-MAP Company. All rights reserved.
        </div>
    </div>

    <script>
        // =============================================
        // Dark Mode Toggle Implementation
        // =============================================

        class DarkModeManager {
            constructor() {
                this.darkMode = false;
                this.toggleButton = document.getElementById('darkModeToggle');
                this.init();
            }

            init() {
                // Load saved theme from localStorage
                this.loadTheme();

                // Set up event listener for toggle button
                this.toggleButton.addEventListener('click', () => {
                    this.toggle();
                });

                // Apply initial theme
                this.applyTheme();
            }

            loadTheme() {
                const saved = localStorage.getItem('mcp-map-dark-mode');
                if (saved !== null) {
                    this.darkMode = JSON.parse(saved);
                } else {
                    // Default to system preference
                    this.darkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
                }
            }

            saveTheme() {
                localStorage.setItem('mcp-map-dark-mode', JSON.stringify(this.darkMode));
            }

            toggle() {
                this.darkMode = !this.darkMode;
                this.saveTheme();
                this.applyTheme();
                this.notifyCharts();
            }

            applyTheme() {
                const html = document.documentElement;
                const toggle = this.toggleButton;

                if (this.darkMode) {
                    html.classList.add('dark');
                    toggle.classList.add('active');
                } else {
                    html.classList.remove('dark');
                    toggle.classList.remove('active');
                }

                // Update chart colors if charts are initialized
                setTimeout(() => {
                    this.updateChartColors();
                }, 100);
            }

            notifyCharts() {
                // Trigger chart color update
                const event = new CustomEvent('themeChanged', {
                    detail: { darkMode: this.darkMode }
                });
                document.dispatchEvent(event);
            }

            updateChartColors() {
                const charts = [
                    window.realTimeResponseChart,
                    window.systemResourceGauge,
                    window.dbPerformanceChart,
                    window.apiCallsChart,
                    window.securityEventsChart,
                    // ì‹œìŠ¤í…œ ìì› ëª¨ë‹ˆí„°ë§ ì°¨íŠ¸ë“¤ ì¶”ê°€
                    window.cpuUsageChart,
                    window.memoryUsageChart,
                    window.diskIOChart,
                    window.networkIOChart
                ];

                charts.forEach(chart => {
                    if (chart) {
                        this.updateSingleChart(chart);
                    }
                });

                // ì—°ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
                if (yearlyReportManager) {
                    yearlyReportManager.updateChartsForTheme();
                }

                // ì¸ì‹œë˜íŠ¸ ì„¼í„° ì°¨íŠ¸ ì—…ë°ì´íŠ¸
                if (incidentCenterManager) {
                    incidentCenterManager.updateChartsForTheme();
                }
            }

            updateSingleChart(chart) {
                const textColor = this.darkMode ? '#f3f4f6' : '#ffffff';
                const gridColor = this.darkMode ? 'rgba(156, 163, 175, 0.2)' : 'rgba(255, 255, 255, 0.1)';

                if (chart.options.scales) {
                    if (chart.options.scales.x) {
                        chart.options.scales.x.ticks.color = textColor;
                        chart.options.scales.x.grid.color = gridColor;
                    }
                    if (chart.options.scales.y) {
                        chart.options.scales.y.ticks.color = textColor;
                        chart.options.scales.y.grid.color = gridColor;
                    }
                }

                if (chart.options.plugins && chart.options.plugins.legend) {
                    chart.options.plugins.legend.labels.color = textColor;
                }

                chart.update('none');
            }

            isDarkMode() {
                return this.darkMode;
            }
        }

        // =============================================
        // Dashboard Configuration and Data
        // =============================================

        const CONFIG = {
            BASE_URL: window.location.hostname === 'localhost'
                ? 'http://localhost:8000'
                : 'https://mcp-map-company.onrender.com',
            REFRESH_INTERVAL: 10000, // 10 seconds for real-time updates
            API_KEY: ''
        };

        // Chart variables
        let realTimeResponseChart = null;
        let systemResourceGauge = null;
        let dbPerformanceChart = null;
        let apiCallsChart = null;

        // ì‹œìŠ¤í…œ ìì› ëª¨ë‹ˆí„°ë§ ì°¨íŠ¸ ë³€ìˆ˜ë“¤
        let cpuUsageChart = null;
        let memoryUsageChart = null;
        let diskIOChart = null;
        let networkIOChart = null;

        // Real-time metrics data storage
        const metricsData = {
            timestamps: [],
            responseTimeHistory: [],
            dbLatencyHistory: [],
            cpuUsageHistory: [],
            memoryUsageHistory: [],
            activeUsersHistory: [],
            apiCallsByEndpoint: {},
            maxDataPoints: 30
        };

        // ì‹œìŠ¤í…œ ìì› ëª¨ë‹ˆí„°ë§ ë°ì´í„° ì €ì¥ì†Œ
        const systemResourceData = {
            timestamps: [],
            cpuHistory: [],
            memoryHistory: [],
            diskIOHistory: [],
            networkInHistory: [],
            networkOutHistory: [],
            maxDataPoints: 30,
            currentMetrics: {
                cpu: 0,
                memory: 0,
                disk: 0,
                networkIn: 0,
                networkOut: 0
            }
        };

        // Auto refresh state
        let autoRefreshEnabled = false;
        let refreshInterval = null;

        // Dark mode manager
        let darkModeManager = null;

        // =============================================
        // Utility Functions
        // =============================================

        function addLog(message, level = 'info') {
            const container = document.getElementById('logContainer');
            const now = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.className = `log-level-${level}`;
            logEntry.textContent = `[${now}] ${message}`;

            container.appendChild(logEntry);
            container.scrollTop = container.scrollHeight;

            // Keep only last 100 log entries
            while (container.children.length > 100) {
                container.removeChild(container.firstChild);
            }
        }

        function updateTimestamp() {
            const now = new Date().toLocaleString('ko-KR');
            document.getElementById('lastUpdated')?.textContent = `ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: ${now}`;
        }

        // =============================================
        // Chart Initialization Functions
        // =============================================

        function initRealTimeMetricsCharts() {
            const isDark = darkModeManager.isDarkMode();
            const textColor = isDark ? '#f3f4f6' : '#ffffff';
            const gridColor = isDark ? 'rgba(156, 163, 175, 0.2)' : 'rgba(255, 255, 255, 0.1)';

            // Initialize Real-time Response Chart
            const realTimeCtx = document.getElementById('realTimeResponseChart')?.getContext('2d');
            if (realTimeCtx) {
                window.realTimeResponseChart = realTimeResponseChart = new Chart(realTimeCtx, {
                    type: 'line',
                    data: {
                        labels: metricsData.timestamps,
                        datasets: [{
                            label: 'ì‘ë‹µì‹œê°„ (ms)',
                            data: metricsData.responseTimeHistory,
                            borderColor: '#60a5fa',
                            backgroundColor: 'rgba(96, 165, 250, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: { color: textColor }
                            }
                        },
                        scales: {
                            x: {
                                ticks: { color: textColor },
                                grid: { color: gridColor }
                            },
                            y: {
                                ticks: { color: textColor },
                                grid: { color: gridColor }
                            }
                        }
                    }
                });
            }

            // Initialize System Resource Gauge
            const systemCtx = document.getElementById('systemResourceGauge')?.getContext('2d');
            if (systemCtx) {
                window.systemResourceGauge = systemResourceGauge = new Chart(systemCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['CPU', 'Memory', 'Disk'],
                        datasets: [{
                            data: [0, 0, 0],
                            backgroundColor: [
                                'rgba(239, 68, 68, 0.8)',   // CPU - Red
                                'rgba(59, 130, 246, 0.8)',  // Memory - Blue
                                'rgba(16, 185, 129, 0.8)'   // Disk - Green
                            ],
                            borderColor: [
                                'rgba(239, 68, 68, 1)',
                                'rgba(59, 130, 246, 1)',
                                'rgba(16, 185, 129, 1)'
                            ],
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: { color: textColor },
                                position: 'bottom'
                            }
                        }
                    }
                });
            }

            // Initialize DB Performance Chart
            const dbCtx = document.getElementById('dbPerformanceChart')?.getContext('2d');
            if (dbCtx) {
                window.dbPerformanceChart = dbPerformanceChart = new Chart(dbCtx, {
                    type: 'line',
                    data: {
                        labels: metricsData.timestamps,
                        datasets: [{
                            label: 'DB ì§€ì—°ì‹œê°„ (ms)',
                            data: metricsData.dbLatencyHistory,
                            borderColor: '#8b5cf6',
                            backgroundColor: 'rgba(139, 92, 246, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: { color: textColor }
                            }
                        },
                        scales: {
                            x: {
                                ticks: { color: textColor },
                                grid: { color: gridColor }
                            },
                            y: {
                                ticks: { color: textColor },
                                grid: { color: gridColor }
                            }
                        }
                    }
                });
            }

            // Initialize API Calls Chart
            const apiCtx = document.getElementById('apiCallsChart')?.getContext('2d');
            if (apiCtx) {
                window.apiCallsChart = apiCallsChart = new Chart(apiCtx, {
                    type: 'bar',
                    data: {
                        labels: [],
                        datasets: [{
                            label: 'API í˜¸ì¶œ ìˆ˜',
                            data: [],
                            backgroundColor: [
                                'rgba(34, 197, 94, 0.8)',
                                'rgba(59, 130, 246, 0.8)',
                                'rgba(239, 68, 68, 0.8)',
                                'rgba(245, 158, 11, 0.8)',
                                'rgba(139, 92, 246, 0.8)'
                            ],
                            borderColor: [
                                'rgba(34, 197, 94, 1)',
                                'rgba(59, 130, 246, 1)',
                                'rgba(239, 68, 68, 1)',
                                'rgba(245, 158, 11, 1)',
                                'rgba(139, 92, 246, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: { color: textColor }
                            }
                        },
                        scales: {
                            x: {
                                ticks: { color: textColor },
                                grid: { color: gridColor }
                            },
                            y: {
                                ticks: { color: textColor },
                                grid: { color: gridColor }
                            }
                        }
                    }
                });
            }

            addLog('ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ ì°¨íŠ¸ ì´ˆê¸°í™” ì™„ë£Œ', 'info');
        }

        // =============================================
        // ì‹œìŠ¤í…œ ìì› ëª¨ë‹ˆí„°ë§ ì°¨íŠ¸ ì´ˆê¸°í™” í•¨ìˆ˜
        // =============================================

        function initSystemResourceCharts() {
            const isDark = darkModeManager.isDarkMode();
            const textColor = isDark ? '#f3f4f6' : '#ffffff';
            const gridColor = isDark ? 'rgba(156, 163, 175, 0.2)' : 'rgba(255, 255, 255, 0.1)';

            // CPU ì‚¬ìš©ë¥  ì°¨íŠ¸ ì´ˆê¸°í™”
            const cpuCtx = document.getElementById('cpuUsageChart')?.getContext('2d');
            if (cpuCtx) {
                window.cpuUsageChart = cpuUsageChart = new Chart(cpuCtx, {
                    type: 'line',
                    data: {
                        labels: systemResourceData.timestamps,
                        datasets: [{
                            label: 'CPU ì‚¬ìš©ë¥  (%)',
                            data: systemResourceData.cpuHistory,
                            borderColor: '#ef4444',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: { color: textColor }
                            }
                        },
                        scales: {
                            x: {
                                ticks: { color: textColor },
                                grid: { color: gridColor }
                            },
                            y: {
                                ticks: { color: textColor },
                                grid: { color: gridColor },
                                beginAtZero: true,
                                max: 100
                            }
                        }
                    }
                });
            }

            // ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  ì°¨íŠ¸ ì´ˆê¸°í™”
            const memoryCtx = document.getElementById('memoryUsageChart')?.getContext('2d');
            if (memoryCtx) {
                window.memoryUsageChart = memoryUsageChart = new Chart(memoryCtx, {
                    type: 'line',
                    data: {
                        labels: systemResourceData.timestamps,
                        datasets: [{
                            label: 'ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  (%)',
                            data: systemResourceData.memoryHistory,
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: { color: textColor }
                            }
                        },
                        scales: {
                            x: {
                                ticks: { color: textColor },
                                grid: { color: gridColor }
                            },
                            y: {
                                ticks: { color: textColor },
                                grid: { color: gridColor },
                                beginAtZero: true,
                                max: 100
                            }
                        }
                    }
                });
            }

            // ë””ìŠ¤í¬ I/O ì°¨íŠ¸ ì´ˆê¸°í™”
            const diskCtx = document.getElementById('diskIOChart')?.getContext('2d');
            if (diskCtx) {
                window.diskIOChart = diskIOChart = new Chart(diskCtx, {
                    type: 'line',
                    data: {
                        labels: systemResourceData.timestamps,
                        datasets: [{
                            label: 'ë””ìŠ¤í¬ ì‚¬ìš©ë¥  (%)',
                            data: systemResourceData.diskIOHistory,
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: { color: textColor }
                            }
                        },
                        scales: {
                            x: {
                                ticks: { color: textColor },
                                grid: { color: gridColor }
                            },
                            y: {
                                ticks: { color: textColor },
                                grid: { color: gridColor },
                                beginAtZero: true,
                                max: 100
                            }
                        }
                    }
                });
            }

            // ë„¤íŠ¸ì›Œí¬ I/O ì°¨íŠ¸ ì´ˆê¸°í™”
            const networkCtx = document.getElementById('networkIOChart')?.getContext('2d');
            if (networkCtx) {
                window.networkIOChart = networkIOChart = new Chart(networkCtx, {
                    type: 'line',
                    data: {
                        labels: systemResourceData.timestamps,
                        datasets: [{
                            label: 'ì—…ë¡œë“œ (MB/s)',
                            data: systemResourceData.networkInHistory,
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            borderWidth: 2,
                            fill: false,
                            tension: 0.4
                        }, {
                            label: 'ë‹¤ìš´ë¡œë“œ (MB/s)',
                            data: systemResourceData.networkOutHistory,
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            borderWidth: 2,
                            fill: false,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: { color: textColor }
                            }
                        },
                        scales: {
                            x: {
                                ticks: { color: textColor },
                                grid: { color: gridColor }
                            },
                            y: {
                                ticks: { color: textColor },
                                grid: { color: gridColor },
                                beginAtZero: true
                            }
                        }
                    }
                });
            }

            addLog('ì‹œìŠ¤í…œ ìì› ëª¨ë‹ˆí„°ë§ ì°¨íŠ¸ ì´ˆê¸°í™” ì™„ë£Œ', 'info');
        }

        // =============================================
        // Data Fetching Functions
        // =============================================

        async function checkHealth() {
            try {
                const response = await fetch(`${CONFIG.BASE_URL}/health`);
                const data = await response.json();

                document.getElementById('healthStatus').textContent = 'ì •ìƒ';
                document.getElementById('healthStatus').className = 'text-green-400 text-2xl font-bold mt-2';

                addLog('ì‹œìŠ¤í…œ ìƒíƒœ ì ê²€ ì™„ë£Œ - ì •ìƒ', 'info');
                return true;
            } catch (error) {
                document.getElementById('healthStatus').textContent = 'ì˜¤ë¥˜';
                document.getElementById('healthStatus').className = 'text-red-400 text-2xl font-bold mt-2';

                addLog(`ì‹œìŠ¤í…œ ìƒíƒœ ì ê²€ ì‹¤íŒ¨: ${error.message}`, 'error');
                return false;
            }
        }

        async function checkAPI() {
            try {
                const response = await fetch(`${CONFIG.BASE_URL}/api/v1/health`);
                const data = await response.json();

                document.getElementById('apiStatus').textContent = 'ì—°ê²°ë¨';
                document.getElementById('apiStatus').className = 'text-green-400 text-2xl font-bold mt-2';

                addLog('API ìƒíƒœ ì ê²€ ì™„ë£Œ - ì—°ê²°ë¨', 'info');
                return true;
            } catch (error) {
                document.getElementById('apiStatus').textContent = 'ì˜¤ë¥˜';
                document.getElementById('apiStatus').className = 'text-red-400 text-2xl font-bold mt-2';

                addLog(`API ìƒíƒœ ì ê²€ ì‹¤íŒ¨: ${error.message}`, 'error');
                return false;
            }
        }

        async function refreshRealTimeMetrics() {
            try {
                // Simulate metrics data for demo
                const mockMetrics = {
                    timestamp: new Date().toISOString(),
                    system: {
                        cpu_percent: Math.random() * 100,
                        memory_percent: Math.random() * 100,
                        disk_percent: Math.random() * 100
                    },
                    application: {
                        avg_response_time: Math.random() * 200 + 50,
                        active_users: Math.floor(Math.random() * 50),
                        uptime_hours: Math.random() * 24
                    },
                    database: {
                        avg_latency: Math.random() * 50 + 10,
                        active_connections: Math.floor(Math.random() * 20)
                    }
                };

                updateRealTimeMetrics(mockMetrics);
                addLog('ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ ì—…ë°ì´íŠ¸ ì™„ë£Œ', 'info');

            } catch (error) {
                addLog(`ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨: ${error.message}`, 'error');
            }
        }

        function updateRealTimeMetrics(metrics) {
            // Update summary cards
            document.getElementById('avgResponseTime').textContent =
                metrics.application?.avg_response_time?.toFixed(1) || '-';
            document.getElementById('dbLatency').textContent =
                metrics.database?.avg_latency?.toFixed(1) || '-';
            document.getElementById('activeUsers').textContent =
                metrics.application?.active_users || '-';
            document.getElementById('systemCpu').textContent =
                metrics.system?.cpu_percent?.toFixed(1) + '%' || '-';

            // Add new data point to time series
            const now = new Date().toLocaleTimeString('ko-KR', {
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });

            metricsData.timestamps.push(now);
            metricsData.responseTimeHistory.push(metrics.application?.avg_response_time || 0);
            metricsData.dbLatencyHistory.push(metrics.database?.avg_latency || 0);
            metricsData.cpuUsageHistory.push(metrics.system?.cpu_percent || 0);
            metricsData.memoryUsageHistory.push(metrics.system?.memory_percent || 0);
            metricsData.activeUsersHistory.push(metrics.application?.active_users || 0);

            // Keep only recent data points
            if (metricsData.timestamps.length > metricsData.maxDataPoints) {
                metricsData.timestamps.shift();
                metricsData.responseTimeHistory.shift();
                metricsData.dbLatencyHistory.shift();
                metricsData.cpuUsageHistory.shift();
                metricsData.memoryUsageHistory.shift();
                metricsData.activeUsersHistory.shift();
            }

            // Update charts
            updateRealTimeCharts(metrics);
        }

        // =============================================
        // ì‹œìŠ¤í…œ ìì› ëª¨ë‹ˆí„°ë§ ë°ì´í„° í•¨ìˆ˜ë“¤
        // =============================================

        async function fetchSystemMetrics() {
            try {
                // APIì—ì„œ ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì‹œë„
                const response = await fetch(`${CONFIG.BASE_URL}/api/v1/metrics/system`).catch(() => null);

                let systemMetrics;
                if (response && response.ok) {
                    systemMetrics = await response.json();
                    addLog('ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­ APIì—ì„œ ë°ì´í„° ë¡œë“œ ì™„ë£Œ', 'info');
                } else {
                    // APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ê²½ìš° ëª¨ì˜ ë°ì´í„° ìƒì„±
                    systemMetrics = generateMockSystemMetrics();
                    addLog('API ì—°ê²° ì‹¤íŒ¨ - ëª¨ì˜ ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­ ë°ì´í„° ì‚¬ìš©', 'warning');
                }

                updateSystemResourceMetrics(systemMetrics);
                addLog('ì‹œìŠ¤í…œ ìì› ë©”íŠ¸ë¦­ ì—…ë°ì´íŠ¸ ì™„ë£Œ', 'info');

            } catch (error) {
                addLog(`ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­ ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨: ${error.message}`, 'error');
                // ì˜¤ë¥˜ ë°œìƒ ì‹œ ëª¨ì˜ ë°ì´í„° ì‚¬ìš©
                const fallbackMetrics = generateMockSystemMetrics();
                updateSystemResourceMetrics(fallbackMetrics);
            }
        }

        function generateMockSystemMetrics() {
            // ì‹¤ì œ ì‹œìŠ¤í…œê³¼ ìœ ì‚¬í•œ íŒ¨í„´ì˜ ëª¨ì˜ ë°ì´í„° ìƒì„±
            const now = Date.now();
            const timeVariation = Math.sin(now / 300000) * 0.3; // 5ë¶„ ì£¼ê¸° ë³€ë™

            return {
                timestamp: new Date().toISOString(),
                cpu: Math.max(0, Math.min(100, 15 + Math.random() * 50 + timeVariation * 20)),
                memory: Math.max(0, Math.min(100, 40 + Math.random() * 30 + timeVariation * 15)),
                disk: Math.max(0, Math.min(100, 60 + Math.random() * 20 + timeVariation * 10)),
                network: {
                    in: Math.random() * 50 + timeVariation * 10,
                    out: Math.random() * 30 + timeVariation * 8
                },
                system_info: {
                    load_average: (Math.random() * 2).toFixed(2),
                    processes: Math.floor(200 + Math.random() * 100),
                    health_score: Math.floor(85 + Math.random() * 15)
                }
            };
        }

        function updateSystemResourceMetrics(metrics) {
            // í˜„ì¬ ë©”íŠ¸ë¦­ ì—…ë°ì´íŠ¸
            systemResourceData.currentMetrics = {
                cpu: metrics.cpu || 0,
                memory: metrics.memory || 0,
                disk: metrics.disk || 0,
                networkIn: metrics.network?.in || 0,
                networkOut: metrics.network?.out || 0
            };

            // UI ì¹´ë“œ ì—…ë°ì´íŠ¸
            updateSystemResourceCards(metrics);

            // ì‹œê°„ë³„ ë°ì´í„° íˆìŠ¤í† ë¦¬ì— ì¶”ê°€
            const now = new Date().toLocaleTimeString('ko-KR', {
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });

            systemResourceData.timestamps.push(now);
            systemResourceData.cpuHistory.push(metrics.cpu || 0);
            systemResourceData.memoryHistory.push(metrics.memory || 0);
            systemResourceData.diskIOHistory.push(metrics.disk || 0);
            systemResourceData.networkInHistory.push(metrics.network?.in || 0);
            systemResourceData.networkOutHistory.push(metrics.network?.out || 0);

            // ìµœëŒ€ ë°ì´í„° í¬ì¸íŠ¸ ìˆ˜ ì œí•œ
            if (systemResourceData.timestamps.length > systemResourceData.maxDataPoints) {
                systemResourceData.timestamps.shift();
                systemResourceData.cpuHistory.shift();
                systemResourceData.memoryHistory.shift();
                systemResourceData.diskIOHistory.shift();
                systemResourceData.networkInHistory.shift();
                systemResourceData.networkOutHistory.shift();
            }

            // ì°¨íŠ¸ ì—…ë°ì´íŠ¸
            updateSystemResourceCharts();
        }

        function updateSystemResourceCards(metrics) {
            // CPU ì‚¬ìš©ë¥  ì¹´ë“œ ì—…ë°ì´íŠ¸
            const cpuPercent = metrics.cpu?.toFixed(1) || '-';
            document.getElementById('cpuUsagePercent').textContent = `${cpuPercent}%`;

            const cpuProgressBar = document.getElementById('cpuProgressBar');
            if (cpuProgressBar) {
                cpuProgressBar.style.width = `${metrics.cpu || 0}%`;
                // CPU ì‚¬ìš©ë¥ ì— ë”°ë¥¸ ìƒ‰ìƒ ë³€ê²½
                if (metrics.cpu > 80) {
                    cpuProgressBar.className = 'bg-red-500 h-2 rounded-full transition-all duration-500';
                } else if (metrics.cpu > 60) {
                    cpuProgressBar.className = 'bg-yellow-500 h-2 rounded-full transition-all duration-500';
                } else {
                    cpuProgressBar.className = 'bg-green-500 h-2 rounded-full transition-all duration-500';
                }
            }

            // ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  ì¹´ë“œ ì—…ë°ì´íŠ¸
            const memoryPercent = metrics.memory?.toFixed(1) || '-';
            document.getElementById('memoryUsagePercent').textContent = `${memoryPercent}%`;

            const memoryProgressBar = document.getElementById('memoryProgressBar');
            if (memoryProgressBar) {
                memoryProgressBar.style.width = `${metrics.memory || 0}%`;
                // ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ ì— ë”°ë¥¸ ìƒ‰ìƒ ë³€ê²½
                if (metrics.memory > 80) {
                    memoryProgressBar.className = 'bg-red-500 h-2 rounded-full transition-all duration-500';
                } else if (metrics.memory > 60) {
                    memoryProgressBar.className = 'bg-yellow-500 h-2 rounded-full transition-all duration-500';
                } else {
                    memoryProgressBar.className = 'bg-blue-500 h-2 rounded-full transition-all duration-500';
                }
            }

            // ë””ìŠ¤í¬ ì‚¬ìš©ë¥  ì¹´ë“œ ì—…ë°ì´íŠ¸
            const diskPercent = metrics.disk?.toFixed(1) || '-';
            document.getElementById('diskUsagePercent').textContent = `${diskPercent}%`;

            const diskProgressBar = document.getElementById('diskProgressBar');
            if (diskProgressBar) {
                diskProgressBar.style.width = `${metrics.disk || 0}%`;
                // ë””ìŠ¤í¬ ì‚¬ìš©ë¥ ì— ë”°ë¥¸ ìƒ‰ìƒ ë³€ê²½
                if (metrics.disk > 90) {
                    diskProgressBar.className = 'bg-red-500 h-2 rounded-full transition-all duration-500';
                } else if (metrics.disk > 75) {
                    diskProgressBar.className = 'bg-yellow-500 h-2 rounded-full transition-all duration-500';
                } else {
                    diskProgressBar.className = 'bg-green-500 h-2 rounded-full transition-all duration-500';
                }
            }

            // ë„¤íŠ¸ì›Œí¬ I/O ì¹´ë“œ ì—…ë°ì´íŠ¸
            const networkIn = metrics.network?.in?.toFixed(1) || '0';
            const networkOut = metrics.network?.out?.toFixed(1) || '0';
            const totalIO = ((metrics.network?.in || 0) + (metrics.network?.out || 0)).toFixed(1);

            document.getElementById('networkIORate').textContent = `${totalIO}`;
            document.getElementById('networkUpload').textContent = networkOut;
            document.getElementById('networkDownload').textContent = networkIn;

            // ì‹œìŠ¤í…œ ì •ë³´ ìš”ì•½ ì—…ë°ì´íŠ¸
            if (metrics.system_info) {
                document.getElementById('avgLoadLevel').textContent = metrics.system_info.load_average || '0.0';
                document.getElementById('activeProcesses').textContent = metrics.system_info.processes || '0';
                document.getElementById('systemHealthScore').textContent = metrics.system_info.health_score || '95';
            }
        }

        function updateSystemResourceCharts() {
            // CPU ì‚¬ìš©ë¥  ì°¨íŠ¸ ì—…ë°ì´íŠ¸
            if (cpuUsageChart) {
                cpuUsageChart.data.labels = [...systemResourceData.timestamps];
                cpuUsageChart.data.datasets[0].data = [...systemResourceData.cpuHistory];
                cpuUsageChart.update('none');
            }

            // ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  ì°¨íŠ¸ ì—…ë°ì´íŠ¸
            if (memoryUsageChart) {
                memoryUsageChart.data.labels = [...systemResourceData.timestamps];
                memoryUsageChart.data.datasets[0].data = [...systemResourceData.memoryHistory];
                memoryUsageChart.update('none');
            }

            // ë””ìŠ¤í¬ I/O ì°¨íŠ¸ ì—…ë°ì´íŠ¸
            if (diskIOChart) {
                diskIOChart.data.labels = [...systemResourceData.timestamps];
                diskIOChart.data.datasets[0].data = [...systemResourceData.diskIOHistory];
                diskIOChart.update('none');
            }

            // ë„¤íŠ¸ì›Œí¬ I/O ì°¨íŠ¸ ì—…ë°ì´íŠ¸
            if (networkIOChart) {
                networkIOChart.data.labels = [...systemResourceData.timestamps];
                networkIOChart.data.datasets[0].data = [...systemResourceData.networkInHistory];
                networkIOChart.data.datasets[1].data = [...systemResourceData.networkOutHistory];
                networkIOChart.update('none');
            }
        }

        async function refreshSystemMetrics() {
            addLog('ì‹œìŠ¤í…œ ìì› ë©”íŠ¸ë¦­ ìƒˆë¡œê³ ì¹¨ ì¤‘...', 'info');
            await fetchSystemMetrics();
        }

        function updateRealTimeCharts(metrics) {
            // Update real-time response chart
            if (realTimeResponseChart) {
                realTimeResponseChart.data.labels = [...metricsData.timestamps];
                realTimeResponseChart.data.datasets[0].data = [...metricsData.responseTimeHistory];
                realTimeResponseChart.update('none');
            }

            // Update system resource gauge
            if (systemResourceGauge) {
                systemResourceGauge.data.datasets[0].data = [
                    metrics.system?.cpu_percent || 0,
                    metrics.system?.memory_percent || 0,
                    metrics.system?.disk_percent || 0
                ];
                systemResourceGauge.update('none');
            }

            // Update DB performance chart
            if (dbPerformanceChart) {
                dbPerformanceChart.data.labels = [...metricsData.timestamps];
                dbPerformanceChart.data.datasets[0].data = [...metricsData.dbLatencyHistory];
                dbPerformanceChart.update('none');
            }

            // Update API calls chart with mock data
            if (apiCallsChart) {
                const endpoints = ['/api/health', '/api/metrics', '/api/status', '/api/data'];
                const calls = endpoints.map(() => Math.floor(Math.random() * 100));

                apiCallsChart.data.labels = endpoints;
                apiCallsChart.data.datasets[0].data = calls;
                apiCallsChart.update('none');
            }
        }

        // =============================================
        // Auto Refresh Functions
        // =============================================

        function toggleAutoRefresh() {
            autoRefreshEnabled = !autoRefreshEnabled;
            const toggle = document.getElementById('autoRefreshToggle');

            if (autoRefreshEnabled) {
                toggle.classList.add('active');
                startAutoRefresh();
                addLog('ìë™ ìƒˆë¡œê³ ì¹¨ í™œì„±í™”', 'info');
            } else {
                toggle.classList.remove('active');
                stopAutoRefresh();
                addLog('ìë™ ìƒˆë¡œê³ ì¹¨ ë¹„í™œì„±í™”', 'info');
            }
        }

        function startAutoRefresh() {
            if (refreshInterval) {
                clearInterval(refreshInterval);
            }

            refreshInterval = setInterval(async () => {
                await refreshAll();
            }, CONFIG.REFRESH_INTERVAL);
        }

        function stopAutoRefresh() {
            if (refreshInterval) {
                clearInterval(refreshInterval);
                refreshInterval = null;
            }
        }

        async function refreshAll() {
            addLog('ì „ì²´ ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì‹œì‘', 'info');
            updateTimestamp();

            try {
                await Promise.allSettled([
                    checkHealth(),
                    checkAPI(),
                    refreshRealTimeMetrics(),
                    fetchSystemMetrics()  // ì‹œìŠ¤í…œ ìì› ë©”íŠ¸ë¦­ë„ ìë™ ìƒˆë¡œê³ ì¹¨ì— í¬í•¨
                ]);

                addLog('ì „ì²´ ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì™„ë£Œ', 'info');
            } catch (error) {
                addLog(`ìƒˆë¡œê³ ì¹¨ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: ${error.message}`, 'error');
            }
        }

        // =============================================
        // Enhanced Alerts Panel Functions
        // =============================================

        // Alerts data and state management
        let allAlertsData = [];
        let filteredAlertsData = [];
        let alertsStats = { critical: 0, error: 0, warning: 0, info: 0 };
        let currentPage = 1;
        let alertsPerPage = 20;
        let searchTerm = '';
        let levelFilter = 'all';
        let dateFilter = 'today'; // ë‚ ì§œ í•„í„° ë³€ìˆ˜ ì¶”ê°€

        function generateMockAlerts() {
            const alertTypes = ['critical', 'error', 'warning', 'info'];
            const alertTitles = [
                'Database Connection Lost',
                'High Memory Usage Detected',
                'API Rate Limit Exceeded',
                'System Backup Completed',
                'New User Registration',
                'Service Restart Required',
                'Cache Clear Warning',
                'Security Alert Triggered',
                'Performance Degradation',
                'Health Check Success',
                'SSL Certificate Expiring',
                'Disk Space Warning',
                'Network Latency High',
                'Scheduled Maintenance',
                'Data Sync Complete',
                'Login Failure Detected',
                'File Upload Error',
                'Payment Processing Issue',
                'Email Service Down',
                'CDN Response Slow'
            ];

            const channels = ['Slack', 'Discord', 'Email', 'SMS'];
            const statuses = ['sent', 'failed', 'pending', 'retry'];

            const alerts = [];
            // Generate 100 alerts for better pagination testing
            for (let i = 0; i < 100; i++) {
                const type = alertTypes[Math.floor(Math.random() * alertTypes.length)];
                const title = alertTitles[Math.floor(Math.random() * alertTitles.length)];
                const timestamp = new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000); // Last 30 days

                // ë¡œê·¸ ë§í¬ ìƒì„± (ì‹¬ê°ë„ë³„)
                const logLinks = getLogLinksForType(type);

                // ì¶”ê°€ ì •ë³´ ìƒì„±
                const additionalInfo = getAdditionalInfoForAlert(type, title);

                // ë¡œê·¸ ë‚´ìš© (Criticalê³¼ Errorì˜ ê²½ìš°ë§Œ)
                const logContent = (type === 'critical' || type === 'error') ? generateMockLogContent(type) : null;

                alerts.push({
                    id: `alert-${String(i + 1).padStart(6, '0')}`, // alert-000001 í˜•ì‹
                    type: type,
                    title: title,
                    message: getAlertMessage(type, title),
                    timestamp: timestamp,
                    resolved: Math.random() > 0.7,
                    source: ['API', 'Database', 'Security', 'System', 'Network'][Math.floor(Math.random() * 5)],
                    channel: channels[Math.floor(Math.random() * channels.length)],
                    status: statuses[Math.floor(Math.random() * statuses.length)],
                    logLinks: logLinks,
                    additionalInfo: additionalInfo,
                    logContent: logContent,
                    retryCount: type === 'critical' || type === 'error' ? Math.floor(Math.random() * 3) : 0
                });
            }

            // Sort by timestamp (newest first)
            return alerts.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
        }

        // ì‹¬ê°ë„ë³„ ë¡œê·¸ ë§í¬ ìƒì„± í•¨ìˆ˜
        function getLogLinksForType(type) {
            const baseUrl = 'http://localhost:8088/logs';
            const links = [];

            if (type === 'critical' || type === 'error') {
                links.push(
                    { name: 'ë³´ì•ˆ ë¡œê·¸', url: `${baseUrl}/security.log` },
                    { name: 'API ë¡œê·¸', url: `${baseUrl}/api.log` },
                    { name: 'ì‹œìŠ¤í…œ ë¡œê·¸', url: `${baseUrl}/app.log` }
                );
            } else if (type === 'warning') {
                links.push(
                    { name: 'API ë¡œê·¸', url: `${baseUrl}/api.log` },
                    { name: 'ì‹œìŠ¤í…œ ë¡œê·¸', url: `${baseUrl}/app.log` }
                );
            } else {
                links.push(
                    { name: 'ì‹œìŠ¤í…œ ë¡œê·¸', url: `${baseUrl}/app.log` }
                );
            }

            return links;
        }

        // ì¶”ê°€ ì •ë³´ ìƒì„± í•¨ìˆ˜
        function getAdditionalInfoForAlert(type, title) {
            const additionalInfoMap = {
                'Database Connection Lost': {
                    'Connection Pool': '15/20 ì‚¬ìš© ì¤‘',
                    'Last Successful Connection': '2024-01-15 14:30:25',
                    'Error Code': 'DB_CONN_TIMEOUT_001'
                },
                'High Memory Usage Detected': {
                    'Memory Usage': '85% (6.8GB / 8GB)',
                    'Top Process': 'mcp-api (2.3GB)',
                    'Threshold': '80%'
                },
                'API Rate Limit Exceeded': {
                    'Client IP': '192.168.1.100',
                    'Request Count': '156/100 (ë¶„ë‹¹)',
                    'Endpoint': '/api/v1/portfolio'
                },
                'Security Alert Triggered': {
                    'Event Type': 'Suspicious Login',
                    'Source IP': '203.0.113.50',
                    'Risk Level': 'High'
                }
            };

            return additionalInfoMap[title] || {
                'Alert ID': `ALT-${Math.floor(Math.random() * 100000)}`,
                'Source': 'MCP-MAP System',
                'Priority': type === 'critical' ? 'P1' : type === 'error' ? 'P2' : 'P3'
            };
        }

        // ëª¨ì˜ ë¡œê·¸ ë‚´ìš© ìƒì„± í•¨ìˆ˜
        function generateMockLogContent(type) {
            const criticalLogs = [
                '2024-01-15 14:30:25 [CRITICAL] Database connection pool exhausted',
                '2024-01-15 14:30:24 [ERROR] Failed to acquire database connection after 30s timeout',
                '2024-01-15 14:30:23 [WARN] Connection pool usage above 90%',
                '2024-01-15 14:30:22 [INFO] New connection request queued',
                '2024-01-15 14:30:21 [DEBUG] Active connections: 19/20'
            ];

            const errorLogs = [
                '2024-01-15 14:30:25 [ERROR] API request failed with status 500',
                '2024-01-15 14:30:24 [WARN] High response time detected: 2.5s',
                '2024-01-15 14:30:23 [INFO] Processing request from 192.168.1.100',
                '2024-01-15 14:30:22 [DEBUG] Request validation successful'
            ];

            return type === 'critical' ? criticalLogs.join('\n') : errorLogs.join('\n');
        }

        function getAlertMessage(type, title) {
            const messages = {
                critical: [
                    'Immediate attention required - system stability at risk',
                    'Service unavailable - critical failure detected',
                    'Data integrity compromised - urgent action needed'
                ],
                error: [
                    'Service error detected - user experience impacted',
                    'API request failed - retry mechanism activated',
                    'Process crashed - automatic restart attempted'
                ],
                warning: [
                    'Resource usage approaching threshold limits',
                    'Performance degradation observed in subsystem',
                    'Scheduled maintenance window approaching'
                ],
                info: [
                    'Routine operation completed successfully',
                    'System checkpoint reached normally',
                    'Regular maintenance task executed'
                ]
            };

            const typeMessages = messages[type] || messages.info;
            return typeMessages[Math.floor(Math.random() * typeMessages.length)];
        }

        function getAlertIcon(type) {
            const icons = {
                critical: 'ğŸš¨',
                error: 'âŒ',
                warning: 'âš ï¸',
                info: 'â„¹ï¸'
            };
            return icons[type] || 'â„¹ï¸';
        }

        function getAlertColorClasses(type) {
            const colors = {
                critical: {
                    bg: 'bg-red-500/10 dark:bg-red-600/10',
                    border: 'border-l-red-500 dark:border-l-red-400',
                    text: 'text-red-300 dark:text-red-200',
                    time: 'text-red-400 dark:text-red-300'
                },
                error: {
                    bg: 'bg-orange-500/10 dark:bg-orange-600/10',
                    border: 'border-l-orange-500 dark:border-l-orange-400',
                    text: 'text-orange-300 dark:text-orange-200',
                    time: 'text-orange-400 dark:text-orange-300'
                },
                warning: {
                    bg: 'bg-yellow-500/10 dark:bg-yellow-600/10',
                    border: 'border-l-yellow-500 dark:border-l-yellow-400',
                    text: 'text-yellow-300 dark:text-yellow-200',
                    time: 'text-yellow-400 dark:text-yellow-300'
                },
                info: {
                    bg: 'bg-blue-500/10 dark:bg-blue-600/10',
                    border: 'border-l-blue-500 dark:border-l-blue-400',
                    text: 'text-blue-300 dark:text-blue-200',
                    time: 'text-blue-400 dark:text-blue-300'
                }
            };
            return colors[type] || colors.info;
        }

        function filterAlerts() {
            // Start with all alerts
            let filtered = [...allAlertsData];

            // Apply date filter (ë‚ ì§œ í•„í„° ì ìš©)
            if (dateFilter !== 'all') {
                const now = new Date();
                const cutoffDate = new Date();

                switch (dateFilter) {
                    case 'today':
                        cutoffDate.setHours(0, 0, 0, 0); // ì˜¤ëŠ˜ 00:00:00
                        break;
                    case '7days':
                        cutoffDate.setDate(now.getDate() - 7); // 7ì¼ ì „
                        break;
                    case '30days':
                        cutoffDate.setDate(now.getDate() - 30); // 30ì¼ ì „
                        break;
                }

                filtered = filtered.filter(alert => new Date(alert.timestamp) >= cutoffDate);
            }

            // Apply level filter
            if (levelFilter !== 'all') {
                filtered = filtered.filter(alert => alert.type === levelFilter);
            }

            // Apply search filter
            if (searchTerm) {
                const searchLower = searchTerm.toLowerCase();
                filtered = filtered.filter(alert =>
                    alert.title.toLowerCase().includes(searchLower) ||
                    alert.message.toLowerCase().includes(searchLower) ||
                    alert.source.toLowerCase().includes(searchLower) ||
                    alert.id.toLowerCase().includes(searchLower)
                );
            }

            filteredAlertsData = filtered;
            currentPage = 1; // Reset to first page after filtering
            updateAlertsDisplay();
        }

        function updateAlertsStats() {
            alertsStats = { critical: 0, error: 0, warning: 0, info: 0 };

            allAlertsData.forEach(alert => {
                if (!alert.resolved && alertsStats.hasOwnProperty(alert.type)) {
                    alertsStats[alert.type]++;
                }
            });

            // Update UI
            document.getElementById('criticalCount').textContent = alertsStats.critical;
            document.getElementById('errorCount').textContent = alertsStats.error;
            document.getElementById('warningCount').textContent = alertsStats.warning;
            document.getElementById('infoCount').textContent = alertsStats.info;
        }

        function updateAlertsDisplay() {
            renderAlertsList();
            renderPagination();
            updateAlertsCounter();
        }

        function updateAlertsCounter() {
            const totalFiltered = filteredAlertsData.length;
            const totalPages = Math.ceil(totalFiltered / alertsPerPage);

            document.getElementById('alertsCount').textContent = `(${totalFiltered}ê°œ)`;
            document.getElementById('currentPageInfo').textContent = `í˜ì´ì§€ ${currentPage} / ${totalPages}`;
        }

        function renderAlertsList() {
            const alertsList = document.getElementById('alertsList');

            if (filteredAlertsData.length === 0) {
                alertsList.innerHTML = `
                    <div class="p-4 text-center text-white/60 dark:text-gray-400">
                        ${searchTerm || levelFilter !== 'all' ? 'ê²€ìƒ‰ ì¡°ê±´ì— ë§ëŠ” ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤.' : 'í˜„ì¬ í‘œì‹œí•  ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤.'}
                    </div>
                `;
                return;
            }

            // Calculate pagination
            const startIndex = (currentPage - 1) * alertsPerPage;
            const endIndex = startIndex + alertsPerPage;
            const pageAlerts = filteredAlertsData.slice(startIndex, endIndex);

            const alertsHtml = pageAlerts.map(alert => {
                const colors = getAlertColorClasses(alert.type);
                const icon = getAlertIcon(alert.type);
                const timeStr = alert.timestamp.toLocaleDateString('ko-KR', {
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });

                const resolvedClass = alert.resolved ? 'opacity-60' : '';
                const resolvedBadge = alert.resolved ? '<span class="text-green-400 text-xs ml-2">âœ“ í•´ê²°ë¨</span>' : '';

                return `
                    <div class="border-b border-white/10 dark:border-gray-700 last:border-b-0 ${resolvedClass}">
                        <div class="p-4 ${colors.bg} ${colors.border} border-l-4 alert-item" onclick="showAlertDetailModal('${alert.id}')">
                            <div class="flex items-start justify-between">
                                <div class="flex-1">
                                    <div class="flex items-center mb-2">
                                        <span class="text-lg mr-2">${icon}</span>
                                        <span class="font-medium ${colors.text} text-sm uppercase tracking-wide">${alert.type}</span>
                                        ${resolvedBadge}
                                        <span class="text-white/60 text-xs ml-2">#${alert.id}</span>
                                    </div>
                                    <h4 class="text-white dark:text-gray-100 font-semibold mb-1">${alert.title}</h4>
                                    <p class="text-white/80 dark:text-gray-300 text-sm mb-2">${alert.message}</p>
                                    <div class="flex items-center space-x-4 text-xs text-white/60">
                                        <span>ğŸ“¡ ${alert.channel}</span>
                                        <span>ğŸ“Š ${alert.source}</span>
                                        <span class="${alert.status === 'sent' ? 'text-green-400' : alert.status === 'failed' ? 'text-red-400' : 'text-yellow-400'}">
                                            ${alert.status === 'sent' ? 'âœ…' : alert.status === 'failed' ? 'âŒ' : 'â³'} ${alert.status}
                                        </span>
                                    </div>
                                </div>
                                <div class="text-right ml-4">
                                    <div class="${colors.time} text-xs">${timeStr}</div>
                                    <div class="text-white/60 text-xs mt-1">í´ë¦­í•˜ì—¬ ì„¸ë¶€ì •ë³´ ë³´ê¸°</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');

            alertsList.innerHTML = alertsHtml;
        }

        function renderPagination() {
            const totalPages = Math.ceil(filteredAlertsData.length / alertsPerPage);

            // Update pagination buttons
            const prevBtn = document.getElementById('prevPageBtn');
            const nextBtn = document.getElementById('nextPageBtn');
            const pageNumbers = document.getElementById('pageNumbers');

            prevBtn.disabled = currentPage === 1;
            nextBtn.disabled = currentPage === totalPages || totalPages === 0;

            // Generate page numbers
            let pageNumbersHtml = '';
            const maxVisiblePages = 5;
            let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));
            let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);

            if (endPage - startPage + 1 < maxVisiblePages) {
                startPage = Math.max(1, endPage - maxVisiblePages + 1);
            }

            for (let i = startPage; i <= endPage; i++) {
                const isActive = i === currentPage;
                pageNumbersHtml += `
                    <button
                        onclick="goToPage(${i})"
                        class="px-2 py-1 text-sm rounded transition-colors duration-200 ${isActive
                            ? 'bg-blue-600 text-white'
                            : 'bg-white/10 text-white/70 hover:bg-white/20'
                        }"
                    >
                        ${i}
                    </button>
                `;
            }

            pageNumbers.innerHTML = pageNumbersHtml;
        }

        function goToPage(page) {
            const totalPages = Math.ceil(filteredAlertsData.length / alertsPerPage);
            if (page >= 1 && page <= totalPages) {
                currentPage = page;
                updateAlertsDisplay();
            }
        }

        function changePage(direction) {
            const totalPages = Math.ceil(filteredAlertsData.length / alertsPerPage);
            let newPage = currentPage + direction;

            if (newPage >= 1 && newPage <= totalPages) {
                currentPage = newPage;
                updateAlertsDisplay();
            }
        }

        function changeAlertsPerPage(newPerPage) {
            alertsPerPage = newPerPage;
            currentPage = 1; // Reset to first page
            updateAlertsDisplay();
        }

        async function initializeAlerts() {
            try {
                // For now, use mock data. In production, this would fetch from API
                allAlertsData = generateMockAlerts();
                filteredAlertsData = [...allAlertsData];
                updateAlertsStats();
                updateAlertsDisplay();

                // Set up event listeners for filtering and pagination
                setupAlertsEventListeners();

                addLog('ì•Œë¦¼ íŒ¨ë„ ì´ˆê¸°í™” ì™„ë£Œ', 'info');
            } catch (error) {
                addLog(`ì•Œë¦¼ ì´ˆê¸°í™” ì˜¤ë¥˜: ${error.message}`, 'error');
            }
        }

        function setupAlertsEventListeners() {
            // Search input
            const searchInput = document.getElementById('alertSearch');
            if (searchInput) {
                searchInput.addEventListener('input', function(e) {
                    searchTerm = e.target.value.trim();
                    filterAlerts();
                });
            }

            // Level filter
            const levelFilterSelect = document.getElementById('alertLevelFilter');
            if (levelFilterSelect) {
                levelFilterSelect.addEventListener('change', function(e) {
                    levelFilter = e.target.value;
                    filterAlerts();
                });
            }

            // Clear filters button
            const clearFiltersBtn = document.getElementById('clearFiltersBtn');
            if (clearFiltersBtn) {
                clearFiltersBtn.addEventListener('click', function() {
                    searchTerm = '';
                    levelFilter = 'all';
                    searchInput.value = '';
                    levelFilterSelect.value = 'all';
                    filterAlerts();
                });
            }

            // Pagination controls
            const prevPageBtn = document.getElementById('prevPageBtn');
            const nextPageBtn = document.getElementById('nextPageBtn');
            const alertsPerPageSelect = document.getElementById('alertsPerPageSelect');

            if (prevPageBtn) {
                prevPageBtn.addEventListener('click', () => changePage(-1));
            }

            if (nextPageBtn) {
                nextPageBtn.addEventListener('click', () => changePage(1));
            }

            if (alertsPerPageSelect) {
                alertsPerPageSelect.addEventListener('change', function(e) {
                    changeAlertsPerPage(parseInt(e.target.value));
                });
            }
        }

        async function refreshAlerts() {
            addLog('ì•Œë¦¼ ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì¤‘...', 'info');

            try {
                // In production, this would fetch from the actual alerts API
                // For now, regenerate mock data to simulate refresh
                allAlertsData = generateMockAlerts();
                updateAlertsStats();
                filterAlerts(); // This will update the display with current filters
                addLog(`ì•Œë¦¼ ìƒˆë¡œê³ ì¹¨ ì™„ë£Œ - ${allAlertsData.length}ê°œ ì•Œë¦¼ ë¡œë“œë¨`, 'info');
            } catch (error) {
                addLog(`ì•Œë¦¼ ìƒˆë¡œê³ ì¹¨ ì˜¤ë¥˜: ${error.message}`, 'error');
            }
        }

        async function sendTestAlert() {
            addLog('í…ŒìŠ¤íŠ¸ ì•Œë¦¼ ì „ì†¡ ì¤‘...', 'info');

            try {
                // Create a test alert
                const testAlert = {
                    id: `test-alert-${Date.now()}`,
                    type: 'info',
                    title: 'Test Alert from Dashboard',
                    message: 'ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œì—ì„œ ì „ì†¡ëœ í…ŒìŠ¤íŠ¸ ì•Œë¦¼ì…ë‹ˆë‹¤.',
                    timestamp: new Date(),
                    resolved: false,
                    source: 'Dashboard'
                };

                // Add to the beginning of the alerts array
                allAlertsData.unshift(testAlert);

                // Keep only the latest 100 alerts
                if (allAlertsData.length > 100) {
                    allAlertsData = allAlertsData.slice(0, 100);
                }

                updateAlertsStats();
                filterAlerts(); // This will update the display with current filters
                addLog('í…ŒìŠ¤íŠ¸ ì•Œë¦¼ì´ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤', 'info');

                // In production, this would also send the alert via the notification system
                // await fetch('/api/alerts/test', { method: 'POST', ... });

            } catch (error) {
                addLog(`í…ŒìŠ¤íŠ¸ ì•Œë¦¼ ì „ì†¡ ì˜¤ë¥˜: ${error.message}`, 'error');
            }
        }

        // =============================================
        // ìƒˆë¡œìš´ ì•Œë¦¼ íŒ¨ë„ ê¸°ëŠ¥ë“¤
        // =============================================

        // ì•Œë¦¼ ì„¸ë¶€ ì •ë³´ ëª¨ë‹¬ í‘œì‹œ í•¨ìˆ˜
        function showAlertDetailModal(alertId) {
            const alert = allAlertsData.find(a => a.id === alertId);
            if (!alert) {
                addLog(`ì•Œë¦¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: ${alertId}`, 'error');
                return;
            }

            // ëª¨ë‹¬ ë°ì´í„° ì±„ìš°ê¸°
            const modal = document.getElementById('alertDetailModal');

            // ì•„ì´ì½˜ ì„¤ì •
            const iconMap = {
                'critical': 'ğŸš¨',
                'error': 'âŒ',
                'warning': 'âš ï¸',
                'info': 'â„¹ï¸'
            };
            document.getElementById('modalAlertIcon').textContent = iconMap[alert.type] || 'ğŸ“¢';

            // ê¸°ë³¸ ì •ë³´ ì„¤ì •
            document.getElementById('modalAlertTitle').textContent = alert.title;
            document.getElementById('modalAlertLevel').innerHTML = `<span class="${getAlertColorClasses(alert.type).text}">${iconMap[alert.type]} ${alert.type.toUpperCase()}</span>`;
            document.getElementById('modalAlertTime').textContent = alert.timestamp.toLocaleString('ko-KR');
            document.getElementById('modalAlertId').textContent = alert.id;
            document.getElementById('modalAlertChannel').textContent = alert.channel;

            // ìƒíƒœ ì„¤ì • (ìƒíƒœë³„ ìƒ‰ìƒ ì ìš©)
            const statusElement = document.getElementById('modalAlertStatus');
            const statusColors = {
                'sent': 'text-green-600 dark:text-green-400',
                'failed': 'text-red-600 dark:text-red-400',
                'pending': 'text-yellow-600 dark:text-yellow-400',
                'retry': 'text-blue-600 dark:text-blue-400'
            };
            const statusIcons = {
                'sent': 'âœ…',
                'failed': 'âŒ',
                'pending': 'â³',
                'retry': 'ğŸ”„'
            };
            statusElement.innerHTML = `<span class="${statusColors[alert.status] || ''}">${statusIcons[alert.status] || 'â“'} ${alert.status}</span>`;

            // ë©”ì‹œì§€ ì„¤ì •
            document.getElementById('modalAlertMessage').textContent = alert.message;

            // ë¡œê·¸ ë§í¬ ì„¤ì •
            const logLinksContainer = document.getElementById('modalLogLinks');
            if (alert.logLinks && alert.logLinks.length > 0) {
                logLinksContainer.innerHTML = alert.logLinks.map(link => `
                    <a href="${link.url}" target="_blank"
                       class="inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 text-sm">
                        ğŸ”— ${link.name}
                    </a>
                `).join('');
            } else {
                logLinksContainer.innerHTML = '<p class="text-gray-500 dark:text-gray-400 text-sm">ê´€ë ¨ ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
            }

            // ì¶”ê°€ ì •ë³´ ì„¤ì •
            const additionalInfoElement = document.getElementById('modalAdditionalInfo');
            const additionalInfoContent = document.getElementById('modalAdditionalInfoContent');
            if (alert.additionalInfo && Object.keys(alert.additionalInfo).length > 0) {
                additionalInfoElement.classList.remove('hidden');
                additionalInfoContent.innerHTML = Object.entries(alert.additionalInfo)
                    .map(([key, value]) => `<div class="mb-2"><strong>${key}:</strong> ${value}</div>`)
                    .join('');
            } else {
                additionalInfoElement.classList.add('hidden');
            }

            // ë¡œê·¸ ë‚´ìš© ì„¤ì •
            const logContentElement = document.getElementById('modalLogContent');
            const logContentText = document.getElementById('modalLogContentText');
            if (alert.logContent) {
                logContentElement.classList.remove('hidden');
                logContentText.textContent = alert.logContent;
            } else {
                logContentElement.classList.add('hidden');
            }

            // ëª¨ë‹¬ í‘œì‹œ
            modal.classList.remove('hidden');
            modal.classList.add('show');

            // í˜„ì¬ ì„ íƒëœ ì•Œë¦¼ ID ì €ì¥ (ë‚´ë³´ë‚´ê¸°ìš©)
            modal.dataset.currentAlertId = alertId;

            addLog(`ì•Œë¦¼ ì„¸ë¶€ ì •ë³´ ëª¨ë‹¬ ì—´ë¦¼: ${alert.title}`, 'info');
        }

        // ì•Œë¦¼ ì„¸ë¶€ ì •ë³´ ëª¨ë‹¬ ìˆ¨ê¹€ í•¨ìˆ˜
        function hideAlertDetailModal() {
            const modal = document.getElementById('alertDetailModal');
            modal.classList.add('hidden');
            modal.classList.remove('show');
            delete modal.dataset.currentAlertId;
            addLog('ì•Œë¦¼ ì„¸ë¶€ ì •ë³´ ëª¨ë‹¬ ë‹«í˜', 'info');
        }

        // ì•Œë¦¼ ë‚´ë³´ë‚´ê¸° í•¨ìˆ˜ (JSON/CSV)
        function exportAlerts(format) {
            const dataToExport = filteredAlertsData.length > 0 ? filteredAlertsData : allAlertsData;

            if (dataToExport.length === 0) {
                addLog('ë‚´ë³´ë‚¼ ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤', 'warning');
                return;
            }

            const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, -5);
            const filename = `mcp-alerts-${timestamp}`;

            if (format === 'json') {
                exportAlertsAsJSON(dataToExport, filename);
            } else if (format === 'csv') {
                exportAlertsAsCSV(dataToExport, filename);
            }

            addLog(`ì•Œë¦¼ ë°ì´í„° ${format.toUpperCase()} ë‚´ë³´ë‚´ê¸° ì™„ë£Œ: ${dataToExport.length}ê°œ í•­ëª©`, 'info');
        }

        // JSON í˜•ì‹ìœ¼ë¡œ ì•Œë¦¼ ë‚´ë³´ë‚´ê¸°
        function exportAlertsAsJSON(data, filename) {
            const exportData = data.map(alert => ({
                id: alert.id,
                type: alert.type,
                title: alert.title,
                message: alert.message,
                timestamp: alert.timestamp.toISOString(),
                resolved: alert.resolved,
                source: alert.source,
                channel: alert.channel,
                status: alert.status,
                retryCount: alert.retryCount,
                additionalInfo: alert.additionalInfo
            }));

            const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });
            downloadFile(blob, `${filename}.json`);
        }

        // CSV í˜•ì‹ìœ¼ë¡œ ì•Œë¦¼ ë‚´ë³´ë‚´ê¸°
        function exportAlertsAsCSV(data, filename) {
            const headers = ['ID', 'ì‹¬ê°ë„', 'ì œëª©', 'ë©”ì‹œì§€', 'ë°œìƒì‹œê°„', 'í•´ê²°ì—¬ë¶€', 'ì†ŒìŠ¤', 'ì±„ë„', 'ìƒíƒœ', 'ì¬ì‹œë„íšŸìˆ˜'];
            const csvContent = [
                headers.join(','),
                ...data.map(alert => [
                    `"${alert.id}"`,
                    `"${alert.type}"`,
                    `"${alert.title.replace(/"/g, '""')}"`,
                    `"${alert.message.replace(/"/g, '""')}"`,
                    `"${alert.timestamp.toLocaleString('ko-KR')}"`,
                    `"${alert.resolved ? 'í•´ê²°ë¨' : 'ë¯¸í•´ê²°'}"`,
                    `"${alert.source}"`,
                    `"${alert.channel}"`,
                    `"${alert.status}"`,
                    `"${alert.retryCount || 0}"`
                ].join(','))
            ].join('\n');

            // UTF-8 BOM ì¶”ê°€ (í•œê¸€ ê¹¨ì§ ë°©ì§€)
            const blob = new Blob(['\uFEFF' + csvContent], { type: 'text/csv;charset=utf-8;' });
            downloadFile(blob, `${filename}.csv`);
        }

        // í˜„ì¬ ëª¨ë‹¬ì˜ ì•Œë¦¼ ì„¸ë¶€ ì •ë³´ ë‚´ë³´ë‚´ê¸°
        function exportCurrentAlertDetail() {
            const modal = document.getElementById('alertDetailModal');
            const alertId = modal.dataset.currentAlertId;

            if (!alertId) {
                addLog('ë‚´ë³´ë‚¼ ì•Œë¦¼ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤', 'warning');
                return;
            }

            const alert = allAlertsData.find(a => a.id === alertId);
            if (!alert) {
                addLog('ì•Œë¦¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤', 'error');
                return;
            }

            // ìƒì„¸ ì •ë³´ë¥¼ í¬í•¨í•œ JSON ìƒì„±
            const detailData = {
                id: alert.id,
                type: alert.type,
                title: alert.title,
                message: alert.message,
                timestamp: alert.timestamp.toISOString(),
                resolved: alert.resolved,
                source: alert.source,
                channel: alert.channel,
                status: alert.status,
                retryCount: alert.retryCount,
                logLinks: alert.logLinks,
                additionalInfo: alert.additionalInfo,
                logContent: alert.logContent,
                exportedAt: new Date().toISOString()
            };

            const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, -5);
            const filename = `alert-detail-${alert.id}-${timestamp}.json`;

            const blob = new Blob([JSON.stringify(detailData, null, 2)], { type: 'application/json' });
            downloadFile(blob, filename);

            addLog(`ì•Œë¦¼ ì„¸ë¶€ ì •ë³´ ë‚´ë³´ë‚´ê¸° ì™„ë£Œ: ${alert.title}`, 'info');
        }

        // íŒŒì¼ ë‹¤ìš´ë¡œë“œ í—¬í¼ í•¨ìˆ˜
        function downloadFile(blob, filename) {
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.style.display = 'none';
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
            document.body.removeChild(a);
        }

        // =============================================
        // Security Panel Functions
        // =============================================

        // Security data storage
        let securityData = {
            blockedIps: [],
            violations: [],
            whitelist: [],
            stats: {
                blockedCount: 0,
                violationCount: 0,
                whitelistCount: 0,
                monitoredCount: 0
            }
        };

        let securityEventsChart = null;

        function generateMockSecurityData() {
            // Mock blocked IPs with violation details
            const mockBlockedIps = [
                { ip: '192.168.100.45', violations: 156, lastViolation: new Date(Date.now() - 30000), country: 'Unknown' },
                { ip: '203.142.78.23', violations: 89, lastViolation: new Date(Date.now() - 120000), country: 'CN' },
                { ip: '45.76.158.207', violations: 245, lastViolation: new Date(Date.now() - 300000), country: 'RU' },
                { ip: '178.128.45.91', violations: 67, lastViolation: new Date(Date.now() - 600000), country: 'SG' },
                { ip: '159.203.184.72', violations: 134, lastViolation: new Date(Date.now() - 900000), country: 'US' }
            ];

            // Generate violation events for chart (last 24 hours)
            const violationEvents = [];
            const now = Date.now();
            for (let i = 23; i >= 0; i--) {
                const hour = new Date(now - (i * 60 * 60 * 1000));
                const violations = Math.floor(Math.random() * 20) + (i < 6 ? Math.random() * 30 : 0); // More activity in recent hours
                violationEvents.push({
                    time: hour,
                    violations: violations
                });
            }

            // Mock whitelist (load from localStorage if available)
            const savedWhitelist = localStorage.getItem('mcp-security-whitelist');
            const mockWhitelist = savedWhitelist ? JSON.parse(savedWhitelist) : [
                '127.0.0.1',
                '::1',
                '192.168.1.0/24',
                '10.0.0.0/8'
            ];

            return {
                blockedIps: mockBlockedIps,
                violations: violationEvents,
                whitelist: mockWhitelist,
                stats: {
                    blockedCount: mockBlockedIps.length,
                    violationCount: violationEvents.reduce((sum, event) => sum + event.violations, 0),
                    whitelistCount: mockWhitelist.length,
                    monitoredCount: mockBlockedIps.length + Math.floor(Math.random() * 50) + 20
                }
            };
        }

        function updateSecurityStats() {
            // Update stats cards
            document.getElementById('blockedIpCount').textContent = securityData.stats.blockedCount;
            document.getElementById('rateLimitViolations').textContent = securityData.stats.violationCount;
            document.getElementById('whitelistCount').textContent = securityData.stats.whitelistCount;
            document.getElementById('monitoredIpCount').textContent = securityData.stats.monitoredCount;
        }

        function renderBlockedIpsList() {
            const blockedIpsList = document.getElementById('blockedIpsList');

            if (securityData.blockedIps.length === 0) {
                blockedIpsList.innerHTML = `
                    <div class="text-center text-white/60 dark:text-gray-400 py-8">
                        ì°¨ë‹¨ëœ IPê°€ ì—†ìŠµë‹ˆë‹¤.
                    </div>
                `;
                return;
            }

            const ipsHtml = securityData.blockedIps.map(ipData => {
                const timeStr = ipData.lastViolation.toLocaleDateString('ko-KR', {
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });

                const countryFlag = getCountryFlag(ipData.country);

                return `
                    <div class="bg-red-500/10 dark:bg-red-600/10 border border-red-400/30 rounded-lg p-3">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <div class="flex items-center">
                                    <span class="font-mono text-white dark:text-gray-100 font-semibold">${ipData.ip}</span>
                                    <span class="ml-2 text-lg">${countryFlag}</span>
                                </div>
                                <div class="text-red-300 dark:text-red-200 text-sm mt-1">
                                    ${ipData.violations}íšŒ ìœ„ë°˜ â€¢ ë§ˆì§€ë§‰: ${timeStr}
                                </div>
                            </div>
                            <button onclick="unblockIp('${ipData.ip}')" class="text-red-300 hover:text-red-100 transition-colors duration-200">
                                ğŸ—‘ï¸
                            </button>
                        </div>
                    </div>
                `;
            }).join('');

            blockedIpsList.innerHTML = ipsHtml;
        }

        function getCountryFlag(countryCode) {
            const flags = {
                'US': 'ğŸ‡ºğŸ‡¸', 'CN': 'ğŸ‡¨ğŸ‡³', 'RU': 'ğŸ‡·ğŸ‡º', 'SG': 'ğŸ‡¸ğŸ‡¬',
                'DE': 'ğŸ‡©ğŸ‡ª', 'JP': 'ğŸ‡¯ğŸ‡µ', 'KR': 'ğŸ‡°ğŸ‡·', 'GB': 'ğŸ‡¬ğŸ‡§',
                'FR': 'ğŸ‡«ğŸ‡·', 'CA': 'ğŸ‡¨ğŸ‡¦', 'Unknown': 'ğŸ´â€â˜ ï¸'
            };
            return flags[countryCode] || 'ğŸŒ';
        }

        function createSecurityEventsChart() {
            const ctx = document.getElementById('securityEventsChart').getContext('2d');

            // Prepare chart data
            const labels = securityData.violations.map(event =>
                event.time.toLocaleDateString('ko-KR', { hour: '2-digit', minute: '2-digit' })
            );
            const data = securityData.violations.map(event => event.violations);

            const isDark = darkModeManager && darkModeManager.isDarkMode();
            const textColor = isDark ? '#f3f4f6' : '#ffffff';
            const gridColor = isDark ? 'rgba(156, 163, 175, 0.2)' : 'rgba(255, 255, 255, 0.1)';

            securityEventsChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'ì°¨ë‹¨ ì´ë²¤íŠ¸',
                        data: data,
                        borderColor: '#ef4444',
                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: textColor }
                        }
                    },
                    scales: {
                        x: {
                            ticks: {
                                color: textColor,
                                maxTicksLimit: 6
                            },
                            grid: { color: gridColor }
                        },
                        y: {
                            ticks: { color: textColor },
                            grid: { color: gridColor },
                            beginAtZero: true
                        }
                    }
                }
            });

            // Store chart reference globally for theme updates
            window.securityEventsChart = securityEventsChart;
        }

        async function fetchSecurityData() {
            try {
                addLog('ë³´ì•ˆ ë°ì´í„° ë¡œë“œ ì¤‘...', 'info');

                // In production, this would fetch from the actual security API
                // For now, use mock data
                const response = await fetch('/api/v1/security/stats').catch(() => null);

                if (response && response.ok) {
                    const apiData = await response.json();
                    // Merge API data with mock data
                    securityData = {
                        ...generateMockSecurityData(),
                        stats: {
                            ...generateMockSecurityData().stats,
                            ...apiData
                        }
                    };
                } else {
                    // Use mock data if API is not available
                    securityData = generateMockSecurityData();
                }

                addLog(`ë³´ì•ˆ ë°ì´í„° ë¡œë“œ ì™„ë£Œ - ì°¨ë‹¨ëœ IP: ${securityData.stats.blockedCount}ê°œ`, 'info');
                return true;
            } catch (error) {
                addLog(`ë³´ì•ˆ ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜: ${error.message}`, 'error');
                // Fallback to mock data
                securityData = generateMockSecurityData();
                return false;
            }
        }

        async function refreshSecurityData() {
            addLog('ë³´ì•ˆ ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì¤‘...', 'info');

            try {
                await fetchSecurityData();
                updateSecurityStats();
                renderBlockedIpsList();

                // Update chart if it exists
                if (securityEventsChart) {
                    const labels = securityData.violations.map(event =>
                        event.time.toLocaleDateString('ko-KR', { hour: '2-digit', minute: '2-digit' })
                    );
                    const data = securityData.violations.map(event => event.violations);

                    securityEventsChart.data.labels = labels;
                    securityEventsChart.data.datasets[0].data = data;
                    securityEventsChart.update('none');
                }

                addLog('ë³´ì•ˆ ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì™„ë£Œ', 'info');
            } catch (error) {
                addLog(`ë³´ì•ˆ ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì˜¤ë¥˜: ${error.message}`, 'error');
            }
        }

        async function addIpToWhitelist() {
            const ipInput = document.getElementById('whitelistIpInput');
            const resultDiv = document.getElementById('whitelistResult');
            const ip = ipInput.value.trim();

            if (!ip) {
                showWhitelistResult('IP ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
                return;
            }

            // Basic IP validation
            const ipRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;
            if (!ipRegex.test(ip) && !ip.includes('/')) {
                showWhitelistResult('ì˜¬ë°”ë¥¸ IP ì£¼ì†Œ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.', 'error');
                return;
            }

            try {
                addLog(`IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì¶”ê°€ ì‹œë„: ${ip}`, 'info');

                // Try to call the API
                const response = await fetch(`/api/v1/security/whitelist/${encodeURIComponent(ip)}`, {
                    method: 'POST'
                }).catch(() => null);

                let success = false;
                if (response && response.ok) {
                    const result = await response.json();
                    success = result.success;
                } else {
                    // Fallback to localStorage for demo
                    const existingWhitelist = localStorage.getItem('mcp-security-whitelist');
                    const whitelist = existingWhitelist ? JSON.parse(existingWhitelist) : [];

                    if (!whitelist.includes(ip)) {
                        whitelist.push(ip);
                        localStorage.setItem('mcp-security-whitelist', JSON.stringify(whitelist));
                        success = true;
                    }
                }

                if (success) {
                    showWhitelistResult(`IP ${ip}ê°€ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
                    ipInput.value = '';

                    // Update security data
                    if (!securityData.whitelist.includes(ip)) {
                        securityData.whitelist.push(ip);
                        securityData.stats.whitelistCount++;
                        updateSecurityStats();
                    }

                    addLog(`IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì¶”ê°€ ì™„ë£Œ: ${ip}`, 'info');
                } else {
                    showWhitelistResult('í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
                }
            } catch (error) {
                showWhitelistResult(`ì˜¤ë¥˜: ${error.message}`, 'error');
                addLog(`IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì¶”ê°€ ì˜¤ë¥˜: ${error.message}`, 'error');
            }
        }

        function showWhitelistResult(message, type) {
            const resultDiv = document.getElementById('whitelistResult');
            resultDiv.textContent = message;
            resultDiv.className = `mt-3 text-sm ${type === 'success' ? 'text-green-400' : 'text-red-400'}`;
            resultDiv.classList.remove('hidden');

            // Hide after 3 seconds
            setTimeout(() => {
                resultDiv.classList.add('hidden');
            }, 3000);
        }

        function unblockIp(ip) {
            if (confirm(`IP ${ip}ì˜ ì°¨ë‹¨ì„ í•´ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                // Remove from blocked list
                securityData.blockedIps = securityData.blockedIps.filter(item => item.ip !== ip);
                securityData.stats.blockedCount = securityData.blockedIps.length;

                updateSecurityStats();
                renderBlockedIpsList();
                addLog(`IP ì°¨ë‹¨ í•´ì œ: ${ip}`, 'info');
            }
        }

        async function initializeSecurity() {
            try {
                addLog('ë³´ì•ˆ íŒ¨ë„ ì´ˆê¸°í™” ì¤‘...', 'info');

                await fetchSecurityData();
                updateSecurityStats();
                renderBlockedIpsList();
                createSecurityEventsChart();

                addLog('ë³´ì•ˆ íŒ¨ë„ ì´ˆê¸°í™” ì™„ë£Œ', 'info');
            } catch (error) {
                addLog(`ë³´ì•ˆ íŒ¨ë„ ì´ˆê¸°í™” ì˜¤ë¥˜: ${error.message}`, 'error');
            }
        }

        // =============================================
        // ë³´ì•ˆ ë¡œê·¸ íŒ¨ë„ Functions
        // =============================================

        // ë³´ì•ˆ ë¡œê·¸ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        async function fetchSecurityLogs() {
            try {
                const res = await fetch("/api/v1/security/logs", {
                    headers: {"X-API-KEY": localStorage.getItem("api_key")}
                });

                if (res.ok) {
                    const data = await res.json();

                    // UI ì—…ë°ì´íŠ¸
                    document.getElementById("securityLogBlockedIpCount").innerText = data.blocked || 0;
                    document.getElementById("securityLogRateLimitCount").innerText = data.violations || 0;
                    document.getElementById("securityLogWhitelistCount").innerText = data.whitelist || 0;
                    document.getElementById("securityLogMonitoringCount").innerText = data.monitoring || 0;

                    // ë¡œê·¸ ë¦¬ìŠ¤íŠ¸ ë Œë”ë§
                    const list = data.logs.map(log => `<div class="p-2 border-b border-white/10 text-white/80">[${log.level}] ${log.time} - ${log.msg}</div>`).join("");
                    document.getElementById("securityLogList").innerHTML = list || '<div class="p-4 text-center text-white/60">ë³´ì•ˆ ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';

                    addLog('ë³´ì•ˆ ë¡œê·¸ ì—…ë°ì´íŠ¸ ì™„ë£Œ', 'info');
                } else {
                    // Mock ë°ì´í„° ì‚¬ìš©
                    updateSecurityLogsMockData();
                }
            } catch (err) {
                console.error("ë³´ì•ˆ ë¡œê·¸ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨", err);
                addLog(`ë³´ì•ˆ ë¡œê·¸ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨: ${err.message}`, 'error');
                // Mock ë°ì´í„°ë¡œ ëŒ€ì²´
                updateSecurityLogsMockData();
            }
        }

        // Mock ë°ì´í„°ë¡œ ë³´ì•ˆ ë¡œê·¸ ì—…ë°ì´íŠ¸
        function updateSecurityLogsMockData() {
            // Mock í†µê³„ ë°ì´í„°
            document.getElementById("securityLogBlockedIpCount").innerText = Math.floor(Math.random() * 50);
            document.getElementById("securityLogRateLimitCount").innerText = Math.floor(Math.random() * 25);
            document.getElementById("securityLogWhitelistCount").innerText = Math.floor(Math.random() * 10) + 5;
            document.getElementById("securityLogMonitoringCount").innerText = Math.floor(Math.random() * 100);

            // Mock ë¡œê·¸ ë°ì´í„°
            const mockLogs = [
                { level: 'INFO', time: new Date().toLocaleTimeString(), msg: 'ì •ìƒì ì¸ API ìš”ì²­ ì²˜ë¦¬' },
                { level: 'WARN', time: new Date(Date.now() - 60000).toLocaleTimeString(), msg: 'Rate limit ì„ê³„ê°’ ê·¼ì ‘ (IP: 192.168.1.100)' },
                { level: 'ERROR', time: new Date(Date.now() - 120000).toLocaleTimeString(), msg: 'ì˜ì‹¬ìŠ¤ëŸ¬ìš´ IP ì°¨ë‹¨ë¨ (IP: 10.0.0.1)' },
                { level: 'INFO', time: new Date(Date.now() - 180000).toLocaleTimeString(), msg: 'í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ IP ì ‘ê·¼ í—ˆìš©' },
                { level: 'WARN', time: new Date(Date.now() - 240000).toLocaleTimeString(), msg: 'ë¹„ì •ìƒì ì¸ ìš”ì²­ íŒ¨í„´ ê°ì§€' }
            ];

            const logElements = mockLogs.map(log =>
                `<div class="p-2 border-b border-white/10 text-white/80 flex">
                    <span class="w-16 text-xs ${log.level === 'ERROR' ? 'text-red-400' : log.level === 'WARN' ? 'text-yellow-400' : 'text-green-400'}">[${log.level}]</span>
                    <span class="w-20 text-xs text-white/60">${log.time}</span>
                    <span class="flex-1 text-sm">${log.msg}</span>
                </div>`
            ).join("");

            document.getElementById("securityLogList").innerHTML = logElements;
        }

        // ë³´ì•ˆ ë¡œê·¸ ì°¨íŠ¸ ì´ˆê¸°í™”
        function initSecurityLogChart() {
            const ctx = document.getElementById('securityChart');
            if (!ctx) return;

            const isDark = darkModeManager?.isDarkMode() || false;
            const textColor = isDark ? '#f3f4f6' : '#ffffff';
            const gridColor = isDark ? 'rgba(156, 163, 175, 0.2)' : 'rgba(255, 255, 255, 0.1)';

            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['1ì‹œê°„ ì „', '50ë¶„ ì „', '40ë¶„ ì „', '30ë¶„ ì „', '20ë¶„ ì „', '10ë¶„ ì „', 'í˜„ì¬'],
                    datasets: [{
                        label: 'ì°¨ë‹¨ëœ ìš”ì²­',
                        data: [12, 8, 15, 6, 20, 3, 7],
                        borderColor: '#ef4444',
                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    }, {
                        label: 'Rate Limit ìœ„ë°˜',
                        data: [5, 12, 8, 14, 9, 6, 11],
                        borderColor: '#f59e0b',
                        backgroundColor: 'rgba(245, 158, 11, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: textColor }
                        }
                    },
                    scales: {
                        x: {
                            ticks: { color: textColor },
                            grid: { color: gridColor }
                        },
                        y: {
                            ticks: { color: textColor },
                            grid: { color: gridColor }
                        }
                    }
                }
            });
        }

        // =============================================
        // Initialization
        // =============================================

        document.addEventListener('DOMContentLoaded', async function() {
            // Initialize dark mode manager
            darkModeManager = new DarkModeManager();

            // Initialize charts
            initRealTimeMetricsCharts();
            initSystemResourceCharts();

            // Set up event listeners
            document.getElementById('refreshBtn').addEventListener('click', refreshAll);
            document.getElementById('autoRefreshToggle').addEventListener('click', toggleAutoRefresh);
            document.getElementById('refreshMetricsBtn').addEventListener('click', refreshRealTimeMetrics);

            // ì‹œìŠ¤í…œ ìì› ëª¨ë‹ˆí„°ë§ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            document.getElementById('refreshSystemMetricsBtn').addEventListener('click', refreshSystemMetrics);
            document.getElementById('clearLogsBtn').addEventListener('click', () => {
                document.getElementById('logContainer').innerHTML = '';
                addLog('ë¡œê·¸ê°€ ì§€ì›Œì¡ŒìŠµë‹ˆë‹¤', 'info');
            });

            // Alerts Panel Event Listeners
            document.getElementById('refreshAlertsBtn').addEventListener('click', refreshAlerts);
            document.getElementById('testAlertBtn').addEventListener('click', sendTestAlert);

            // ìƒˆë¡œìš´ ì•Œë¦¼ íŒ¨ë„ ê¸°ëŠ¥ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë“¤
            // ë‚ ì§œ í•„í„° ë²„íŠ¼ë“¤
            document.querySelectorAll('.date-filter').forEach(button => {
                button.addEventListener('click', function() {
                    // ëª¨ë“  ë‚ ì§œ í•„í„° ë²„íŠ¼ì˜ active í´ë˜ìŠ¤ ì œê±°
                    document.querySelectorAll('.date-filter').forEach(btn => btn.classList.remove('active'));
                    // í´ë¦­í•œ ë²„íŠ¼ì— active í´ë˜ìŠ¤ ì¶”ê°€
                    this.classList.add('active');
                    // ë‚ ì§œ í•„í„° ì„¤ì •
                    dateFilter = this.dataset.filter;
                    // í•„í„° ì ìš©
                    filterAlerts();
                });
            });

            // ë‚´ë³´ë‚´ê¸° ë²„íŠ¼ë“¤
            document.getElementById('exportAlertsJSON').addEventListener('click', () => exportAlerts('json'));
            document.getElementById('exportAlertsCSV').addEventListener('click', () => exportAlerts('csv'));

            // ëª¨ë‹¬ ê´€ë ¨ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë“¤
            document.getElementById('closeModalBtn').addEventListener('click', hideAlertDetailModal);
            document.getElementById('modalCloseBtn').addEventListener('click', hideAlertDetailModal);
            document.getElementById('modalExportBtn').addEventListener('click', exportCurrentAlertDetail);

            // ëª¨ë‹¬ ë°°ê²½ í´ë¦­ ì‹œ ë‹«ê¸°
            document.getElementById('alertDetailModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    hideAlertDetailModal();
                }
            });

            // ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && !document.getElementById('alertDetailModal').classList.contains('hidden')) {
                    hideAlertDetailModal();
                }
            });

            // Listen for theme changes
            document.addEventListener('themeChanged', (event) => {
                addLog(`í…Œë§ˆ ë³€ê²½: ${event.detail.darkMode ? 'ë‹¤í¬ëª¨ë“œ' : 'ë¼ì´íŠ¸ëª¨ë“œ'}`, 'info');
            });

            // Initialize alerts panel
            await initializeAlerts();
            await initializeSecurity();

            // Set up security event listeners
            document.getElementById('refreshSecurityBtn').addEventListener('click', refreshSecurityData);
            document.getElementById('addWhitelistBtn').addEventListener('click', addIpToWhitelist);
            document.getElementById('whitelistIpInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addIpToWhitelist();
                }
            });

            // ë³´ì•ˆ ë¡œê·¸ íŒ¨ë„ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            document.getElementById('refreshSecurityLogsBtn').addEventListener('click', fetchSecurityLogs);

            // Initial load
            await refreshAll();

            // ì‹œìŠ¤í…œ ìì› ë©”íŠ¸ë¦­ ì´ˆê¸° ë¡œë“œ
            await fetchSystemMetrics();

            // ë³´ì•ˆ ë¡œê·¸ íŒ¨ë„ ì´ˆê¸°í™”
            initSecurityLogChart();
            await fetchSecurityLogs();

            // ë³´ì•ˆ ë¡œê·¸ 30ì´ˆë§ˆë‹¤ ìë™ ìƒˆë¡œê³ ì¹¨
            setInterval(fetchSecurityLogs, 30000);

            // Set up uptime counter
            let startTime = Date.now();
            setInterval(() => {
                const uptime = Date.now() - startTime;
                const hours = Math.floor(uptime / (1000 * 60 * 60));
                const minutes = Math.floor((uptime % (1000 * 60 * 60)) / (1000 * 60));
                document.getElementById('uptime').textContent = `${hours}h ${minutes}m`;
            }, 60000);

            addLog('ëŒ€ì‹œë³´ë“œ ì´ˆê¸°í™” ì™„ë£Œ', 'info');
        });

        // =============================================
        // Global Error Handler
        // =============================================

        window.addEventListener('error', function(event) {
            addLog(`JavaScript ì˜¤ë¥˜: ${event.error?.message || event.message}`, 'error');
        });

        window.addEventListener('unhandledrejection', function(event) {
            addLog(`ì²˜ë¦¬ë˜ì§€ ì•Šì€ Promise ê±°ë¶€: ${event.reason}`, 'error');
        });

        // =============================================
        // ğŸ”” ìš´ì˜ ì•Œë¦¼ í†µí•© íŒ¨ë„ JavaScript Implementation
        // =============================================

        class OpsNotificationManager {
            constructor() {
                this.notifications = [];
                this.filteredNotifications = [];
                this.currentFilter = 'all';
                this.autoRefreshInterval = null;
                this.init();
            }

            init() {
                // DOM ìš”ì†Œ ë°”ì¸ë”©
                this.bindElements();

                // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
                this.setupEventListeners();

                // ì´ˆê¸° ë°ì´í„° ë¡œë“œ
                this.loadNotifications();

                // ìë™ ìƒˆë¡œê³ ì¹¨ ì‹œì‘ (30ì´ˆë§ˆë‹¤)
                this.startAutoRefresh();

                // í˜ì´ì§€ ì–¸ë¡œë“œ ì‹œ ìë™ ìƒˆë¡œê³ ì¹¨ ì •ë¦¬
                window.addEventListener('beforeunload', () => {
                    this.stopAutoRefresh();
                });
            }

            bindElements() {
                // í•„í„° ë²„íŠ¼ë“¤
                this.filterAllBtn = document.getElementById('filterAllBtn');
                this.filterSecurityBtn = document.getElementById('filterSecurityBtn');
                this.filterBackupBtn = document.getElementById('filterBackupBtn');
                this.filterSystemBtn = document.getElementById('filterSystemBtn');

                // ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼
                this.refreshBtn = document.getElementById('refreshOpsNotificationsBtn');

                // í†µê³„ ì¹´ë“œë“¤
                this.criticalCountEl = document.getElementById('criticalNotificationCount');
                this.errorCountEl = document.getElementById('errorNotificationCount');
                this.warningCountEl = document.getElementById('warningNotificationCount');
                this.infoCountEl = document.getElementById('infoNotificationCount');

                // ì•Œë¦¼ ëª©ë¡ ì»¨í…Œì´ë„ˆ
                this.notificationListEl = document.getElementById('opsNotificationsList');

                // JSON ë°ì´í„° ëª¨ë‹¬ ìš”ì†Œë“¤
                this.jsonModal = document.getElementById('jsonDataModal');
                this.jsonContentEl = document.getElementById('jsonContent');
                this.closeJsonModalBtn = document.getElementById('closeJsonModalBtn');
            }

            setupEventListeners() {
                // í•„í„° ë²„íŠ¼ ì´ë²¤íŠ¸
                this.filterAllBtn?.addEventListener('click', () => this.setFilter('all'));
                this.filterSecurityBtn?.addEventListener('click', () => this.setFilter('security'));
                this.filterBackupBtn?.addEventListener('click', () => this.setFilter('backup'));
                this.filterSystemBtn?.addEventListener('click', () => this.setFilter('system'));

                // ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ ì´ë²¤íŠ¸
                this.refreshBtn?.addEventListener('click', () => this.loadNotifications());

                // JSON ëª¨ë‹¬ ë‹«ê¸° ì´ë²¤íŠ¸
                this.closeJsonModalBtn?.addEventListener('click', () => this.closeJsonModal());
                this.jsonModal?.addEventListener('click', (e) => {
                    if (e.target === this.jsonModal) {
                        this.closeJsonModal();
                    }
                });
            }

            async loadNotifications() {
                try {
                    // ë¡œë”© ìƒíƒœ í‘œì‹œ
                    this.showLoadingState();

                    // ëª¨ì˜ ë°ì´í„° ìƒì„± (ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” API í˜¸ì¶œ)
                    await this.generateMockNotifications();

                    // í†µê³„ ì—…ë°ì´íŠ¸
                    this.updateStatistics();

                    // í•„í„°ë§ëœ ì•Œë¦¼ ëª©ë¡ í‘œì‹œ
                    this.displayNotifications();

                    // ë¡œë”© ìƒíƒœ í•´ì œ
                    this.hideLoadingState();

                    addLog('ìš´ì˜ ì•Œë¦¼ ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
                } catch (error) {
                    console.error('ì•Œë¦¼ ë¡œë“œ ì¤‘ ì˜¤ë¥˜:', error);
                    addLog(`ìš´ì˜ ì•Œë¦¼ ë¡œë“œ ì‹¤íŒ¨: ${error.message}`, 'error');
                    this.hideLoadingState();
                }
            }

            async generateMockNotifications() {
                // ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ì´ ë¶€ë¶„ì„ API í˜¸ì¶œë¡œ ëŒ€ì²´
                const mockData = [
                    {
                        id: `ops-${Date.now()}-1`,
                        type: 'security',
                        level: 'critical',
                        title: 'ğŸš¨ ë³´ì•ˆ ì¹¨ì… ì‹œë„ íƒì§€',
                        message: 'ë¹„ì •ìƒì ì¸ ë¡œê·¸ì¸ ì‹œë„ê°€ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤. IP: 192.168.1.100ì—ì„œ 5ë¶„ê°„ 50íšŒ ì‹¤íŒ¨',
                        timestamp: new Date(Date.now() - 300000).toISOString(),
                        source: 'Security Logger',
                        status: 'active',
                        jsonData: {
                            ip_address: '192.168.1.100',
                            failed_attempts: 50,
                            duration_minutes: 5,
                            blocked: true,
                            action_taken: 'IP ì°¨ë‹¨'
                        }
                    },
                    {
                        id: `ops-${Date.now()}-2`,
                        type: 'backup',
                        level: 'warning',
                        title: 'âš ï¸ ë°±ì—… ê²€ì¦ ê²½ê³ ',
                        message: 'ì¼ë¶€ ë°±ì—… íŒŒì¼ì˜ ì²´í¬ì„¬ì´ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì¦‰ì‹œ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.',
                        timestamp: new Date(Date.now() - 600000).toISOString(),
                        source: 'Backup Verifier',
                        status: 'pending',
                        jsonData: {
                            backup_date: '2024-01-15',
                            corrupted_files: 3,
                            total_files: 127,
                            integrity_percentage: 97.6
                        }
                    },
                    {
                        id: `ops-${Date.now()}-3`,
                        type: 'system',
                        level: 'info',
                        title: 'â„¹ï¸ ì‹œìŠ¤í…œ ì •ê¸° ì ê²€ ì™„ë£Œ',
                        message: 'ì •ê¸° ì‹œìŠ¤í…œ ì ê²€ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.',
                        timestamp: new Date(Date.now() - 1800000).toISOString(),
                        source: 'System Monitor',
                        status: 'completed',
                        jsonData: {
                            check_duration: '15ë¶„',
                            checked_services: 23,
                            issues_found: 0,
                            next_check: '2024-01-16 02:00:00'
                        }
                    }
                ];

                // ì‹œë®¬ë ˆì´ì…˜ì„ ìœ„í•œ ì§€ì—°
                await new Promise(resolve => setTimeout(resolve, 500));

                this.notifications = mockData;
                this.applyCurrentFilter();
            }

            setFilter(filterType) {
                this.currentFilter = filterType;

                // ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
                this.updateFilterButtons();

                // í•„í„° ì ìš© ë° í‘œì‹œ
                this.applyCurrentFilter();
                this.displayNotifications();

                addLog(`ì•Œë¦¼ í•„í„°ê°€ '${filterType}'ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'info');
            }

            updateFilterButtons() {
                const buttons = [this.filterAllBtn, this.filterSecurityBtn, this.filterBackupBtn, this.filterSystemBtn];
                const filters = ['all', 'security', 'backup', 'system'];

                buttons.forEach((btn, index) => {
                    if (!btn) return;

                    if (filters[index] === this.currentFilter) {
                        btn.classList.add('bg-blue-600', 'text-white', 'border-blue-600');
                        btn.classList.remove('bg-white/10', 'text-white/80', 'border-white/20');
                    } else {
                        btn.classList.remove('bg-blue-600', 'text-white', 'border-blue-600');
                        btn.classList.add('bg-white/10', 'text-white/80', 'border-white/20');
                    }
                });
            }

            applyCurrentFilter() {
                if (this.currentFilter === 'all') {
                    this.filteredNotifications = [...this.notifications];
                } else {
                    this.filteredNotifications = this.notifications.filter(
                        notification => notification.type === this.currentFilter
                    );
                }
            }

            updateStatistics() {
                const stats = {
                    critical: this.notifications.filter(n => n.level === 'critical').length,
                    error: this.notifications.filter(n => n.level === 'error').length,
                    warning: this.notifications.filter(n => n.level === 'warning').length,
                    info: this.notifications.filter(n => n.level === 'info').length
                };

                if (this.criticalCountEl) this.criticalCountEl.textContent = stats.critical;
                if (this.errorCountEl) this.errorCountEl.textContent = stats.error;
                if (this.warningCountEl) this.warningCountEl.textContent = stats.warning;
                if (this.infoCountEl) this.infoCountEl.textContent = stats.info;
            }

            displayNotifications() {
                if (!this.notificationListEl) {
                    console.warn('ì•Œë¦¼ ëª©ë¡ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                    return;
                }

                if (this.filteredNotifications.length === 0) {
                    this.notificationListEl.innerHTML = `
                        <div class="text-center text-gray-400 py-8">
                            <div class="text-4xl mb-2">ğŸ“­</div>
                            <div>í˜„ì¬ í‘œì‹œí•  ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤.</div>
                        </div>
                    `;
                    return;
                }

                const notificationHtml = this.filteredNotifications.map(notification => {
                    const levelIcon = this.getLevelIcon(notification.level);
                    const levelColor = this.getLevelColor(notification.level);
                    const typeIcon = this.getTypeIcon(notification.type);
                    const statusBadge = this.getStatusBadge(notification.status);

                    return `
                        <div class="bg-white/10 dark:bg-gray-700/50 rounded-lg p-4 backdrop-filter backdrop-blur-sm border border-${levelColor}-500/30">
                            <div class="flex items-start justify-between">
                                <div class="flex items-start space-x-3 flex-1">
                                    <div class="text-2xl">${levelIcon}</div>
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-2 mb-1">
                                            <h4 class="text-white dark:text-gray-100 font-semibold">${notification.title}</h4>
                                            <span class="text-xs px-2 py-1 rounded-full bg-gray-700 text-gray-300">${typeIcon} ${notification.type}</span>
                                            ${statusBadge}
                                        </div>
                                        <p class="text-white/80 dark:text-gray-300 text-sm mb-2">${notification.message}</p>
                                        <div class="flex items-center justify-between text-xs text-white/60 dark:text-gray-400">
                                            <span>ğŸ“… ${new Date(notification.timestamp).toLocaleString('ko-KR')}</span>
                                            <span>ğŸ“¡ ${notification.source}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-2 ml-4">
                                    <button
                                        onclick="opsNotificationManager.showJsonData('${notification.id}')"
                                        class="text-xs px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200"
                                        title="JSON ë°ì´í„° ë³´ê¸°"
                                    >
                                        ğŸ“„ JSON
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');

                this.notificationListEl.innerHTML = notificationHtml;
            }

            getLevelIcon(level) {
                const icons = {
                    critical: 'ğŸš¨',
                    error: 'âŒ',
                    warning: 'âš ï¸',
                    info: 'â„¹ï¸'
                };
                return icons[level] || 'â„¹ï¸';
            }

            getLevelColor(level) {
                const colors = {
                    critical: 'red',
                    error: 'red',
                    warning: 'yellow',
                    info: 'blue'
                };
                return colors[level] || 'blue';
            }

            getTypeIcon(type) {
                const icons = {
                    security: 'ğŸ›¡ï¸',
                    backup: 'ğŸ’¾',
                    system: 'âš™ï¸'
                };
                return icons[type] || 'âš™ï¸';
            }

            getStatusBadge(status) {
                const badges = {
                    active: '<span class="text-xs px-2 py-1 rounded-full bg-red-600 text-white">í™œì„±</span>',
                    pending: '<span class="text-xs px-2 py-1 rounded-full bg-yellow-600 text-white">ëŒ€ê¸°</span>',
                    completed: '<span class="text-xs px-2 py-1 rounded-full bg-green-600 text-white">ì™„ë£Œ</span>'
                };
                return badges[status] || '';
            }

            showJsonData(notificationId) {
                const notification = this.notifications.find(n => n.id === notificationId);
                if (!notification) {
                    addLog('í•´ë‹¹ ì•Œë¦¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.', 'error');
                    return;
                }

                if (this.jsonContentEl) {
                    this.jsonContentEl.textContent = JSON.stringify(notification.jsonData, null, 2);
                }

                if (this.jsonModal) {
                    this.jsonModal.classList.remove('hidden');
                    this.jsonModal.classList.add('flex');
                }

                addLog(`ì•Œë¦¼ ID ${notificationId}ì˜ JSON ë°ì´í„°ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.`, 'info');
            }

            closeJsonModal() {
                if (this.jsonModal) {
                    this.jsonModal.classList.add('hidden');
                    this.jsonModal.classList.remove('flex');
                }
            }

            showLoadingState() {
                if (this.notificationListEl) {
                    this.notificationListEl.innerHTML = `
                        <div class="text-center text-gray-400 py-8">
                            <div class="animate-spin text-4xl mb-2">ğŸ”„</div>
                            <div>ìš´ì˜ ì•Œë¦¼ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ëŠ” ì¤‘...</div>
                        </div>
                    `;
                }

                if (this.refreshBtn) {
                    this.refreshBtn.disabled = true;
                    this.refreshBtn.innerHTML = '<span class="mr-2">ğŸ”„</span>ë¡œë”© ì¤‘...';
                }
            }

            hideLoadingState() {
                if (this.refreshBtn) {
                    this.refreshBtn.disabled = false;
                    this.refreshBtn.innerHTML = '<span class="mr-2">ğŸ”„</span>ìƒˆë¡œê³ ì¹¨';
                }
            }

            startAutoRefresh() {
                this.stopAutoRefresh(); // ê¸°ì¡´ ì¸í„°ë²Œ ì •ë¦¬
                this.autoRefreshInterval = setInterval(() => {
                    this.loadNotifications();
                }, 30000); // 30ì´ˆë§ˆë‹¤ ìƒˆë¡œê³ ì¹¨
            }

            stopAutoRefresh() {
                if (this.autoRefreshInterval) {
                    clearInterval(this.autoRefreshInterval);
                    this.autoRefreshInterval = null;
                }
            }
        }

        // =============================================
        // ğŸ“Š CI/CD ì„±ëŠ¥ ë¦¬í¬íŠ¸ íŒ¨ë„ JavaScript Implementation
        // =============================================

        class CIReportManager {
            constructor() {
                this.reports = [];
                this.filteredReports = [];
                this.currentFilter = 'all';
                this.charts = {};
                this.jsonViewVisible = false;
                this.autoRefreshInterval = null;
                this.currentData = null; // í˜„ì¬ ë¡œë“œëœ ë°ì´í„° ì €ì¥
                this.init();
            }

            init() {
                // DOM ìš”ì†Œ ë°”ì¸ë”©
                this.bindElements();

                // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
                this.setupEventListeners();

                // ì´ˆê¸° ë°ì´í„° ë¡œë“œ
                this.loadCIReports();

                // ìë™ ìƒˆë¡œê³ ì¹¨ ì‹œì‘ (60ì´ˆë§ˆë‹¤)
                this.startAutoRefresh();

                // ì°¨íŠ¸ ì´ˆê¸°í™”
                this.initializeCharts();
            }

            bindElements() {
                // ë²„íŠ¼ ìš”ì†Œë“¤
                this.refreshBtn = document.getElementById('refreshCIReportsBtn');
                this.jsonToggleBtn = document.getElementById('toggleCIJsonViewBtn');
                this.copyJsonBtn = document.getElementById('copyCIJsonBtn');
                this.downloadMdBtn = document.getElementById('downloadCIReportMdBtn');
                this.downloadJsonBtn = document.getElementById('downloadCIReportJsonBtn');

                // í•„í„° ë²„íŠ¼ë“¤
                this.filterAllBtn = document.getElementById('ciFilterAllBtn');
                this.filterSuccessBtn = document.getElementById('ciFilterSuccessBtn');
                this.filterFailureBtn = document.getElementById('ciFilterFailureBtn');

                // í†µê³„ í‘œì‹œ ìš”ì†Œë“¤
                this.successRateEl = document.getElementById('ciSuccessRate');
                this.failureRateEl = document.getElementById('ciFailureRate');
                this.avgExecutionTimeEl = document.getElementById('ciAvgExecutionTime');
                this.totalRunsEl = document.getElementById('ciTotalRuns');
                this.lastExecutionEl = document.getElementById('ciLastExecution');
                this.failureRateCardEl = document.getElementById('ciFailureRateCard');
                this.failureWarningEl = document.getElementById('ciFailureWarning');

                // ê¸°íƒ€ ìš”ì†Œë“¤
                this.reportsListEl = document.getElementById('ciReportsList');
                this.jsonViewSectionEl = document.getElementById('ciJsonViewSection');
                this.jsonContentEl = document.getElementById('ciJsonContent');
            }

            setupEventListeners() {
                // ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼
                this.refreshBtn?.addEventListener('click', () => this.loadCIReports());

                // JSON í† ê¸€ ë²„íŠ¼
                this.jsonToggleBtn?.addEventListener('click', () => this.toggleJsonView());

                // JSON ë³µì‚¬ ë²„íŠ¼
                this.copyJsonBtn?.addEventListener('click', () => this.copyJsonToClipboard());

                // ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ë“¤
                this.downloadMdBtn?.addEventListener('click', () => this.downloadReport('markdown'));
                this.downloadJsonBtn?.addEventListener('click', () => this.downloadReport('json'));

                // í•„í„° ë²„íŠ¼ë“¤
                this.filterAllBtn?.addEventListener('click', () => this.setFilter('all'));
                this.filterSuccessBtn?.addEventListener('click', () => this.setFilter('success'));
                this.filterFailureBtn?.addEventListener('click', () => this.setFilter('failure'));
            }

            async loadCIReports() {
                try {
                    // ë¡œë”© ìƒíƒœ í‘œì‹œ
                    this.showLoadingState();

                    // APIì—ì„œ CI ë¦¬í¬íŠ¸ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
                    const response = await fetch('/api/v1/reports/ci/summary');
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }

                    const data = await response.json();
                    this.currentData = data;

                    // í†µê³„ ì¹´ë“œ ì—…ë°ì´íŠ¸
                    this.updateStatisticsCards(data);

                    // ì°¨íŠ¸ ì—…ë°ì´íŠ¸
                    this.updateCharts(data);

                    // ë¦¬í¬íŠ¸ ëª©ë¡ ì—…ë°ì´íŠ¸
                    this.updateReportsList(data.recent_workflows || []);

                    // JSON ë°ì´í„° ì—…ë°ì´íŠ¸
                    if (this.jsonContentEl) {
                        this.jsonContentEl.textContent = JSON.stringify(data, null, 2);
                    }

                    addLog('âœ… CI/CD ì„±ëŠ¥ ë¦¬í¬íŠ¸ê°€ ì„±ê³µì ìœ¼ë¡œ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');

                    // ë¡œë”© ìƒíƒœ í•´ì œ
                    this.hideLoadingState();
                } catch (error) {
                    console.error('CI ë¦¬í¬íŠ¸ ë¡œë“œ ì¤‘ ì˜¤ë¥˜:', error);
                    addLog(`ğŸ“Š CI ë¦¬í¬íŠ¸ ë¡œë“œ ì‹¤íŒ¨: ${error.message}`, 'error');
                    this.hideLoadingState();

                    // ì˜¤ë¥˜ ë°œìƒ ì‹œ ëª¨ì˜ ë°ì´í„° ì‚¬ìš©
                    this.loadFallbackData();
                }
            }

            // í†µê³„ ì¹´ë“œ ì—…ë°ì´íŠ¸
            updateStatisticsCards(data) {
                if (data.performance_summary) {
                    const summary = data.performance_summary;

                    // ì„±ê³µë¥  ì—…ë°ì´íŠ¸
                    if (this.successRateEl) {
                        this.successRateEl.textContent = summary.success_rate ? summary.success_rate.toFixed(1) : '-';
                    }

                    // ì‹¤íŒ¨ìœ¨ ì—…ë°ì´íŠ¸ ë° ê²½ê³  í‘œì‹œ
                    if (this.failureRateEl) {
                        const failureRate = summary.failure_rate || 0;
                        this.failureRateEl.textContent = failureRate.toFixed(1);

                        // ì‹¤íŒ¨ìœ¨ì´ 10% ì´ˆê³¼ ì‹œ ê²½ê³  í‘œì‹œ
                        if (failureRate > 10) {
                            this.failureRateCardEl?.classList.add('animate-pulse');
                            this.failureWarningEl?.classList.remove('hidden');
                            addLog(`âš ï¸ CI/CD ì‹¤íŒ¨ìœ¨ì´ ì„ê³„ê°’(10%)ì„ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤: ${failureRate.toFixed(1)}%`, 'warning');
                        } else {
                            this.failureRateCardEl?.classList.remove('animate-pulse');
                            this.failureWarningEl?.classList.add('hidden');
                        }
                    }

                    // í‰ê·  ì‹¤í–‰ ì‹œê°„ ì—…ë°ì´íŠ¸ (ì´ˆë¥¼ ë¶„ìœ¼ë¡œ ë³€í™˜)
                    if (this.avgExecutionTimeEl) {
                        const avgMinutes = summary.avg_duration_seconds ? (summary.avg_duration_seconds / 60).toFixed(1) : '-';
                        this.avgExecutionTimeEl.textContent = avgMinutes;
                    }

                    // ì´ ì‹¤í–‰ íšŸìˆ˜ ì—…ë°ì´íŠ¸
                    if (this.totalRunsEl) {
                        this.totalRunsEl.textContent = summary.total_runs || '-';
                    }
                }

                // ìµœê·¼ ì‹¤í–‰ ì‹œê°„ ì—…ë°ì´íŠ¸
                if (data.recent_workflows && data.recent_workflows.length > 0) {
                    const lastWorkflow = data.recent_workflows[0];
                    if (this.lastExecutionEl && lastWorkflow.created_at) {
                        const lastTime = new Date(lastWorkflow.created_at);
                        const timeAgo = this.getTimeAgo(lastTime);
                        this.lastExecutionEl.textContent = timeAgo;
                    }
                }
            }

            // ì°¨íŠ¸ ì—…ë°ì´íŠ¸
            updateCharts(data) {
                if (data.recent_workflows) {
                    this.updateBuildTrendChart(data.recent_workflows);
                    this.updateSuccessDistributionChart(data.performance_summary);
                }
            }

            // ìµœê·¼ ë¹Œë“œ íŠ¸ë Œë“œ ì°¨íŠ¸ ì—…ë°ì´íŠ¸ (Chart.js ë¼ì¸ ì°¨íŠ¸, ìµœê·¼ 10íšŒ ì‹¤í–‰)
            updateBuildTrendChart(workflows) {
                const ctx = document.getElementById('ciBuildTrendChart');
                if (!ctx) return;

                // ê¸°ì¡´ ì°¨íŠ¸ ì œê±°
                if (this.charts.buildTrend) {
                    this.charts.buildTrend.destroy();
                }

                // ìµœê·¼ 10ê°œë§Œ ì„ íƒ
                const recentWorkflows = workflows.slice(0, 10).reverse();

                const labels = recentWorkflows.map((w, index) => `#${w.run_number || index + 1}`);
                const executionTimes = recentWorkflows.map(w => (w.duration_seconds || 0) / 60); // ë¶„ ë‹¨ìœ„
                const statusColors = recentWorkflows.map(w => {
                    switch (w.conclusion) {
                        case 'success': return '#10b981'; // ë…¹ìƒ‰
                        case 'failure': return '#ef4444'; // ë¹¨ê°„ìƒ‰
                        case 'cancelled': return '#f59e0b'; // ë…¸ë€ìƒ‰
                        default: return '#6b7280'; // íšŒìƒ‰
                    }
                });

                this.charts.buildTrend = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'ì‹¤í–‰ ì‹œê°„ (ë¶„)',
                            data: executionTimes,
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            borderWidth: 2,
                            pointBackgroundColor: statusColors,
                            pointBorderColor: '#ffffff',
                            pointBorderWidth: 2,
                            pointRadius: 6,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: {
                                    color: '#ffffff'
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    afterBody: function(context) {
                                        const index = context[0].dataIndex;
                                        const workflow = recentWorkflows[index];
                                        return [
                                            `ìƒíƒœ: ${workflow.conclusion || 'unknown'}`,
                                            `ë¸Œëœì¹˜: ${workflow.branch || 'N/A'}`,
                                            `ì‹œê°„: ${new Date(workflow.created_at).toLocaleString('ko-KR')}`
                                        ];
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                ticks: { color: '#ffffff' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            },
                            y: {
                                ticks: { color: '#ffffff' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' },
                                title: {
                                    display: true,
                                    text: 'ì‹¤í–‰ ì‹œê°„ (ë¶„)',
                                    color: '#ffffff'
                                }
                            }
                        }
                    }
                });
            }

            // ì„±ê³µ/ì‹¤íŒ¨ ë¶„í¬ ë„ë„› ì°¨íŠ¸ ì—…ë°ì´íŠ¸
            updateSuccessDistributionChart(summary) {
                const ctx = document.getElementById('ciSuccessDistributionChart');
                if (!ctx || !summary) return;

                // ê¸°ì¡´ ì°¨íŠ¸ ì œê±°
                if (this.charts.successDistribution) {
                    this.charts.successDistribution.destroy();
                }

                const data = [
                    summary.success_count || 0,
                    summary.failure_count || 0,
                    summary.cancelled_count || 0
                ];

                this.charts.successDistribution = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['ì„±ê³µ', 'ì‹¤íŒ¨', 'ì·¨ì†Œ'],
                        datasets: [{
                            data: data,
                            backgroundColor: [
                                '#10b981', // ë…¹ìƒ‰ (ì„±ê³µ)
                                '#ef4444', // ë¹¨ê°„ìƒ‰ (ì‹¤íŒ¨)
                                '#f59e0b'  // ë…¸ë€ìƒ‰ (ì·¨ì†Œ)
                            ],
                            borderColor: '#ffffff',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    color: '#ffffff',
                                    padding: 20
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const total = data.reduce((a, b) => a + b, 0);
                                        const percentage = total > 0 ? ((context.parsed / total) * 100).toFixed(1) : 0;
                                        return `${context.label}: ${context.parsed}ê°œ (${percentage}%)`;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // ë¦¬í¬íŠ¸ ëª©ë¡ ì—…ë°ì´íŠ¸
            updateReportsList(workflows) {
                if (!this.reportsListEl || !workflows) return;

                if (workflows.length === 0) {
                    this.reportsListEl.innerHTML = `
                        <div class="text-center text-gray-400 py-8">
                            <div class="text-4xl mb-2">ğŸ“Š</div>
                            <div>CI ë¦¬í¬íŠ¸ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</div>
                        </div>
                    `;
                    return;
                }

                const reportsHtml = workflows.map(workflow => {
                    const statusColor = this.getStatusColor(workflow.conclusion);
                    const statusIcon = this.getStatusIcon(workflow.conclusion);
                    const timeAgo = this.getTimeAgo(new Date(workflow.created_at));
                    const duration = workflow.duration_seconds ?
                        `${Math.floor(workflow.duration_seconds / 60)}ë¶„ ${workflow.duration_seconds % 60}ì´ˆ` :
                        'ì•Œ ìˆ˜ ì—†ìŒ';

                    return `
                        <div class="bg-white/5 dark:bg-gray-800/30 rounded-lg p-4 border border-white/10 dark:border-gray-700/50">
                            <div class="flex items-center justify-between mb-2">
                                <div class="flex items-center space-x-2">
                                    <span class="text-lg">${statusIcon}</span>
                                    <span class="font-semibold text-white dark:text-gray-100">${workflow.name || 'Workflow'}</span>
                                    <span class="text-sm text-gray-400">#${workflow.run_number || 'N/A'}</span>
                                </div>
                                <span class="text-xs ${statusColor} font-medium px-2 py-1 rounded-full bg-black/20">
                                    ${workflow.conclusion || 'unknown'}
                                </span>
                            </div>
                            <div class="text-sm text-gray-300 space-y-1">
                                <div>ë¸Œëœì¹˜: <span class="text-white">${workflow.branch || 'N/A'}</span></div>
                                <div>ì‹¤í–‰ ì‹œê°„: <span class="text-white">${duration}</span></div>
                                <div>ì‹œì‘: <span class="text-white">${timeAgo}</span></div>
                                ${workflow.html_url ? `<a href="${workflow.html_url}" target="_blank" class="text-blue-400 hover:text-blue-300 text-xs">GitHubì—ì„œ ë³´ê¸° â†’</a>` : ''}
                            </div>
                        </div>
                    `;
                }).join('');

                this.reportsListEl.innerHTML = reportsHtml;
            }

            // ë¦¬í¬íŠ¸ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥
            async downloadReport(format) {
                try {
                    const endpoint = format === 'markdown' ?
                        '/api/v1/reports/ci/markdown' :
                        '/api/v1/reports/ci/json';

                    const response = await fetch(endpoint);
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }

                    let content, filename, mimeType;

                    if (format === 'markdown') {
                        content = await response.text();
                        filename = `ci_report_${new Date().toISOString().split('T')[0]}.md`;
                        mimeType = 'text/markdown';
                    } else {
                        content = JSON.stringify(await response.json(), null, 2);
                        filename = `ci_report_${new Date().toISOString().split('T')[0]}.json`;
                        mimeType = 'application/json';
                    }

                    // íŒŒì¼ ë‹¤ìš´ë¡œë“œ
                    const blob = new Blob([content], { type: mimeType });
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = filename;
                    a.click();
                    window.URL.revokeObjectURL(url);

                    addLog(`ğŸ“¥ CI ë¦¬í¬íŠ¸ ${format.toUpperCase()} íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.`, 'info');
                } catch (error) {
                    console.error('ë¦¬í¬íŠ¸ ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜:', error);
                    addLog(`ğŸ“¥ ë¦¬í¬íŠ¸ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨: ${error.message}`, 'error');
                }
            }

            // í´ë°± ë°ì´í„° ë¡œë“œ (API ì˜¤ë¥˜ ì‹œ)
            loadFallbackData() {
                const fallbackData = {
                    performance_summary: {
                        total_runs: 25,
                        success_count: 20,
                        failure_count: 3,
                        cancelled_count: 2,
                        success_rate: 80.0,
                        failure_rate: 12.0,
                        avg_duration_seconds: 420
                    },
                    recent_workflows: [
                        {
                            name: 'CI Pipeline',
                            run_number: 123,
                            conclusion: 'success',
                            branch: 'main',
                            duration_seconds: 380,
                            created_at: new Date(Date.now() - 3600000).toISOString(),
                            html_url: 'https://github.com/youareplan/mcp-map-company/actions'
                        },
                        {
                            name: 'Security Scan',
                            run_number: 122,
                            conclusion: 'failure',
                            branch: 'develop',
                            duration_seconds: 280,
                            created_at: new Date(Date.now() - 7200000).toISOString(),
                            html_url: 'https://github.com/youareplan/mcp-map-company/actions'
                        }
                    ]
                };

                this.updateStatisticsCards(fallbackData);
                this.updateCharts(fallbackData);
                this.updateReportsList(fallbackData.recent_workflows);

                if (this.jsonContentEl) {
                    this.jsonContentEl.textContent = JSON.stringify(fallbackData, null, 2);
                }
            }

            // ìœ í‹¸ë¦¬í‹° ë©”ì„œë“œë“¤
            getStatusColor(status) {
                switch (status) {
                    case 'success': return 'text-green-400';
                    case 'failure': return 'text-red-400';
                    case 'cancelled': return 'text-yellow-400';
                    default: return 'text-gray-400';
                }
            }

            getStatusIcon(status) {
                switch (status) {
                    case 'success': return 'âœ…';
                    case 'failure': return 'âŒ';
                    case 'cancelled': return 'â¹ï¸';
                    case 'in_progress': return 'ğŸ”„';
                    default: return 'âšª';
                }
            }

            getTimeAgo(date) {
                const now = new Date();
                const diffMs = now - date;
                const diffMins = Math.floor(diffMs / 60000);
                const diffHours = Math.floor(diffMins / 60);
                const diffDays = Math.floor(diffHours / 24);

                if (diffMins < 1) return 'ë°©ê¸ˆ ì „';
                if (diffMins < 60) return `${diffMins}ë¶„ ì „`;
                if (diffHours < 24) return `${diffHours}ì‹œê°„ ì „`;
                return `${diffDays}ì¼ ì „`;
            }

            // ê¸°ì¡´ ë©”ì„œë“œë“¤ (í•„ìš”ì— ë”°ë¼ ìˆ˜ì •)
            showLoadingState() {
                if (this.reportsListEl) {
                    this.reportsListEl.innerHTML = `
                        <div class="text-center text-gray-400 py-8">
                            <div class="text-4xl mb-2 animate-spin">ğŸ”„</div>
                            <div>CI ë¦¬í¬íŠ¸ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ëŠ” ì¤‘...</div>
                        </div>
                    `;
                }
            }

            hideLoadingState() {
                // ë¡œë”© ìƒíƒœëŠ” updateReportsListì—ì„œ ì²˜ë¦¬ë¨
            }

            toggleJsonView() {
                this.jsonViewVisible = !this.jsonViewVisible;
                if (this.jsonViewSectionEl) {
                    this.jsonViewSectionEl.classList.toggle('hidden', !this.jsonViewVisible);
                }

                if (this.jsonToggleBtn) {
                    this.jsonToggleBtn.innerHTML = this.jsonViewVisible ?
                        '<span class="mr-2">ğŸ‘ï¸</span>JSON ìˆ¨ê¸°ê¸°' :
                        '<span class="mr-2">ğŸ‘ï¸</span>JSON ë³´ê¸°';
                }
            }

            copyJsonToClipboard() {
                if (this.jsonContentEl && this.jsonContentEl.textContent) {
                    navigator.clipboard.writeText(this.jsonContentEl.textContent).then(() => {
                        addLog('ğŸ“‹ JSON ë°ì´í„°ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
                    }).catch(err => {
                        console.error('í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨:', err);
                        addLog('ğŸ“‹ í´ë¦½ë³´ë“œ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
                    });
                }
            }

            setFilter(filter) {
                this.currentFilter = filter;
                // í•„í„° ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
                [this.filterAllBtn, this.filterSuccessBtn, this.filterFailureBtn].forEach(btn => {
                    if (btn) {
                        btn.classList.remove('bg-blue-600', 'text-white');
                        btn.classList.add('bg-white/10', 'text-white/80');
                    }
                });

                // í™œì„± ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì ìš©
                const activeBtn = filter === 'all' ? this.filterAllBtn :
                                 filter === 'success' ? this.filterSuccessBtn : this.filterFailureBtn;
                if (activeBtn) {
                    activeBtn.classList.remove('bg-white/10', 'text-white/80');
                    activeBtn.classList.add('bg-blue-600', 'text-white');
                }

                // í•„í„°ë§ ì ìš©ì€ í˜„ì¬ ë°ì´í„°ë¡œ ë‹¤ì‹œ ë¦¬í¬íŠ¸ ëª©ë¡ ì—…ë°ì´íŠ¸
                if (this.currentData && this.currentData.recent_workflows) {
                    let filteredWorkflows = this.currentData.recent_workflows;

                    if (filter === 'success') {
                        filteredWorkflows = filteredWorkflows.filter(w => w.conclusion === 'success');
                    } else if (filter === 'failure') {
                        filteredWorkflows = filteredWorkflows.filter(w => w.conclusion === 'failure');
                    }

                    this.updateReportsList(filteredWorkflows);
                }
            }

            startAutoRefresh() {
                this.autoRefreshInterval = setInterval(() => {
                    this.loadCIReports();
                }, 60000); // 60ì´ˆë§ˆë‹¤ ìƒˆë¡œê³ ì¹¨
            }

            stopAutoRefresh() {
                if (this.autoRefreshInterval) {
                    clearInterval(this.autoRefreshInterval);
                    this.autoRefreshInterval = null;
                }
            }

            initializeCharts() {
                // ì°¨íŠ¸ ì´ˆê¸°í™”ëŠ” ë°ì´í„° ë¡œë“œ í›„ updateChartsì—ì„œ ì²˜ë¦¬
            }
            }

            async generateMockCIReports() {
                // ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” /api/v1/ci/reports í˜¸ì¶œ
                const mockData = [
                    {
                        id: `ci-${Date.now()}-1`,
                        workflow: 'CI/CD Pipeline',
                        status: 'success',
                        execution_time: 480, // ì´ˆ ë‹¨ìœ„
                        test_count: 127,
                        test_passed: 125,
                        test_failed: 2,
                        coverage: 85.6,
                        timestamp: new Date(Date.now() - 3600000).toISOString(),
                        branch: 'main',
                        commit: 'c3f5aa7',
                        author: 'developer@company.com'
                    },
                    {
                        id: `ci-${Date.now()}-2`,
                        workflow: 'Security Scan',
                        status: 'failure',
                        execution_time: 320,
                        test_count: 45,
                        test_passed: 40,
                        test_failed: 5,
                        coverage: 72.3,
                        timestamp: new Date(Date.now() - 7200000).toISOString(),
                        branch: 'develop',
                        commit: '6b14912',
                        author: 'security@company.com',
                        error_message: 'Vulnerability detected in dependencies'
                    },
                    {
                        id: `ci-${Date.now()}-3`,
                        workflow: 'Build & Test',
                        status: 'success',
                        execution_time: 620,
                        test_count: 89,
                        test_passed: 89,
                        test_failed: 0,
                        coverage: 92.1,
                        timestamp: new Date(Date.now() - 10800000).toISOString(),
                        branch: 'main',
                        commit: '01e2a23',
                        author: 'build@company.com'
                    }
                ];

                // ì‹œë®¬ë ˆì´ì…˜ì„ ìœ„í•œ ì§€ì—°
                await new Promise(resolve => setTimeout(resolve, 500));

                this.reports = mockData;
                this.applyCurrentFilter();
            }

            setFilter(filterType) {
                this.currentFilter = filterType;

                // ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
                this.updateFilterButtons();

                // í•„í„° ì ìš© ë° í‘œì‹œ
                this.applyCurrentFilter();
                this.displayReports();

                addLog(`ğŸ“Š CI ë¦¬í¬íŠ¸ í•„í„°ê°€ '${filterType}'ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'info');
            }

            updateFilterButtons() {
                const buttons = [this.filterAllBtn, this.filterSuccessBtn, this.filterFailureBtn];
                const filters = ['all', 'success', 'failure'];

                buttons.forEach((btn, index) => {
                    if (!btn) return;

                    if (filters[index] === this.currentFilter) {
                        btn.classList.add('bg-blue-600', 'text-white');
                        btn.classList.remove('bg-white/10', 'text-white/80');
                    } else {
                        btn.classList.remove('bg-blue-600', 'text-white');
                        btn.classList.add('bg-white/10', 'text-white/80');
                    }
                });
            }

            applyCurrentFilter() {
                if (this.currentFilter === 'all') {
                    this.filteredReports = [...this.reports];
                } else {
                    this.filteredReports = this.reports.filter(
                        report => report.status === this.currentFilter
                    );
                }
            }

            updateStatistics() {
                if (this.reports.length === 0) return;

                // í‰ê·  ì‹¤í–‰ ì‹œê°„ ê³„ì‚°
                const avgTime = this.reports.reduce((sum, r) => sum + r.execution_time, 0) / this.reports.length;
                const minutes = Math.floor(avgTime / 60);
                const seconds = Math.floor(avgTime % 60);

                // ì‹¤íŒ¨ìœ¨ ê³„ì‚°
                const failedCount = this.reports.filter(r => r.status === 'failure').length;
                const failureRate = ((failedCount / this.reports.length) * 100).toFixed(1);

                // í‰ê·  ì»¤ë²„ë¦¬ì§€ ê³„ì‚°
                const avgCoverage = (this.reports.reduce((sum, r) => sum + r.coverage, 0) / this.reports.length).toFixed(1);

                // ìµœê·¼ ì‹¤í–‰ ë‚ ì§œ
                const latestReport = this.reports.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))[0];
                const lastExecution = new Date(latestReport.timestamp).toLocaleDateString('ko-KR');

                // UI ì—…ë°ì´íŠ¸
                if (this.avgExecutionTimeEl) this.avgExecutionTimeEl.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
                if (this.failureRateEl) this.failureRateEl.textContent = failureRate;
                if (this.testCoverageEl) this.testCoverageEl.textContent = avgCoverage;
                if (this.lastExecutionEl) this.lastExecutionEl.textContent = lastExecution;
            }

            displayReports() {
                if (!this.reportsListEl) return;

                if (this.filteredReports.length === 0) {
                    this.reportsListEl.innerHTML = `
                        <div class="text-center text-gray-400 py-8">
                            <div class="text-4xl mb-2">ğŸ“Š</div>
                            <div>í‘œì‹œí•  CI ë¦¬í¬íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</div>
                        </div>
                    `;
                    return;
                }

                const reportsHtml = this.filteredReports.map(report => {
                    const statusIcon = report.status === 'success' ? 'âœ…' : 'âŒ';
                    const statusColor = report.status === 'success' ? 'green' : 'red';
                    const executionTime = `${Math.floor(report.execution_time / 60)}:${(report.execution_time % 60).toString().padStart(2, '0')}`;

                    return `
                        <div class="bg-white/5 dark:bg-gray-800/30 rounded-lg p-4 border border-${statusColor}-500/20">
                            <div class="flex items-start justify-between">
                                <div class="flex items-start space-x-3 flex-1">
                                    <div class="text-2xl">${statusIcon}</div>
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-2 mb-1">
                                            <h4 class="text-white dark:text-gray-100 font-semibold">${report.workflow}</h4>
                                            <span class="text-xs px-2 py-1 rounded-full bg-gray-700 text-gray-300">${report.branch}</span>
                                        </div>
                                        <p class="text-white/80 dark:text-gray-300 text-sm mb-2">
                                            ì‹¤í–‰ ì‹œê°„: ${executionTime} | í…ŒìŠ¤íŠ¸: ${report.test_passed}/${report.test_count} | ì»¤ë²„ë¦¬ì§€: ${report.coverage}%
                                        </p>
                                        <div class="flex items-center justify-between text-xs text-white/60 dark:text-gray-400">
                                            <span>ğŸ“… ${new Date(report.timestamp).toLocaleString('ko-KR')}</span>
                                            <span>ğŸ‘¤ ${report.author}</span>
                                            <span>ğŸ”— ${report.commit}</span>
                                        </div>
                                        ${report.error_message ? `<div class="mt-2 text-red-400 text-sm">âŒ ${report.error_message}</div>` : ''}
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');

                this.reportsListEl.innerHTML = reportsHtml;
            }

            initializeCharts() {
                // Chart.js ì´ˆê¸°í™” (Chart.jsê°€ ë¡œë“œë˜ì–´ ìˆë‹¤ê³  ê°€ì •)
                if (typeof Chart === 'undefined') {
                    console.warn('Chart.jsê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                    return;
                }

                // ì‹¤í–‰ ì‹œê°„ ì°¨íŠ¸
                const executionTimeCtx = document.getElementById('ciExecutionTimeChart');
                if (executionTimeCtx) {
                    this.charts.executionTime = new Chart(executionTimeCtx, {
                        type: 'line',
                        data: {
                            labels: [],
                            datasets: [{
                                label: 'ì‹¤í–‰ ì‹œê°„ (ë¶„)',
                                data: [],
                                borderColor: 'rgb(59, 130, 246)',
                                backgroundColor: 'rgba(59, 130, 246, 0.1)',
                                tension: 0.1
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    labels: { color: 'rgba(255, 255, 255, 0.8)' }
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    ticks: { color: 'rgba(255, 255, 255, 0.6)' },
                                    grid: { color: 'rgba(255, 255, 255, 0.1)' }
                                },
                                x: {
                                    ticks: { color: 'rgba(255, 255, 255, 0.6)' },
                                    grid: { color: 'rgba(255, 255, 255, 0.1)' }
                                }
                            }
                        }
                    });
                }

                // ì‹¤íŒ¨ìœ¨ ì°¨íŠ¸
                const failureRateCtx = document.getElementById('ciFailureRateChart');
                if (failureRateCtx) {
                    this.charts.failureRate = new Chart(failureRateCtx, {
                        type: 'bar',
                        data: {
                            labels: [],
                            datasets: [{
                                label: 'ì‹¤íŒ¨ìœ¨ (%)',
                                data: [],
                                backgroundColor: 'rgba(239, 68, 68, 0.6)',
                                borderColor: 'rgb(239, 68, 68)',
                                borderWidth: 1
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    labels: { color: 'rgba(255, 255, 255, 0.8)' }
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    max: 100,
                                    ticks: { color: 'rgba(255, 255, 255, 0.6)' },
                                    grid: { color: 'rgba(255, 255, 255, 0.1)' }
                                },
                                x: {
                                    ticks: { color: 'rgba(255, 255, 255, 0.6)' },
                                    grid: { color: 'rgba(255, 255, 255, 0.1)' }
                                }
                            }
                        }
                    });
                }
            }

            updateCharts() {
                if (!this.charts.executionTime || !this.charts.failureRate) return;

                // ìµœê·¼ 10ê°œ ë¦¬í¬íŠ¸ ë°ì´í„°ë¡œ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
                const recentReports = this.reports
                    .sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp))
                    .slice(-10);

                const labels = recentReports.map(r => new Date(r.timestamp).toLocaleDateString('ko-KR'));
                const executionTimes = recentReports.map(r => (r.execution_time / 60).toFixed(1));

                // ì‹¤í–‰ ì‹œê°„ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
                this.charts.executionTime.data.labels = labels;
                this.charts.executionTime.data.datasets[0].data = executionTimes;
                this.charts.executionTime.update();

                // ì‹¤íŒ¨ìœ¨ ì°¨íŠ¸ ë°ì´í„° ê³„ì‚° (ê¸°ê°„ë³„)
                const failureRates = recentReports.map(r => {
                    return r.status === 'failure' ? 100 : 0;
                });

                this.charts.failureRate.data.labels = labels;
                this.charts.failureRate.data.datasets[0].data = failureRates;
                this.charts.failureRate.update();
            }

            toggleJsonView() {
                this.jsonViewVisible = !this.jsonViewVisible;

                if (this.jsonSectionEl) {
                    if (this.jsonViewVisible) {
                        this.jsonSectionEl.classList.remove('hidden');
                        this.jsonToggleBtn.innerHTML = '<span class="mr-2">ğŸ“„</span>JSON ìˆ¨ê¹€';
                    } else {
                        this.jsonSectionEl.classList.add('hidden');
                        this.jsonToggleBtn.innerHTML = '<span class="mr-2">ğŸ“„</span>JSON ë³´ê¸°';
                    }
                }

                this.updateJsonView();
            }

            updateJsonView() {
                if (this.jsonViewVisible && this.jsonContentEl) {
                    this.jsonContentEl.textContent = JSON.stringify(this.reports, null, 2);
                }
            }

            copyJsonToClipboard() {
                if (this.jsonContentEl) {
                    navigator.clipboard.writeText(this.jsonContentEl.textContent).then(() => {
                        addLog('ğŸ“‹ CI ë¦¬í¬íŠ¸ JSON ë°ì´í„°ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
                    }).catch(err => {
                        addLog('ğŸ“‹ í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨: ' + err.message, 'error');
                    });
                }
            }

            showLoadingState() {
                if (this.reportsListEl) {
                    this.reportsListEl.innerHTML = `
                        <div class="text-center text-gray-400 py-8">
                            <div class="animate-spin text-4xl mb-2">ğŸ”„</div>
                            <div>CI ë¦¬í¬íŠ¸ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ëŠ” ì¤‘...</div>
                        </div>
                    `;
                }

                if (this.refreshBtn) {
                    this.refreshBtn.disabled = true;
                    this.refreshBtn.innerHTML = '<span class="mr-2">ğŸ”„</span>ë¡œë”© ì¤‘...';
                }
            }

            hideLoadingState() {
                if (this.refreshBtn) {
                    this.refreshBtn.disabled = false;
                    this.refreshBtn.innerHTML = '<span class="mr-2">ğŸ”„</span>ìƒˆë¡œê³ ì¹¨';
                }
            }

            startAutoRefresh() {
                this.stopAutoRefresh(); // ê¸°ì¡´ ì¸í„°ë²Œ ì •ë¦¬
                this.autoRefreshInterval = setInterval(() => {
                    this.loadCIReports();
                }, 60000); // 60ì´ˆë§ˆë‹¤ ìƒˆë¡œê³ ì¹¨
            }

            stopAutoRefresh() {
                if (this.autoRefreshInterval) {
                    clearInterval(this.autoRefreshInterval);
                    this.autoRefreshInterval = null;
                }
            }
        }

        // =============================================
        // ğŸš¨ CI/CD ì—ëŸ¬ ë¡œê·¸ ë¶„ì„ íŒ¨ë„ JavaScript Implementation
        // =============================================

        class CIErrorAnalyzer {
            constructor() {
                this.errorData = null;
                this.charts = {};
                this.thresholds = {
                    critical: 10,
                    error: 5,
                    warning: 1
                };
                this.currentFilter = 'all';
                this.autoRefreshInterval = null;
                this.init();
            }

            init() {
                this.initializeElements();
                this.bindEvents();
                this.loadErrorData();
                this.loadThresholds();
            }

            initializeElements() {
                // ë²„íŠ¼ ìš”ì†Œë“¤
                this.refreshBtn = document.getElementById('refreshErrorAnalysisBtn');
                this.runAnalysisBtn = document.getElementById('runErrorAnalysisBtn');
                this.downloadBtn = document.getElementById('downloadErrorReportBtn');
                this.saveThresholdsBtn = document.getElementById('saveThresholdsBtn');

                // í†µê³„ í‘œì‹œ ìš”ì†Œë“¤
                this.failureRateEl = document.getElementById('errorFailureRate');
                this.failureWarningEl = document.getElementById('errorFailureWarning');
                this.totalCountEl = document.getElementById('errorTotalCount');
                this.typeCountEl = document.getElementById('errorTypeCount');
                this.analysisPeriodEl = document.getElementById('errorAnalysisPeriod');

                // ì°¨íŠ¸ ìº”ë²„ìŠ¤ ìš”ì†Œë“¤
                this.typeDistributionChartCanvas = document.getElementById('errorTypeDistributionChart');
                this.trendChartCanvas = document.getElementById('errorTrendChart');

                // ì—ëŸ¬ ëª©ë¡ ë° í•„í„°
                this.errorCasesListEl = document.getElementById('errorCasesList');
                this.errorTypeFilterEl = document.getElementById('errorTypeFilter');

                // ì„ê³„ì¹˜ ì„¤ì • ìš”ì†Œë“¤
                this.criticalThresholdEl = document.getElementById('criticalThreshold');
                this.errorThresholdEl = document.getElementById('errorThreshold');
                this.warningThresholdEl = document.getElementById('warningThreshold');
            }

            bindEvents() {
                // ë²„íŠ¼ ì´ë²¤íŠ¸ ë°”ì¸ë”©
                if (this.refreshBtn) {
                    this.refreshBtn.addEventListener('click', () => this.refreshErrorData());
                }

                if (this.runAnalysisBtn) {
                    this.runAnalysisBtn.addEventListener('click', () => this.runErrorAnalysis());
                }

                if (this.downloadBtn) {
                    this.downloadBtn.addEventListener('click', () => this.downloadErrorReport());
                }

                if (this.saveThresholdsBtn) {
                    this.saveThresholdsBtn.addEventListener('click', () => this.saveThresholds());
                }

                // í•„í„° ì´ë²¤íŠ¸
                if (this.errorTypeFilterEl) {
                    this.errorTypeFilterEl.addEventListener('change', (e) => {
                        this.currentFilter = e.target.value;
                        this.filterErrorCases();
                    });
                }

                // ì„ê³„ì¹˜ ë³€ê²½ ì´ë²¤íŠ¸
                [this.criticalThresholdEl, this.errorThresholdEl, this.warningThresholdEl].forEach(el => {
                    if (el) {
                        el.addEventListener('change', () => this.updateThresholdsFromInputs());
                    }
                });
            }

            async loadErrorData() {
                try {
                    this.showLoadingState();

                    // APIì—ì„œ ì—ëŸ¬ ë¶„ì„ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
                    const response = await fetch('/api/v1/ci/error-analysis');
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }

                    const data = await response.json();
                    this.errorData = data;

                    // UI ì—…ë°ì´íŠ¸
                    this.updateStatistics();
                    this.updateCharts();
                    this.updateErrorCases();

                    addLog('ğŸš¨ CI/CD ì—ëŸ¬ ë¶„ì„ ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
                    this.hideLoadingState();

                } catch (error) {
                    console.error('ì—ëŸ¬ ë¶„ì„ ë°ì´í„° ë¡œë“œ ì¤‘ ì˜¤ë¥˜:', error);
                    addLog(`ğŸš¨ ì—ëŸ¬ ë¶„ì„ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨: ${error.message}`, 'error');
                    this.hideLoadingState();

                    // í´ë°± ë°ì´í„° ì‚¬ìš©
                    this.loadFallbackData();
                }
            }

            loadFallbackData() {
                // ëª¨ì˜ ì—ëŸ¬ ë¶„ì„ ë°ì´í„°
                this.errorData = {
                    analysis_summary: {
                        processed_files: 8,
                        total_errors: 23,
                        unique_error_types: 5,
                        failure_rate: 7.3,
                        analysis_period_days: 7
                    },
                    top_10_errors: [
                        { message: "test_user_authentication failed", count: 8 },
                        { message: "Module not found: requests", count: 5 },
                        { message: "Build timeout after 30 minutes", count: 4 },
                        { message: "Permission denied: /var/log", count: 3 },
                        { message: "Syntax error in main.py line 42", count: 3 }
                    ],
                    error_distribution: {
                        "TEST_FAILURE": 12,
                        "BUILD_ERROR": 6,
                        "TIMEOUT_ERROR": 3,
                        "MODULE_ERROR": 2
                    },
                    detailed_errors: [
                        {
                            type: "TEST_FAILURE",
                            message: "test_user_authentication failed",
                            source_file: "run_12345.log",
                            line_number: 156,
                            timestamp: "2024-01-15T10:30:00Z"
                        },
                        {
                            type: "BUILD_ERROR",
                            message: "Module not found: requests",
                            source_file: "run_12346.log",
                            line_number: 89,
                            timestamp: "2024-01-15T09:15:00Z"
                        }
                    ]
                };

                this.updateStatistics();
                this.updateCharts();
                this.updateErrorCases();

                addLog('ğŸš¨ ì—ëŸ¬ ë¶„ì„ í´ë°± ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.', 'warning');
            }

            updateStatistics() {
                if (!this.errorData) return;

                const summary = this.errorData.analysis_summary;

                // ì‹¤íŒ¨ìœ¨ ì—…ë°ì´íŠ¸
                if (this.failureRateEl) {
                    this.failureRateEl.textContent = summary.failure_rate.toFixed(1);
                }

                // ì‹¤íŒ¨ìœ¨ ê²½ê³  í‘œì‹œ (10% ì´ˆê³¼ ì‹œ)
                if (this.failureWarningEl) {
                    if (summary.failure_rate > this.thresholds.critical) {
                        this.failureWarningEl.classList.remove('hidden');
                        // ì‹¤íŒ¨ìœ¨ ì¹´ë“œì— ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€
                        const failureCard = document.getElementById('errorFailureRateCard');
                        if (failureCard) {
                            failureCard.classList.add('animate-pulse');
                        }
                        addLog(`âš ï¸ CI/CD ì‹¤íŒ¨ìœ¨ì´ ì„ê³„ê°’(${this.thresholds.critical}%)ì„ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤: ${summary.failure_rate.toFixed(1)}%`, 'warning');
                    } else {
                        this.failureWarningEl.classList.add('hidden');
                        const failureCard = document.getElementById('errorFailureRateCard');
                        if (failureCard) {
                            failureCard.classList.remove('animate-pulse');
                        }
                    }
                }

                // ì´ ì—ëŸ¬ ìˆ˜ ì—…ë°ì´íŠ¸
                if (this.totalCountEl) {
                    this.totalCountEl.textContent = summary.total_errors.toLocaleString();
                }

                // ì—ëŸ¬ ìœ í˜• ìˆ˜ ì—…ë°ì´íŠ¸
                if (this.typeCountEl) {
                    this.typeCountEl.textContent = summary.unique_error_types;
                }

                // ë¶„ì„ ê¸°ê°„ ì—…ë°ì´íŠ¸
                if (this.analysisPeriodEl) {
                    this.analysisPeriodEl.textContent = summary.analysis_period_days || 7;
                }
            }

            updateCharts() {
                if (!this.errorData) return;

                this.createTypeDistributionChart();
                this.createTrendChart();
            }

            createTypeDistributionChart() {
                const ctx = this.typeDistributionChartCanvas?.getContext('2d');
                if (!ctx) return;

                // ê¸°ì¡´ ì°¨íŠ¸ íŒŒê´´
                if (this.charts.typeDistribution) {
                    this.charts.typeDistribution.destroy();
                }

                const distribution = this.errorData.error_distribution;
                const labels = Object.keys(distribution);
                const data = Object.values(distribution);

                // ì—ëŸ¬ ìœ í˜•ë³„ ìƒ‰ìƒ ë§¤í•‘
                const colors = {
                    'TEST_FAILURE': '#ef4444',
                    'BUILD_ERROR': '#f97316',
                    'TIMEOUT_ERROR': '#eab308',
                    'MODULE_ERROR': '#8b5cf6',
                    'SYNTAX_ERROR': '#06b6d4',
                    'PERMISSION_ERROR': '#ec4899',
                    'DEPLOY_ERROR': '#f59e0b'
                };

                const backgroundColors = labels.map(label => colors[label] || '#6b7280');

                this.charts.typeDistribution = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: labels.map(label => {
                            // ì—ëŸ¬ ìœ í˜• í•œêµ­ì–´ ë³€í™˜
                            const typeMap = {
                                'TEST_FAILURE': 'í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨',
                                'BUILD_ERROR': 'ë¹Œë“œ ì—ëŸ¬',
                                'TIMEOUT_ERROR': 'íƒ€ì„ì•„ì›ƒ',
                                'MODULE_ERROR': 'ëª¨ë“ˆ ì—ëŸ¬',
                                'SYNTAX_ERROR': 'ë¬¸ë²• ì—ëŸ¬',
                                'PERMISSION_ERROR': 'ê¶Œí•œ ì—ëŸ¬',
                                'DEPLOY_ERROR': 'ë°°í¬ ì—ëŸ¬'
                            };
                            return typeMap[label] || label;
                        }),
                        datasets: [{
                            data: data,
                            backgroundColor: backgroundColors,
                            borderColor: '#374151',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    color: '#f3f4f6',
                                    font: { size: 12 }
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                        const percentage = ((context.parsed / total) * 100).toFixed(1);
                                        return `${context.label}: ${context.parsed}ê±´ (${percentage}%)`;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            createTrendChart() {
                const ctx = this.trendChartCanvas?.getContext('2d');
                if (!ctx) return;

                // ê¸°ì¡´ ì°¨íŠ¸ íŒŒê´´
                if (this.charts.trend) {
                    this.charts.trend.destroy();
                }

                // ìµœê·¼ 7ì¼ê°„ì˜ ëª¨ì˜ íŠ¸ë Œë“œ ë°ì´í„° ìƒì„±
                const days = [];
                const errorCounts = [];

                for (let i = 6; i >= 0; i--) {
                    const date = new Date();
                    date.setDate(date.getDate() - i);
                    days.push(date.toLocaleDateString('ko-KR', { month: 'short', day: 'numeric' }));

                    // ëª¨ì˜ ì—ëŸ¬ ìˆ˜ (ì‹¤ì œë¡œëŠ” ë¶„ì„ ë°ì´í„°ì—ì„œ ê°€ì ¸ì™€ì•¼ í•¨)
                    errorCounts.push(Math.floor(Math.random() * 10) + 2);
                }

                this.charts.trend = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: days,
                        datasets: [{
                            label: 'ì¼ë³„ ì—ëŸ¬ ìˆ˜',
                            data: errorCounts,
                            borderColor: '#ef4444',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4,
                            pointBackgroundColor: '#ef4444',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 2,
                            pointRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: {
                                    color: '#f3f4f6',
                                    font: { size: 12 }
                                }
                            }
                        },
                        scales: {
                            x: {
                                ticks: { color: '#9ca3af' },
                                grid: { color: 'rgba(75, 85, 99, 0.3)' }
                            },
                            y: {
                                ticks: { color: '#9ca3af' },
                                grid: { color: 'rgba(75, 85, 99, 0.3)' },
                                beginAtZero: true
                            }
                        }
                    }
                });
            }

            updateErrorCases() {
                if (!this.errorData || !this.errorCasesListEl) return;

                const errors = this.errorData.detailed_errors || [];

                // í•„í„° ì ìš©
                const filteredErrors = this.currentFilter === 'all'
                    ? errors
                    : errors.filter(error => error.type === this.currentFilter);

                if (filteredErrors.length === 0) {
                    this.errorCasesListEl.innerHTML = `
                        <div class="text-center text-gray-400 py-8">
                            <div class="text-4xl mb-2">ğŸš¨</div>
                            <div>í‘œì‹œí•  ì—ëŸ¬ ì‚¬ë¡€ê°€ ì—†ìŠµë‹ˆë‹¤.</div>
                        </div>
                    `;
                    return;
                }

                // ì—ëŸ¬ ì‚¬ë¡€ ëª©ë¡ HTML ìƒì„±
                const errorCasesHTML = filteredErrors.slice(0, 10).map((error, index) => {
                    const typeColors = {
                        'TEST_FAILURE': 'text-red-300',
                        'BUILD_ERROR': 'text-orange-300',
                        'TIMEOUT_ERROR': 'text-yellow-300',
                        'MODULE_ERROR': 'text-purple-300',
                        'SYNTAX_ERROR': 'text-blue-300'
                    };

                    const typeColor = typeColors[error.type] || 'text-gray-300';
                    const formattedTime = error.timestamp ? new Date(error.timestamp).toLocaleString('ko-KR') : 'N/A';

                    return `
                        <div class="bg-gray-800/50 rounded-lg p-4 hover:bg-gray-800/70 transition-colors duration-200">
                            <div class="flex items-start justify-between mb-2">
                                <div class="flex items-center space-x-2">
                                    <span class="text-red-400 text-lg">ğŸš¨</span>
                                    <span class="${typeColor} text-sm font-medium">${error.type}</span>
                                    <span class="text-gray-400 text-xs">#{index + 1}</span>
                                </div>
                                <div class="text-gray-400 text-xs">${formattedTime}</div>
                            </div>
                            <div class="text-white text-sm mb-2 font-mono">
                                ${error.message.length > 100 ? error.message.substring(0, 100) + '...' : error.message}
                            </div>
                            <div class="flex items-center space-x-4 text-xs text-gray-400">
                                <span>ğŸ“„ ${error.source_file}</span>
                                <span>ğŸ“ ë¼ì¸ ${error.line_number}</span>
                            </div>
                        </div>
                    `;
                }).join('');

                this.errorCasesListEl.innerHTML = errorCasesHTML;
            }

            filterErrorCases() {
                this.updateErrorCases();
                addLog(`ğŸ” ì—ëŸ¬ ìœ í˜• í•„í„°ê°€ '${this.currentFilter}'ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'info');
            }

            async refreshErrorData() {
                addLog('ğŸ”„ CI/CD ì—ëŸ¬ ë¶„ì„ ë°ì´í„°ë¥¼ ìƒˆë¡œê³ ì¹¨í•©ë‹ˆë‹¤...', 'info');
                await this.loadErrorData();
            }

            async runErrorAnalysis() {
                try {
                    addLog('ğŸ” CI/CD ì—ëŸ¬ ë¡œê·¸ ë¶„ì„ì„ ì‹¤í–‰í•©ë‹ˆë‹¤...', 'info');

                    // ë¶„ì„ ì‹¤í–‰ ë²„íŠ¼ ë¹„í™œì„±í™”
                    if (this.runAnalysisBtn) {
                        this.runAnalysisBtn.disabled = true;
                        this.runAnalysisBtn.innerHTML = '<span class="mr-2">â³</span>ë¶„ì„ ì¤‘...';
                    }

                    // ì—ëŸ¬ ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ API í˜¸ì¶œ
                    const response = await fetch('/api/v1/ci/run-error-analysis', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            days: parseInt(this.analysisPeriodEl?.textContent) || 7,
                            format: 'json'
                        })
                    });

                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }

                    const result = await response.json();
                    addLog('âœ… CI/CD ì—ëŸ¬ ë¶„ì„ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');

                    // ë¶„ì„ ì™„ë£Œ í›„ ë°ì´í„° ìƒˆë¡œê³ ì¹¨
                    await this.loadErrorData();

                } catch (error) {
                    console.error('ì—ëŸ¬ ë¶„ì„ ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜:', error);
                    addLog(`âŒ ì—ëŸ¬ ë¶„ì„ ì‹¤í–‰ ì‹¤íŒ¨: ${error.message}`, 'error');
                } finally {
                    // ë¶„ì„ ì‹¤í–‰ ë²„íŠ¼ ë³µì›
                    if (this.runAnalysisBtn) {
                        this.runAnalysisBtn.disabled = false;
                        this.runAnalysisBtn.innerHTML = '<span class="mr-2">ğŸ”</span>ë¶„ì„ ì‹¤í–‰';
                    }
                }
            }

            async downloadErrorReport() {
                try {
                    addLog('ğŸ“¥ CI/CD ì—ëŸ¬ ë¦¬í¬íŠ¸ë¥¼ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤...', 'info');

                    // JSON ë¦¬í¬íŠ¸ ë‹¤ìš´ë¡œë“œ
                    const response = await fetch('/api/v1/ci/error-report/json');
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }

                    const blob = await response.blob();
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');

                    const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, -5);
                    const filename = `ci-error-report-${timestamp}.json`;

                    a.href = url;
                    a.download = filename;
                    a.click();
                    window.URL.revokeObjectURL(url);

                    addLog(`ğŸ“¥ CI/CD ì—ëŸ¬ ë¦¬í¬íŠ¸ê°€ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤: ${filename}`, 'success');

                } catch (error) {
                    console.error('ë¦¬í¬íŠ¸ ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜:', error);
                    addLog(`ğŸ“¥ ë¦¬í¬íŠ¸ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨: ${error.message}`, 'error');
                }
            }

            updateThresholdsFromInputs() {
                if (this.criticalThresholdEl) {
                    this.thresholds.critical = parseFloat(this.criticalThresholdEl.value) || 10;
                }
                if (this.errorThresholdEl) {
                    this.thresholds.error = parseFloat(this.errorThresholdEl.value) || 5;
                }
                if (this.warningThresholdEl) {
                    this.thresholds.warning = parseFloat(this.warningThresholdEl.value) || 1;
                }

                // í†µê³„ ì—…ë°ì´íŠ¸ (ì‹¤íŒ¨ìœ¨ ê²½ê³  ê¸°ì¤€ ë³€ê²½ ë°˜ì˜)
                this.updateStatistics();
            }

            saveThresholds() {
                try {
                    // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì„ê³„ì¹˜ ì €ì¥
                    localStorage.setItem('ciErrorThresholds', JSON.stringify(this.thresholds));
                    addLog('ğŸ’¾ CI/CD ì—ëŸ¬ ì•Œë¦¼ ì„ê³„ì¹˜ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                } catch (error) {
                    addLog('ğŸ’¾ ì„ê³„ì¹˜ ì €ì¥ ì‹¤íŒ¨: ' + error.message, 'error');
                }
            }

            loadThresholds() {
                try {
                    const saved = localStorage.getItem('ciErrorThresholds');
                    if (saved) {
                        this.thresholds = { ...this.thresholds, ...JSON.parse(saved) };

                        // UIì— ì €ì¥ëœ ê°’ ë°˜ì˜
                        if (this.criticalThresholdEl) {
                            this.criticalThresholdEl.value = this.thresholds.critical;
                        }
                        if (this.errorThresholdEl) {
                            this.errorThresholdEl.value = this.thresholds.error;
                        }
                        if (this.warningThresholdEl) {
                            this.warningThresholdEl.value = this.thresholds.warning;
                        }
                    }
                } catch (error) {
                    console.warn('ì„ê³„ì¹˜ ë¡œë“œ ì‹¤íŒ¨:', error);
                }
            }

            showLoadingState() {
                if (this.errorCasesListEl) {
                    this.errorCasesListEl.innerHTML = `
                        <div class="text-center text-gray-400 py-8">
                            <div class="text-4xl mb-2 animate-spin">ğŸ”„</div>
                            <div>ì—ëŸ¬ ë¶„ì„ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ëŠ” ì¤‘...</div>
                        </div>
                    `;
                }
            }

            hideLoadingState() {
                // ë¡œë”© ìƒíƒœ í•´ì œëŠ” updateErrorCasesì—ì„œ ì²˜ë¦¬ë¨
            }
        }

        // ìš´ì˜ ì•Œë¦¼ ë§¤ë‹ˆì € ì „ì—­ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
        let opsNotificationManager;
        let ciReportManager;
        let ciErrorAnalyzer;
        let quarterlyReportManager;

        // =============================================
        // ğŸ“Š ë¶„ê¸°ë³„ ìš´ì˜ ë¦¬í¬íŠ¸ ë§¤ë‹ˆì € (í•œêµ­ì–´ ì£¼ì„ í¬í•¨)
        // =============================================

        class QuarterlyReportManager {
            constructor() {
                this.currentQuarter = this.getCurrentQuarter();
                this.currentYear = new Date().getFullYear();
                this.monthlyTrendChart = null;
                this.scoreDistributionChart = null;
                this.autoRefreshInterval = null;
                this.init();
            }

            getCurrentQuarter() {
                const month = new Date().getMonth() + 1;
                if (month <= 3) return 'Q1';
                if (month <= 6) return 'Q2';
                if (month <= 9) return 'Q3';
                return 'Q4';
            }

            init() {
                this.initElements();
                this.bindEvents();
                this.loadQuarterlyReports();
                this.startAutoRefresh();
            }

            initElements() {
                // ë²„íŠ¼ë“¤
                this.refreshBtn = document.getElementById('refreshQuarterlyReportBtn');
                this.generateBtn = document.getElementById('generateQuarterlyReportBtn');
                this.downloadBtn = document.getElementById('downloadQuarterlyReportBtn');

                // ì„ íƒìë“¤
                this.quarterSelect = document.getElementById('quarterlyReportQuarterSelect');
                this.yearSelect = document.getElementById('quarterlyReportYearSelect');

                // ì ìˆ˜ í‘œì‹œ ìš”ì†Œë“¤
                this.securityScoreEl = document.getElementById('quarterlySecurityScore');
                this.backupScoreEl = document.getElementById('quarterlyBackupScore');
                this.systemScoreEl = document.getElementById('quarterlySystemScore');
                this.totalScoreEl = document.getElementById('quarterlyTotalScore');
                this.gradeEl = document.getElementById('quarterlyPerformanceGrade');

                // ìƒì„¸ ì •ë³´ ìš”ì†Œë“¤
                this.blockedIPsEl = document.getElementById('quarterlyBlockedIPs');
                this.securityEventsEl = document.getElementById('quarterlySecurityEvents');
                this.rateLimitEl = document.getElementById('quarterlyRateLimit');
                this.whitelistAddedEl = document.getElementById('quarterlyWhitelistAdded');

                this.successfulBackupsEl = document.getElementById('quarterlySuccessfulBackups');
                this.failedBackupsEl = document.getElementById('quarterlyFailedBackups');
                this.backupSuccessRateEl = document.getElementById('quarterlyBackupSuccessRate');
                this.cleanupOpsEl = document.getElementById('quarterlyCleanupOps');

                this.avgCpuEl = document.getElementById('quarterlyAvgCpu');
                this.avgMemoryEl = document.getElementById('quarterlyAvgMemory');
                this.avgDiskEl = document.getElementById('quarterlyAvgDisk');
                this.uptimeEl = document.getElementById('quarterlyUptime');

                // ë¦¬í¬íŠ¸ ëª©ë¡
                this.reportsListEl = document.getElementById('quarterlyReportsList');

                // ê¶Œì¥ì‚¬í•­ ë° ê¸°íƒ€ ì„¹ì…˜ë“¤
                this.recommendationsSection = document.getElementById('quarterlyRecommendationsSection');
                this.recommendationsList = document.getElementById('quarterlyRecommendationsList');
                this.criticalPeriodsSection = document.getElementById('quarterlyCriticalPeriodsSection');
                this.criticalPeriodsList = document.getElementById('quarterlyCriticalPeriodsList');

                // í˜„ì¬ ë¶„ê¸°ë¡œ ì´ˆê¸°í™”
                if (this.quarterSelect) {
                    this.quarterSelect.value = this.currentQuarter;
                }
                if (this.yearSelect) {
                    this.yearSelect.value = this.currentYear.toString();
                }
            }

            bindEvents() {
                // ë²„íŠ¼ ì´ë²¤íŠ¸
                this.refreshBtn?.addEventListener('click', () => this.loadQuarterlyReports());
                this.generateBtn?.addEventListener('click', () => this.generateQuarterlyReport());
                this.downloadBtn?.addEventListener('click', () => this.downloadReport('markdown'));

                // ì„ íƒì ì´ë²¤íŠ¸
                this.quarterSelect?.addEventListener('change', () => this.onQuarterChange());
                this.yearSelect?.addEventListener('change', () => this.onYearChange());
            }

            async loadQuarterlyReports() {
                this.showLoadingState();

                try {
                    const quarter = this.quarterSelect?.value || this.currentQuarter;
                    const year = this.yearSelect?.value || this.currentYear;

                    // APIì—ì„œ ë¶„ê¸°ë³„ ë¦¬í¬íŠ¸ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° (ì„ì‹œë¡œ ëª¨í‚¹ëœ ë°ì´í„° ì‚¬ìš©)
                    await this.loadMockData(quarter, year);

                    addLog('âœ… ë¶„ê¸°ë³„ ìš´ì˜ ë¦¬í¬íŠ¸ê°€ ì„±ê³µì ìœ¼ë¡œ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');

                } catch (error) {
                    console.error('ë¶„ê¸°ë³„ ë¦¬í¬íŠ¸ ë¡œë“œ ì¤‘ ì˜¤ë¥˜:', error);
                    addLog(`ğŸ“Š ë¶„ê¸°ë³„ ë¦¬í¬íŠ¸ ë¡œë“œ ì‹¤íŒ¨: ${error.message}`, 'error');
                    this.loadFallbackData();
                } finally {
                    this.hideLoadingState();
                }
            }

            async loadMockData(quarter, year) {
                // ì„ì‹œ ëª¨í‚¹ëœ ë°ì´í„°
                const mockData = {
                    performance_summary: {
                        total_score: 85,
                        security_score: 26,
                        backup_score: 28,
                        system_score: 16,
                        ci_score: 15,
                        grade: 'ìš°ìˆ˜'
                    },
                    security_events: {
                        total_events: 156,
                        blocked_ips: 45,
                        rate_limit_violations: 23,
                        whitelist_additions: 8
                    },
                    backup_operations: {
                        successful_backups: 270,
                        failed_backups: 3,
                        success_rate_percent: 98.9,
                        cleanup_operations: 90
                    },
                    system_performance: {
                        avg_cpu_percent: 25.4,
                        avg_memory_percent: 68.2,
                        avg_disk_percent: 45.8,
                        uptime_days: 89
                    },
                    recent_reports: [
                        {
                            quarter: quarter,
                            year: year,
                            total_score: 85,
                            security_score: 26,
                            backup_score: 28,
                            system_score: 16,
                            ci_score: 15,
                            grade: 'ìš°ìˆ˜',
                            generated_at: new Date().toISOString()
                        }
                    ],
                    recommendations: [
                        'ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ ì´ ë†’ìœ¼ë¯€ë¡œ ì‹œìŠ¤í…œ ìµœì í™” ê¶Œì¥',
                        'CI ì‹¤íŒ¨ìœ¨ ê°œì„ ì„ ìœ„í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ í’ˆì§ˆ í–¥ìƒ í•„ìš”'
                    ],
                    critical_periods: [
                        {
                            date: '2024-02-14',
                            description: 'ë°¸ëŸ°íƒ€ì¸ ë°ì´ íŠ¸ë˜í”½ ì¦ê°€ë¡œ ì¸í•œ ì¼ì‹œì  ì„±ëŠ¥ ì €í•˜'
                        }
                    ],
                    monthly_trends: {
                        month1_score: 82,
                        month2_score: 85,
                        month3_score: 88
                    }
                };

                this.updateScoreCards(mockData.performance_summary);
                this.updateDetailedStats(mockData);
                this.updateReportsList(mockData.recent_reports);
                this.updateRecommendations(mockData.recommendations);
                this.updateCriticalPeriods(mockData.critical_periods);
                this.updateCharts(mockData);
            }

            async generateQuarterlyReport() {
                const quarter = this.quarterSelect?.value || this.currentQuarter;
                const year = this.yearSelect?.value || this.currentYear;

                if (this.generateBtn) {
                    this.generateBtn.disabled = true;
                    this.generateBtn.innerHTML = '<span class="mr-2">â³</span>ìƒì„± ì¤‘...';
                }

                try {
                    addLog(`ğŸ“Š ${quarter} ${year} ë¶„ê¸°ë³„ ë¦¬í¬íŠ¸ ìƒì„± ì‹œì‘...`, 'info');

                    // ì‹¤ì œë¡œëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ì—¬ ë¦¬í¬íŠ¸ ìƒì„±
                    await new Promise(resolve => setTimeout(resolve, 2000)); // ì‹œë®¬ë ˆì´ì…˜

                    addLog('âœ… ë¶„ê¸°ë³„ ë¦¬í¬íŠ¸ê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
                    // ìë™ìœ¼ë¡œ ìƒˆë¡œìš´ ë¦¬í¬íŠ¸ ë¡œë“œ
                    setTimeout(() => this.loadQuarterlyReports(), 1000);

                } catch (error) {
                    console.error('ë¶„ê¸°ë³„ ë¦¬í¬íŠ¸ ìƒì„± ì¤‘ ì˜¤ë¥˜:', error);
                    addLog(`ğŸ“Š ë¶„ê¸°ë³„ ë¦¬í¬íŠ¸ ìƒì„± ì‹¤íŒ¨: ${error.message}`, 'error');
                } finally {
                    if (this.generateBtn) {
                        this.generateBtn.disabled = false;
                        this.generateBtn.innerHTML = '<span class="mr-2">ğŸ“Š</span>ë¦¬í¬íŠ¸ ìƒì„±';
                    }
                }
            }

            updateScoreCards(performance) {
                if (!performance) return;

                // ì ìˆ˜ ì—…ë°ì´íŠ¸
                if (this.securityScoreEl) this.securityScoreEl.textContent = performance.security_score || 0;
                if (this.backupScoreEl) this.backupScoreEl.textContent = performance.backup_score || 0;
                if (this.systemScoreEl) this.systemScoreEl.textContent = performance.system_score || 0;
                if (this.totalScoreEl) this.totalScoreEl.textContent = performance.total_score || 0;

                // ë“±ê¸‰ ì—…ë°ì´íŠ¸
                const grade = performance.grade || 'í‰ê°€ ì¤‘';
                if (this.gradeEl) {
                    this.gradeEl.textContent = grade;
                    this.gradeEl.className = this.getGradeClass(grade);
                }
            }

            updateDetailedStats(data) {
                const securityEvents = data.security_events || {};
                const backupOps = data.backup_operations || {};
                const systemPerf = data.system_performance || {};

                // ë³´ì•ˆ ìƒì„¸ ì •ë³´
                if (this.blockedIPsEl) this.blockedIPsEl.textContent = `${securityEvents.blocked_ips || 0}ê°œ`;
                if (this.securityEventsEl) this.securityEventsEl.textContent = `${securityEvents.total_events || 0}ê±´`;
                if (this.rateLimitEl) this.rateLimitEl.textContent = `${securityEvents.rate_limit_violations || 0}íšŒ`;
                if (this.whitelistAddedEl) this.whitelistAddedEl.textContent = `${securityEvents.whitelist_additions || 0}ê°œ`;

                // ë°±ì—… ìƒì„¸ ì •ë³´
                if (this.successfulBackupsEl) this.successfulBackupsEl.textContent = `${backupOps.successful_backups || 0}íšŒ`;
                if (this.failedBackupsEl) this.failedBackupsEl.textContent = `${backupOps.failed_backups || 0}íšŒ`;
                if (this.backupSuccessRateEl) this.backupSuccessRateEl.textContent = `${backupOps.success_rate_percent || 0}%`;
                if (this.cleanupOpsEl) this.cleanupOpsEl.textContent = `${backupOps.cleanup_operations || 0}íšŒ`;

                // ì‹œìŠ¤í…œ ìƒì„¸ ì •ë³´
                if (this.avgCpuEl) this.avgCpuEl.textContent = `${systemPerf.avg_cpu_percent || 0}%`;
                if (this.avgMemoryEl) this.avgMemoryEl.textContent = `${systemPerf.avg_memory_percent || 0}%`;
                if (this.avgDiskEl) this.avgDiskEl.textContent = `${systemPerf.avg_disk_percent || 0}%`;
                if (this.uptimeEl) this.uptimeEl.textContent = `${systemPerf.uptime_days || 0}ì¼`;
            }

            updateReportsList(reports) {
                if (!this.reportsListEl || !reports) return;

                if (reports.length === 0) {
                    this.reportsListEl.innerHTML = `
                        <div class="text-center text-gray-400 py-8">
                            <div class="text-4xl mb-2">ğŸ“Š</div>
                            <div>ë¶„ê¸°ë³„ ë¦¬í¬íŠ¸ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</div>
                        </div>
                    `;
                    return;
                }

                const reportsHtml = reports.map(report => {
                    const gradeEmoji = this.getGradeEmoji(report.grade);
                    const formatDate = (dateStr) => {
                        return new Date(dateStr).toLocaleDateString('ko-KR', {
                            year: 'numeric',
                            month: 'long',
                            day: 'numeric'
                        });
                    };

                    return `
                        <div class="bg-gray-700/50 border border-gray-600/50 rounded-lg p-4 hover:bg-gray-600/50 transition-colors duration-200">
                            <div class="flex justify-between items-start mb-3">
                                <div>
                                    <h4 class="text-white dark:text-gray-100 font-semibold">${report.quarter} ${report.year} ë¶„ê¸°ë³„ ë¦¬í¬íŠ¸ ${gradeEmoji}</h4>
                                    <span class="text-xs px-2 py-1 rounded-full bg-gray-600 text-gray-300">${report.grade} (${report.total_score}/100ì )</span>
                                </div>
                                <div class="text-right text-sm text-gray-400">
                                    <div>ğŸ“… ${formatDate(report.generated_at)}</div>
                                </div>
                            </div>
                            <div class="grid grid-cols-4 gap-2 text-xs text-gray-400">
                                <div>ğŸ›¡ï¸ ë³´ì•ˆ: ${report.security_score}/30</div>
                                <div>ğŸ“¦ ë°±ì—…: ${report.backup_score}/30</div>
                                <div>âš™ï¸ ì‹œìŠ¤í…œ: ${report.system_score}/20</div>
                                <div>ğŸš€ CI/CD: ${report.ci_score || 0}/20</div>
                            </div>
                        </div>
                    `;
                }).join('');

                this.reportsListEl.innerHTML = reportsHtml;
            }

            updateRecommendations(recommendations) {
                if (!recommendations || recommendations.length === 0) {
                    if (this.recommendationsSection) {
                        this.recommendationsSection.classList.add('hidden');
                    }
                    return;
                }

                if (this.recommendationsList) {
                    const recommendationsHtml = recommendations.map(rec =>
                        `<div class="flex items-start"><span class="mr-2">ğŸ’¡</span><span>${rec}</span></div>`
                    ).join('');
                    this.recommendationsList.innerHTML = recommendationsHtml;
                }

                if (this.recommendationsSection) {
                    this.recommendationsSection.classList.remove('hidden');
                }
            }

            updateCriticalPeriods(criticalPeriods) {
                if (!criticalPeriods || criticalPeriods.length === 0) {
                    if (this.criticalPeriodsSection) {
                        this.criticalPeriodsSection.classList.add('hidden');
                    }
                    return;
                }

                if (this.criticalPeriodsList) {
                    const periodsHtml = criticalPeriods.map(period =>
                        `<div class="flex items-start"><span class="mr-2">âš ï¸</span><span><strong>${period.date}:</strong> ${period.description}</span></div>`
                    ).join('');
                    this.criticalPeriodsList.innerHTML = periodsHtml;
                }

                if (this.criticalPeriodsSection) {
                    this.criticalPeriodsSection.classList.remove('hidden');
                }
            }

            updateCharts(data) {
                this.updateMonthlyTrendChart(data.monthly_trends || {});
                this.updateScoreDistributionChart(data.performance_summary || {});
            }

            updateMonthlyTrendChart(monthlyTrends) {
                const ctx = document.getElementById('quarterlyMonthlyTrendChart');
                if (!ctx) return;

                // ê¸°ì¡´ ì°¨íŠ¸ íŒŒê´´
                if (this.monthlyTrendChart) {
                    this.monthlyTrendChart.destroy();
                }

                const isDark = document.documentElement.classList.contains('dark');
                const textColor = isDark ? '#f3f4f6' : '#374151';
                const gridColor = isDark ? 'rgba(107, 114, 128, 0.3)' : 'rgba(156, 163, 175, 0.3)';

                this.monthlyTrendChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['1ê°œì›”', '2ê°œì›”', '3ê°œì›”'],
                        datasets: [{
                            label: 'ì›”ë³„ ì„±ê³¼ ì ìˆ˜',
                            data: [
                                monthlyTrends.month1_score || 0,
                                monthlyTrends.month2_score || 0,
                                monthlyTrends.month3_score || 0
                            ],
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: { color: textColor }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100,
                                ticks: { color: textColor },
                                grid: { color: gridColor }
                            },
                            x: {
                                ticks: { color: textColor },
                                grid: { color: gridColor }
                            }
                        }
                    }
                });
            }

            updateScoreDistributionChart(performance) {
                const ctx = document.getElementById('quarterlyScoreDistributionChart');
                if (!ctx) return;

                // ê¸°ì¡´ ì°¨íŠ¸ íŒŒê´´
                if (this.scoreDistributionChart) {
                    this.scoreDistributionChart.destroy();
                }

                const isDark = document.documentElement.classList.contains('dark');
                const textColor = isDark ? '#f3f4f6' : '#374151';

                this.scoreDistributionChart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['ë³´ì•ˆ', 'ë°±ì—…', 'ì‹œìŠ¤í…œ', 'CI/CD'],
                        datasets: [{
                            data: [
                                performance.security_score || 0,
                                performance.backup_score || 0,
                                performance.system_score || 0,
                                performance.ci_score || 0
                            ],
                            backgroundColor: [
                                '#ef4444',
                                '#3b82f6',
                                '#10b981',
                                '#f59e0b'
                            ],
                            borderWidth: 2,
                            borderColor: isDark ? '#374151' : '#ffffff'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: { color: textColor }
                            }
                        }
                    }
                });
            }

            async downloadReport(format) {
                const quarter = this.quarterSelect?.value || this.currentQuarter;
                const year = this.yearSelect?.value || this.currentYear;

                try {
                    addLog(`ğŸ“¥ ë¶„ê¸°ë³„ ë¦¬í¬íŠ¸ ${format.toUpperCase()} ë‹¤ìš´ë¡œë“œë¥¼ ì‹œì‘í•©ë‹ˆë‹¤...`, 'info');

                    // ì‹¤ì œë¡œëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ì—¬ ë¦¬í¬íŠ¸ ìƒì„± í›„ ë‹¤ìš´ë¡œë“œ
                    await new Promise(resolve => setTimeout(resolve, 1000)); // ì‹œë®¬ë ˆì´ì…˜

                    addLog(`ğŸ“¥ ë¶„ê¸°ë³„ ë¦¬í¬íŠ¸ ${format.toUpperCase()} íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.`, 'info');

                } catch (error) {
                    console.error('ë¦¬í¬íŠ¸ ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜:', error);
                    addLog(`ğŸ“¥ ë¦¬í¬íŠ¸ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨: ${error.message}`, 'error');
                }
            }

            onQuarterChange() {
                const newQuarter = this.quarterSelect?.value;
                if (newQuarter) {
                    addLog(`ğŸ“Š ë¶„ê¸°ê°€ ${newQuarter}ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'info');
                    this.loadQuarterlyReports();
                }
            }

            onYearChange() {
                const newYear = this.yearSelect?.value;
                if (newYear) {
                    addLog(`ğŸ“Š ì—°ë„ê°€ ${newYear}ë…„ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'info');
                    this.loadQuarterlyReports();
                }
            }

            getGradeClass(grade) {
                switch (grade) {
                    case 'ìš°ìˆ˜': return 'text-green-200 text-xs font-medium';
                    case 'ë³´í†µ': return 'text-yellow-200 text-xs font-medium';
                    case 'ê°œì„  í•„ìš”': return 'text-red-200 text-xs font-medium';
                    default: return 'text-gray-200 text-xs font-medium';
                }
            }

            getGradeEmoji(grade) {
                switch (grade) {
                    case 'ìš°ìˆ˜': return 'ğŸ†';
                    case 'ë³´í†µ': return 'ğŸ‘';
                    case 'ê°œì„  í•„ìš”': return 'âš ï¸';
                    default: return 'ğŸ“Š';
                }
            }

            loadFallbackData() {
                // ì‹¤ì œ ë°ì´í„°ë¥¼ ë¡œë“œí•  ìˆ˜ ì—†ì„ ë•Œ ê¸°ë³¸ ë°ì´í„° í‘œì‹œ
                const fallbackData = {
                    performance_summary: {
                        total_score: 0,
                        security_score: 0,
                        backup_score: 0,
                        system_score: 0,
                        ci_score: 0,
                        grade: 'ë°ì´í„° ì—†ìŒ'
                    },
                    security_events: { total_events: 0, blocked_ips: 0, rate_limit_violations: 0, whitelist_additions: 0 },
                    backup_operations: { successful_backups: 0, failed_backups: 0, success_rate_percent: 0, cleanup_operations: 0 },
                    system_performance: { avg_cpu_percent: 0, avg_memory_percent: 0, avg_disk_percent: 0, uptime_days: 0 },
                    recent_reports: [],
                    recommendations: [],
                    critical_periods: [],
                    monthly_trends: { month1_score: 0, month2_score: 0, month3_score: 0 }
                };

                this.updateScoreCards(fallbackData.performance_summary);
                this.updateDetailedStats(fallbackData);
                this.updateReportsList(fallbackData.recent_reports);
                this.updateRecommendations(fallbackData.recommendations);
                this.updateCriticalPeriods(fallbackData.critical_periods);
                this.updateCharts(fallbackData);
            }

            showLoadingState() {
                if (this.refreshBtn) {
                    this.refreshBtn.disabled = true;
                    this.refreshBtn.innerHTML = '<span class="mr-2">ğŸ”„</span>ë¡œë”© ì¤‘...';
                }

                if (this.reportsListEl) {
                    this.reportsListEl.innerHTML = `
                        <div class="text-center text-gray-400 py-8">
                            <div class="text-4xl mb-2">ğŸ“Š</div>
                            <div>ë¶„ê¸°ë³„ ë¦¬í¬íŠ¸ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ëŠ” ì¤‘...</div>
                        </div>
                    `;
                }
            }

            hideLoadingState() {
                if (this.refreshBtn) {
                    this.refreshBtn.disabled = false;
                    this.refreshBtn.innerHTML = '<span class="mr-2">ğŸ”„</span>ìƒˆë¡œê³ ì¹¨';
                }
            }

            startAutoRefresh() {
                this.stopAutoRefresh();
                // 5ë¶„ë§ˆë‹¤ ìë™ ìƒˆë¡œê³ ì¹¨
                this.autoRefreshInterval = setInterval(() => {
                    this.loadQuarterlyReports();
                }, 300000);
            }

            stopAutoRefresh() {
                if (this.autoRefreshInterval) {
                    clearInterval(this.autoRefreshInterval);
                    this.autoRefreshInterval = null;
                }
            }
        }

        // =============================================
        // ğŸ“… ì—°ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ ë§¤ë‹ˆì € (í•œêµ­ì–´ ì£¼ì„ í¬í•¨)
        // =============================================

        class YearlyReportManager {
            constructor() {
                this.currentYear = new Date().getFullYear();
                this.isLoading = false;
                this.reportData = null;
                this.charts = {
                    quarterly: null,
                    distribution: null
                };
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.updateYearSelector();
                this.loadInitialData();
                addLog('ğŸ“… ì—°ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ ë§¤ë‹ˆì €ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
            }

            setupEventListeners() {
                // ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼
                const refreshBtn = document.getElementById('yearlyRefreshBtn');
                if (refreshBtn) {
                    refreshBtn.addEventListener('click', () => this.refreshData());
                }

                // ë¦¬í¬íŠ¸ ìƒì„± ë²„íŠ¼
                const generateBtn = document.getElementById('yearlyGenerateBtn');
                if (generateBtn) {
                    generateBtn.addEventListener('click', () => this.generateReport());
                }

                // Markdown ë‹¤ìš´ë¡œë“œ ë²„íŠ¼
                const markdownBtn = document.getElementById('yearlyMarkdownBtn');
                if (markdownBtn) {
                    markdownBtn.addEventListener('click', () => this.downloadMarkdown());
                }

                // JSON ë‹¤ìš´ë¡œë“œ ë²„íŠ¼
                const jsonBtn = document.getElementById('yearlyJsonBtn');
                if (jsonBtn) {
                    jsonBtn.addEventListener('click', () => this.downloadJson());
                }

                // ì•Œë¦¼ ì „ì†¡ ë²„íŠ¼
                const notifyBtn = document.getElementById('yearlyNotifyBtn');
                if (notifyBtn) {
                    notifyBtn.addEventListener('click', () => this.sendNotification());
                }

                // ì—°ë„ ì„ íƒê¸°
                const yearSelector = document.getElementById('yearlyYearSelector');
                if (yearSelector) {
                    yearSelector.addEventListener('change', (e) => {
                        this.currentYear = parseInt(e.target.value);
                        this.loadYearlyData();
                    });
                }
            }

            updateYearSelector() {
                const yearSelector = document.getElementById('yearlyYearSelector');
                if (!yearSelector) return;

                // í˜„ì¬ ì—°ë„ë¶€í„° 5ë…„ ì „ê¹Œì§€ì˜ ì˜µì…˜ ìƒì„±
                const currentYear = new Date().getFullYear();
                yearSelector.innerHTML = '';

                for (let year = currentYear; year >= currentYear - 5; year--) {
                    const option = document.createElement('option');
                    option.value = year;
                    option.textContent = year + 'ë…„';
                    if (year === this.currentYear) {
                        option.selected = true;
                    }
                    yearSelector.appendChild(option);
                }
            }

            async loadInitialData() {
                await this.loadYearlyData();
            }

            async refreshData() {
                addLog('ğŸ“… ì—°ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ ë°ì´í„°ë¥¼ ìƒˆë¡œê³ ì¹¨í•©ë‹ˆë‹¤...', 'info');
                await this.loadYearlyData();
                this.showSuccessToast('ë°ì´í„°ê°€ ìƒˆë¡œê³ ì¹¨ë˜ì—ˆìŠµë‹ˆë‹¤');
            }

            async loadYearlyData() {
                if (this.isLoading) return;

                this.setLoadingState(true);
                this.updateProgressBar(0, 'ì—°ê°„ ë°ì´í„° ë¡œë”© ì¤‘...');

                try {
                    // ì‹¤ì œë¡œëŠ” yearly_ops_report.sh ìŠ¤í¬ë¦½íŠ¸ë¥¼ í˜¸ì¶œí•˜ì—¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´
                    // ì—¬ê¸°ì„œëŠ” ì‹œë®¬ë ˆì´ì…˜ëœ ë°ì´í„° ì‚¬ìš©
                    this.updateProgressBar(25, 'ë³´ì•ˆ ë°ì´í„° ë¶„ì„ ì¤‘...');
                    await this.delay(500);

                    this.updateProgressBar(50, 'ë°±ì—… ë°ì´í„° ë¶„ì„ ì¤‘...');
                    await this.delay(500);

                    this.updateProgressBar(75, 'ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­ ë¶„ì„ ì¤‘...');
                    await this.delay(500);

                    this.updateProgressBar(100, 'ë¦¬í¬íŠ¸ ìƒì„± ì™„ë£Œ');

                    // ì‹œë®¬ë ˆì´ì…˜ëœ ì—°ê°„ ë¦¬í¬íŠ¸ ë°ì´í„°
                    this.reportData = this.generateSimulatedData();

                    this.updateScoreCards();
                    this.updateCharts();
                    this.updateCriticalEvents();
                    this.updateStatistics();

                    addLog(`ğŸ“… ${this.currentYear}ë…„ ì—°ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ê°€ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');

                } catch (error) {
                    console.error('ì—°ê°„ ë¦¬í¬íŠ¸ ë¡œë”© ì‹¤íŒ¨:', error);
                    addLog('âŒ ì—°ê°„ ë¦¬í¬íŠ¸ ë¡œë”©ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
                    this.showErrorToast('ë°ì´í„° ë¡œë”©ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
                } finally {
                    this.setLoadingState(false);
                }
            }

            generateSimulatedData() {
                // ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” yearly_ops_report.shì˜ ì¶œë ¥ì„ íŒŒì‹±
                const baseScore = 75 + Math.random() * 20; // 75-95 ì 
                return {
                    year: this.currentYear,
                    overall_score: Math.round(baseScore),
                    security_score: Math.round(baseScore + (Math.random() - 0.5) * 10),
                    backup_score: Math.round(baseScore + (Math.random() - 0.5) * 8),
                    system_score: Math.round(baseScore + (Math.random() - 0.5) * 12),
                    cicd_score: Math.round(baseScore + (Math.random() - 0.5) * 15),
                    quarterly_trends: [
                        { quarter: 'Q1', score: Math.round(baseScore + (Math.random() - 0.5) * 10) },
                        { quarter: 'Q2', score: Math.round(baseScore + (Math.random() - 0.5) * 10) },
                        { quarter: 'Q3', score: Math.round(baseScore + (Math.random() - 0.5) * 10) },
                        { quarter: 'Q4', score: Math.round(baseScore + (Math.random() - 0.5) * 10) }
                    ],
                    critical_events: [
                        { date: '2024-12-15', type: 'ë³´ì•ˆ', description: 'SSH ë¬´ì°¨ë³„ ëŒ€ì… ê³µê²© ì°¨ë‹¨', severity: 'high' },
                        { date: '2024-11-28', type: 'ë°±ì—…', description: 'ë°±ì—… ê²€ì¦ ì‹¤íŒ¨ (database-prod)', severity: 'medium' },
                        { date: '2024-10-22', type: 'CI/CD', description: 'Production ë°°í¬ ì‹¤íŒ¨ (rollback ìˆ˜í–‰)', severity: 'high' },
                        { date: '2024-09-15', type: 'ì‹œìŠ¤í…œ', description: 'Disk ì‚¬ìš©ëŸ‰ 90% ì´ˆê³¼', severity: 'medium' },
                        { date: '2024-08-08', type: 'ë³´ì•ˆ', description: 'Suspicious API í˜¸ì¶œ íŒ¨í„´ íƒì§€', severity: 'low' }
                    ],
                    statistics: {
                        total_security_incidents: Math.floor(50 + Math.random() * 30),
                        backup_success_rate: Math.round(95 + Math.random() * 4),
                        system_uptime: Math.round(98 + Math.random() * 1.5),
                        avg_deployment_time: Math.round(8 + Math.random() * 4)
                    }
                };
            }

            updateScoreCards() {
                if (!this.reportData) return;

                const scoreCards = [
                    { id: 'yearlyOverallScore', value: this.reportData.overall_score },
                    { id: 'yearlySecurityScore', value: this.reportData.security_score },
                    { id: 'yearlyBackupScore', value: this.reportData.backup_score },
                    { id: 'yearlySystemScore', value: this.reportData.system_score },
                    { id: 'yearlyCicdScore', value: this.reportData.cicd_score }
                ];

                scoreCards.forEach(card => {
                    const element = document.getElementById(card.id);
                    if (element) {
                        this.animateScore(element, card.value);
                    }
                });
            }

            animateScore(element, targetValue) {
                const startValue = 0;
                const duration = 1000;
                const startTime = performance.now();

                const animate = (currentTime) => {
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);

                    const currentValue = Math.round(startValue + (targetValue - startValue) * progress);
                    element.textContent = currentValue;

                    if (progress < 1) {
                        requestAnimationFrame(animate);
                    }
                };

                requestAnimationFrame(animate);
            }

            updateCharts() {
                if (!this.reportData) return;

                this.updateQuarterlyTrendChart();
                this.updateScoreDistributionChart();
            }

            updateQuarterlyTrendChart() {
                const ctx = document.getElementById('yearlyQuarterlyChart');
                if (!ctx) return;

                // ê¸°ì¡´ ì°¨íŠ¸ íŒŒê´´
                if (this.charts.quarterly) {
                    this.charts.quarterly.destroy();
                }

                const isDark = document.documentElement.classList.contains('dark');
                const textColor = isDark ? '#e5e7eb' : '#374151';
                const gridColor = isDark ? '#374151' : '#e5e7eb';

                this.charts.quarterly = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: this.reportData.quarterly_trends.map(q => q.quarter),
                        datasets: [{
                            label: 'ë¶„ê¸°ë³„ ì„±ê³¼ ì ìˆ˜',
                            data: this.reportData.quarterly_trends.map(q => q.score),
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: { color: textColor }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100,
                                ticks: { color: textColor },
                                grid: { color: gridColor }
                            },
                            x: {
                                ticks: { color: textColor },
                                grid: { color: gridColor }
                            }
                        }
                    }
                });
            }

            updateScoreDistributionChart() {
                const ctx = document.getElementById('yearlyDistributionChart');
                if (!ctx) return;

                // ê¸°ì¡´ ì°¨íŠ¸ íŒŒê´´
                if (this.charts.distribution) {
                    this.charts.distribution.destroy();
                }

                const isDark = document.documentElement.classList.contains('dark');
                const textColor = isDark ? '#e5e7eb' : '#374151';

                this.charts.distribution = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['ë³´ì•ˆ', 'ë°±ì—…', 'ì‹œìŠ¤í…œ', 'CI/CD'],
                        datasets: [{
                            data: [
                                this.reportData.security_score,
                                this.reportData.backup_score,
                                this.reportData.system_score,
                                this.reportData.cicd_score
                            ],
                            backgroundColor: [
                                '#ef4444', // ë³´ì•ˆ - ë¹¨ê°„ìƒ‰
                                '#10b981', // ë°±ì—… - ì´ˆë¡ìƒ‰
                                '#f59e0b', // ì‹œìŠ¤í…œ - ë…¸ë€ìƒ‰
                                '#3b82f6'  // CI/CD - íŒŒë€ìƒ‰
                            ],
                            borderWidth: 2,
                            borderColor: isDark ? '#1f2937' : '#ffffff'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: { color: textColor }
                            }
                        }
                    }
                });
            }

            updateCriticalEvents() {
                if (!this.reportData) return;

                const container = document.getElementById('yearlyCriticalEventsList');
                if (!container) return;

                container.innerHTML = '';

                this.reportData.critical_events.slice(0, 5).forEach(event => {
                    const severityColors = {
                        high: 'text-red-400 bg-red-500/20',
                        medium: 'text-yellow-400 bg-yellow-500/20',
                        low: 'text-green-400 bg-green-500/20'
                    };

                    const severityLabels = {
                        high: 'ë†’ìŒ',
                        medium: 'ë³´í†µ',
                        low: 'ë‚®ìŒ'
                    };

                    const eventElement = document.createElement('div');
                    eventElement.className = 'flex items-center justify-between p-3 bg-white/5 rounded-lg border border-white/10';
                    eventElement.innerHTML = `
                        <div class="flex-1">
                            <div class="flex items-center space-x-2 mb-1">
                                <span class="text-sm font-medium text-white">${event.type}</span>
                                <span class="px-2 py-1 rounded text-xs font-medium ${severityColors[event.severity]}">${severityLabels[event.severity]}</span>
                            </div>
                            <div class="text-sm text-gray-300">${event.description}</div>
                        </div>
                        <div class="text-xs text-gray-400">${event.date}</div>
                    `;
                    container.appendChild(eventElement);
                });
            }

            updateStatistics() {
                if (!this.reportData) return;

                const stats = [
                    { id: 'yearlySecurityIncidents', value: this.reportData.statistics.total_security_incidents },
                    { id: 'yearlyBackupSuccessRate', value: this.reportData.statistics.backup_success_rate + '%' },
                    { id: 'yearlySystemUptime', value: this.reportData.statistics.system_uptime + '%' },
                    { id: 'yearlyAvgDeployTime', value: this.reportData.statistics.avg_deployment_time + 'ë¶„' }
                ];

                stats.forEach(stat => {
                    const element = document.getElementById(stat.id);
                    if (element) {
                        element.textContent = stat.value;
                    }
                });
            }

            async generateReport() {
                if (this.isLoading) return;

                addLog('ğŸ“Š ì—°ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤...', 'info');
                this.setLoadingState(true);

                try {
                    // ì‹¤ì œë¡œëŠ” yearly_ops_report.sh ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰
                    await this.delay(2000);

                    await this.loadYearlyData();
                    this.showSuccessToast('ë¦¬í¬íŠ¸ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤');

                } catch (error) {
                    console.error('ë¦¬í¬íŠ¸ ìƒì„± ì‹¤íŒ¨:', error);
                    addLog('âŒ ë¦¬í¬íŠ¸ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
                    this.showErrorToast('ë¦¬í¬íŠ¸ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
                } finally {
                    this.setLoadingState(false);
                }
            }

            async downloadMarkdown() {
                if (!this.reportData) {
                    this.showErrorToast('ë¦¬í¬íŠ¸ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤');
                    return;
                }

                const markdown = this.generateMarkdownReport();
                this.downloadFile(`yearly_ops_report_${this.currentYear}.md`, markdown, 'text/markdown');
                addLog('ğŸ“„ Markdown ë¦¬í¬íŠ¸ê°€ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
            }

            async downloadJson() {
                if (!this.reportData) {
                    this.showErrorToast('ë¦¬í¬íŠ¸ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤');
                    return;
                }

                const json = JSON.stringify(this.reportData, null, 2);
                this.downloadFile(`yearly_ops_report_${this.currentYear}.json`, json, 'application/json');
                addLog('ğŸ“Š JSON ë¦¬í¬íŠ¸ê°€ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
            }

            generateMarkdownReport() {
                return `# ğŸ“… ${this.currentYear}ë…„ ì—°ê°„ ìš´ì˜ ë¦¬í¬íŠ¸

## ğŸ“Š ì¢…í•© ì„±ê³¼ ìš”ì•½
- **ì¢…í•© ì ìˆ˜**: ${this.reportData.overall_score}/100
- **ë³´ì•ˆ ì ìˆ˜**: ${this.reportData.security_score}/100
- **ë°±ì—… ì ìˆ˜**: ${this.reportData.backup_score}/100
- **ì‹œìŠ¤í…œ ì ìˆ˜**: ${this.reportData.system_score}/100
- **CI/CD ì ìˆ˜**: ${this.reportData.cicd_score}/100

## ğŸ“ˆ ë¶„ê¸°ë³„ ì„±ê³¼ íŠ¸ë Œë“œ
${this.reportData.quarterly_trends.map(q => `- **${q.quarter}**: ${q.score}ì `).join('\n')}

## ğŸš¨ ì£¼ìš” ë³´ì•ˆ ì´ë²¤íŠ¸ (Top 5)
${this.reportData.critical_events.slice(0, 5).map(event =>
    `- **${event.date}** [${event.type}] ${event.description} (ìœ„í—˜ë„: ${event.severity})`
).join('\n')}

## ğŸ“‹ ì—°ê°„ í†µê³„
- **ë³´ì•ˆ ì¸ì‹œë˜íŠ¸**: ${this.reportData.statistics.total_security_incidents}ê±´
- **ë°±ì—… ì„±ê³µë¥ **: ${this.reportData.statistics.backup_success_rate}%
- **ì‹œìŠ¤í…œ ê°€ë™ì‹œê°„**: ${this.reportData.statistics.system_uptime}%
- **í‰ê·  ë°°í¬ ì‹œê°„**: ${this.reportData.statistics.avg_deployment_time}ë¶„

---
*Generated by MCP Map Company Admin Dashboard*
`;
            }

            async sendNotification() {
                if (!this.reportData) {
                    this.showErrorToast('ë¦¬í¬íŠ¸ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤');
                    return;
                }

                if (this.isLoading) return;

                addLog('ğŸ“§ ì—°ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ ì•Œë¦¼ì„ ì „ì†¡í•©ë‹ˆë‹¤...', 'info');
                this.setLoadingState(true);

                try {
                    // ì‹¤ì œë¡œëŠ” mcp/utils/notifier.pyì˜ send_yearly_ops_report í•¨ìˆ˜ë¥¼ í˜¸ì¶œ
                    await this.delay(1500);

                    this.showSuccessToast('ì—°ê°„ ë¦¬í¬íŠ¸ ì•Œë¦¼ì´ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤');
                    addLog('ğŸ“§ ì—°ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ ì•Œë¦¼ì´ ì„±ê³µì ìœ¼ë¡œ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');

                } catch (error) {
                    console.error('ì•Œë¦¼ ì „ì†¡ ì‹¤íŒ¨:', error);
                    addLog('âŒ ì•Œë¦¼ ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
                    this.showErrorToast('ì•Œë¦¼ ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
                } finally {
                    this.setLoadingState(false);
                }
            }

            downloadFile(filename, content, mimeType) {
                const blob = new Blob([content], { type: mimeType });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = filename;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);
            }

            setLoadingState(loading) {
                this.isLoading = loading;
                const buttons = [
                    'yearlyRefreshBtn', 'yearlyGenerateBtn', 'yearlyMarkdownBtn',
                    'yearlyJsonBtn', 'yearlyNotifyBtn'
                ];

                buttons.forEach(btnId => {
                    const btn = document.getElementById(btnId);
                    if (btn) {
                        btn.disabled = loading;
                        btn.style.opacity = loading ? '0.5' : '1';
                    }
                });
            }

            updateProgressBar(percentage, message) {
                const progressBar = document.getElementById('yearlyProgressBar');
                const progressText = document.getElementById('yearlyProgressText');

                if (progressBar) {
                    progressBar.style.width = percentage + '%';
                }

                if (progressText) {
                    progressText.textContent = message;
                }
            }

            showSuccessToast(message) {
                this.showToast(message, 'success');
            }

            showErrorToast(message) {
                this.showToast(message, 'error');
            }

            showToast(message, type) {
                // ê°„ë‹¨í•œ í† ìŠ¤íŠ¸ ì•Œë¦¼ êµ¬í˜„
                const toast = document.createElement('div');
                toast.className = `fixed top-4 right-4 px-6 py-3 rounded-lg text-white font-medium z-50 ${
                    type === 'success' ? 'bg-green-600' : 'bg-red-600'
                }`;
                toast.textContent = message;

                document.body.appendChild(toast);

                setTimeout(() => {
                    toast.style.opacity = '0';
                    setTimeout(() => {
                        if (toast.parentNode) {
                            toast.parentNode.removeChild(toast);
                        }
                    }, 300);
                }, 3000);
            }

            // ì°¨íŠ¸ ì—…ë°ì´íŠ¸ (ë‹¤í¬ëª¨ë“œ ë³€ê²½ì‹œ í˜¸ì¶œ)
            updateChartsForTheme() {
                if (this.reportData) {
                    this.updateCharts();
                }
            }

            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
        }

        // ì „ì—­ ë³€ìˆ˜ë¡œ ë§¤ë‹ˆì € ì¸ìŠ¤í„´ìŠ¤ ì €ì¥
        let yearlyReportManager = null;

        // DOM ë¡œë“œ ì™„ë£Œ ì‹œ ë§¤ë‹ˆì €ë“¤ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            // ìš´ì˜ ì•Œë¦¼ í†µí•© íŒ¨ë„ì´ ìˆëŠ” ê²½ìš°ì—ë§Œ ì´ˆê¸°í™”
            if (document.getElementById('opsNotificationsList')) {
                opsNotificationManager = new OpsNotificationManager();
                addLog('ğŸ”” ìš´ì˜ ì•Œë¦¼ í†µí•© íŒ¨ë„ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
            }

            // CI/CD ì„±ëŠ¥ ë¦¬í¬íŠ¸ íŒ¨ë„ì´ ìˆëŠ” ê²½ìš°ì—ë§Œ ì´ˆê¸°í™”
            if (document.getElementById('ciReportsList')) {
                ciReportManager = new CIReportManager();
                addLog('ğŸ“Š CI/CD ì„±ëŠ¥ ë¦¬í¬íŠ¸ íŒ¨ë„ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
            }

            // CI/CD ì—ëŸ¬ ë¡œê·¸ ë¶„ì„ íŒ¨ë„ì´ ìˆëŠ” ê²½ìš°ì—ë§Œ ì´ˆê¸°í™”
            if (document.getElementById('errorCasesList')) {
                ciErrorAnalyzer = new CIErrorAnalyzer();
                addLog('ğŸš¨ CI/CD ì—ëŸ¬ ë¡œê·¸ ë¶„ì„ íŒ¨ë„ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
            }

            // ë¶„ê¸°ë³„ ìš´ì˜ ë¦¬í¬íŠ¸ íŒ¨ë„ì´ ìˆëŠ” ê²½ìš°ì—ë§Œ ì´ˆê¸°í™”
            if (document.getElementById('quarterlyReportsList')) {
                quarterlyReportManager = new QuarterlyReportManager();
                addLog('ğŸ“Š ë¶„ê¸°ë³„ ìš´ì˜ ë¦¬í¬íŠ¸ íŒ¨ë„ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
            }

            // ì—°ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ íŒ¨ë„ì´ ìˆëŠ” ê²½ìš°ì—ë§Œ ì´ˆê¸°í™”
            if (document.getElementById('yearlyOverallScore')) {
                yearlyReportManager = new YearlyReportManager();
                addLog('ğŸ“… ì—°ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ íŒ¨ë„ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
            }

            // =====================================
            // ğŸ” ì´ìƒíƒì§€ & ì›ì¸ë¶„ì„(RCA) ë§¤ë‹ˆì €
            // =====================================

            class AnomalyRCAManager {
                constructor() {
                    this.isLoading = false;
                    this.currentData = null;
                    this.charts = {};
                    this.currentTab = 'overview';
                    this.init();
                }

                init() {
                    this.setupEventListeners();
                    this.setupTabSwitching();
                    this.setupPolicyControls();
                    this.loadInitialData();
                }

                setupEventListeners() {
                    // ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼
                    document.getElementById('refreshAnomalyBtn')?.addEventListener('click', () => {
                        this.loadInitialData();
                    });

                    // RCA ì‹¤í–‰ ë²„íŠ¼
                    document.getElementById('runRCABtn')?.addEventListener('click', () => {
                        this.runRCAAnalysis();
                    });

                    // ë‚´ë³´ë‚´ê¸° ë²„íŠ¼ë“¤
                    document.getElementById('rcaExportJSON')?.addEventListener('click', () => {
                        this.exportData('json');
                    });

                    document.getElementById('rcaExportMD')?.addEventListener('click', () => {
                        this.exportData('markdown');
                    });

                    // ì •ì±… í…ŒìŠ¤íŠ¸ ë²„íŠ¼
                    document.getElementById('rcaPolicyTestBtn')?.addEventListener('click', () => {
                        this.testPolicy();
                    });
                }

                setupTabSwitching() {
                    const tabButtons = document.querySelectorAll('.rca-tab-btn');
                    tabButtons.forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            const tabId = e.target.id.replace('rcaTab', '').toLowerCase();
                            this.switchTab(tabId);
                        });
                    });
                }

                setupPolicyControls() {
                    // ì„ê³„ê°’ ìŠ¬ë¼ì´ë”
                    const thresholdSlider = document.getElementById('rcaPolicyThreshold');
                    const thresholdValue = document.getElementById('rcaPolicyThresholdValue');

                    thresholdSlider?.addEventListener('input', (e) => {
                        thresholdValue.textContent = e.target.value;
                    });

                    // ìœˆë„ìš° í¬ê¸° ìŠ¬ë¼ì´ë”
                    const windowSlider = document.getElementById('rcaPolicyWindow');
                    const windowValue = document.getElementById('rcaPolicyWindowValue');

                    windowSlider?.addEventListener('input', (e) => {
                        windowValue.textContent = e.target.value;
                    });

                    // ì„œí”„ë ˆì…˜ í† ê¸€ë“¤
                    const toggles = ['rcaSuppressionNight', 'rcaSuppressionWeekend', 'rcaSuppressionDuplicate'];
                    toggles.forEach(toggleId => {
                        document.getElementById(toggleId)?.addEventListener('click', (e) => {
                            e.target.classList.toggle('active');
                            this.updateSuppressionStatus();
                        });
                    });
                }

                switchTab(tabName) {
                    // ëª¨ë“  íƒ­ ë²„íŠ¼ ë¹„í™œì„±í™”
                    document.querySelectorAll('.rca-tab-btn').forEach(btn => {
                        btn.classList.remove('bg-purple-600');
                        btn.classList.add('bg-gray-600', 'hover:bg-gray-500');
                    });

                    // ì„ íƒëœ íƒ­ ë²„íŠ¼ í™œì„±í™”
                    const activeBtn = document.getElementById(`rcaTab${tabName.charAt(0).toUpperCase() + tabName.slice(1)}`);
                    if (activeBtn) {
                        activeBtn.classList.add('bg-purple-600');
                        activeBtn.classList.remove('bg-gray-600', 'hover:bg-gray-500');
                    }

                    // ëª¨ë“  íƒ­ ì»¨í…ì¸  ìˆ¨ê¸°ê¸°
                    document.querySelectorAll('.rca-tab-content').forEach(content => {
                        content.classList.add('hidden');
                    });

                    // ì„ íƒëœ íƒ­ ì»¨í…ì¸  í‘œì‹œ
                    const activeContent = document.getElementById(`rcaContent${tabName.charAt(0).toUpperCase() + tabName.slice(1)}`);
                    if (activeContent) {
                        activeContent.classList.remove('hidden');
                    }

                    this.currentTab = tabName;

                    // íƒ­ì— ë”°ë¥¸ ë°ì´í„° ë¡œë“œ
                    switch (tabName) {
                        case 'causes':
                            this.loadCausesData();
                            break;
                        case 'decompose':
                            this.loadDecomposeData();
                            break;
                        case 'policy':
                            this.loadPolicyData();
                            break;
                        default:
                            this.loadOverviewData();
                    }
                }

                async loadInitialData() {
                    try {
                        this.isLoading = true;
                        this.updateLoadingState(true);

                        // ì´ìƒíƒì§€ ìš”ì•½ ë°ì´í„° ë¡œë“œ
                        const response = await fetch('/api/v1/anomaly/summary');
                        if (response.ok) {
                            const data = await response.json();
                            this.currentData = data;
                            this.updateSummaryCards(data);
                            this.loadOverviewData();
                        }

                    } catch (error) {
                        console.error('RCA ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
                        this.showError('ë°ì´í„° ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
                    } finally {
                        this.isLoading = false;
                        this.updateLoadingState(false);
                    }
                }

                updateSummaryCards(data) {
                    // ìƒ˜í”Œ ë°ì´í„°ë¡œ ì¹´ë“œ ì—…ë°ì´íŠ¸
                    document.getElementById('rcaTopCause').textContent = 'CPU ì‚¬ìš©ë¥ ';
                    document.getElementById('rcaTopContribution').textContent = 'ê¸°ì—¬ë„: 67.3%';

                    document.getElementById('rcaContributionChange').textContent = '+45.2%';
                    document.getElementById('rcaChangeDirection').textContent = 'ê¸°ì¤€ ëŒ€ë¹„ ì¦ê°€';

                    document.getElementById('rcaSeasonalityStrength').textContent = '72.1%';
                    document.getElementById('rcaSeasonalityDesc').textContent = 'ê°•í•œ ì£¼ê¸°ì„±';

                    document.getElementById('rcaConfidenceScore').textContent = '87.3%';
                    document.getElementById('rcaConfidenceDesc').textContent = 'ë†’ì€ ì‹ ë¢°ë„';
                }

                async loadOverviewData() {
                    this.createAnomalyTimelineChart();
                    this.createRiskByMetricChart();
                }

                async loadCausesData() {
                    // ì›ì¸ë¶„ì„ ì‹¤í–‰ì´ í•„ìš”í•œ ê²½ìš° ìƒ˜í”Œ ë°ì´í„°ë¡œ í‘œì‹œ
                    this.createContributionChart();
                    this.updateCausesList();
                }

                async loadDecomposeData() {
                    try {
                        // ê³„ì ˆì„± ë¶„í•´ API í˜¸ì¶œ
                        const response = await fetch('/api/v1/anomaly/decompose?metric=cpu_usage&days=30');
                        if (response.ok) {
                            const data = await response.json();
                            this.createDecompositionCharts(data.decomposition);
                            this.updateDecomposeSummary(data.decomposition);
                        } else {
                            this.createSampleDecompositionCharts();
                        }
                    } catch (error) {
                        console.error('ê³„ì ˆì„± ë¶„í•´ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
                        this.createSampleDecompositionCharts();
                    }
                }

                async loadPolicyData() {
                    try {
                        // ì •ì±… ë°ì´í„° ë¡œë“œ
                        const response = await fetch('/api/v1/anomaly/policy');
                        if (response.ok) {
                            const data = await response.json();
                            this.updatePolicyControls(data.data);
                        }

                        // ì„œí”„ë ˆì…˜ ìƒíƒœ ë¡œë“œ
                        const suppressionResponse = await fetch('/api/v1/anomaly/suppression');
                        if (suppressionResponse.ok) {
                            const suppressionData = await suppressionResponse.json();
                            this.updateSuppressionStatus(suppressionData);
                        }
                    } catch (error) {
                        console.error('ì •ì±… ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
                    }
                }

                createAnomalyTimelineChart() {
                    const ctx = document.getElementById('rcaAnomalyTimelineChart')?.getContext('2d');
                    if (!ctx) return;

                    if (this.charts.timeline) {
                        this.charts.timeline.destroy();
                    }

                    // ìƒ˜í”Œ ë°ì´í„° ìƒì„±
                    const labels = Array.from({length: 30}, (_, i) => `${i+1}ì¼`);
                    const normalData = Array.from({length: 30}, () => Math.random() * 20 + 40);
                    const anomalyData = normalData.map((val, i) => {
                        // 20-25ì¼ì°¨ë¥¼ ì´ìƒ êµ¬ê°„ìœ¼ë¡œ ì„¤ì •
                        return (i >= 19 && i <= 24) ? val + Math.random() * 30 + 20 : val;
                    });

                    this.charts.timeline = new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: labels,
                            datasets: [{
                                label: 'CPU ì‚¬ìš©ë¥ ',
                                data: anomalyData,
                                borderColor: '#8b5cf6',
                                backgroundColor: 'rgba(139, 92, 246, 0.1)',
                                tension: 0.4,
                                pointBackgroundColor: anomalyData.map((val, i) =>
                                    (i >= 19 && i <= 24) ? '#ef4444' : '#8b5cf6'
                                ),
                                pointRadius: anomalyData.map((val, i) =>
                                    (i >= 19 && i <= 24) ? 6 : 3
                                )
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    labels: { color: '#ffffff' }
                                }
                            },
                            scales: {
                                x: { ticks: { color: '#ffffff' } },
                                y: { ticks: { color: '#ffffff' } }
                            }
                        }
                    });
                }

                createRiskByMetricChart() {
                    const ctx = document.getElementById('rcaRiskByMetricChart')?.getContext('2d');
                    if (!ctx) return;

                    if (this.charts.risk) {
                        this.charts.risk.destroy();
                    }

                    this.charts.risk = new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: ['CPU ì‚¬ìš©ë¥ ', 'ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ ', 'ë„¤íŠ¸ì›Œí¬ ì§€ì—°', 'ë””ìŠ¤í¬ I/O'],
                            datasets: [{
                                data: [67, 23, 15, 8],
                                backgroundColor: ['#ef4444', '#f97316', '#eab308', '#22c55e'],
                                borderColor: '#1f2937',
                                borderWidth: 2
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    position: 'bottom',
                                    labels: { color: '#ffffff', padding: 20 }
                                }
                            }
                        }
                    });
                }

                createContributionChart() {
                    const ctx = document.getElementById('rcaContributionChart')?.getContext('2d');
                    if (!ctx) return;

                    if (this.charts.contribution) {
                        this.charts.contribution.destroy();
                    }

                    this.charts.contribution = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: ['CPU ì‚¬ìš©ë¥ ', 'ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ ', 'ë„¤íŠ¸ì›Œí¬ ì§€ì—°', 'ë””ìŠ¤í¬ I/O', 'í”„ë¡œì„¸ìŠ¤ ìˆ˜'],
                            datasets: [{
                                label: 'ê¸°ì—¬ë„ (%)',
                                data: [67.3, 23.1, 15.7, 8.2, 5.9],
                                backgroundColor: ['#ef4444', '#f97316', '#eab308', '#22c55e', '#3b82f6'],
                                borderColor: '#1f2937',
                                borderWidth: 1
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    labels: { color: '#ffffff' }
                                }
                            },
                            scales: {
                                x: { ticks: { color: '#ffffff' } },
                                y: {
                                    ticks: { color: '#ffffff' },
                                    beginAtZero: true,
                                    max: 100
                                }
                            }
                        }
                    });
                }

                updateCausesList() {
                    const causesList = document.getElementById('rcaCausesList');
                    if (!causesList) return;

                    const causes = [
                        { name: 'CPU ì‚¬ìš©ë¥ ', contribution: 67.3, correlation: 0.89, evidence: 'CPU ì‚¬ìš©ë¥ ì´ 45.2% ì¦ê°€í•˜ì—¬ ë§¤ìš° ê°•í•œ ìƒê´€ê´€ê³„ (r=0.89, p<0.001, ìœ ì˜í•¨)' },
                        { name: 'ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ ', contribution: 23.1, correlation: 0.67, evidence: 'ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ ì´ 23.4% ì¦ê°€í•˜ì—¬ ê°•í•œ ìƒê´€ê´€ê³„ (r=0.67, p<0.01, ìœ ì˜í•¨)' },
                        { name: 'ë„¤íŠ¸ì›Œí¬ ì§€ì—°', contribution: 15.7, correlation: -0.54, evidence: 'ë„¤íŠ¸ì›Œí¬ ì§€ì—°ì´ 18.9% ê°ì†Œí•˜ì—¬ ë³´í†µ ìƒê´€ê´€ê³„ (r=-0.54, p<0.05, ìœ ì˜í•¨)' },
                        { name: 'ë””ìŠ¤í¬ I/O', contribution: 8.2, correlation: 0.34, evidence: 'ë””ìŠ¤í¬ I/Oê°€ 12.1% ì¦ê°€í•˜ì—¬ ì•½í•œ ìƒê´€ê´€ê³„ (r=0.34, p=0.12, ìœ ì˜í•˜ì§€ ì•ŠìŒ)' },
                        { name: 'í”„ë¡œì„¸ìŠ¤ ìˆ˜', contribution: 5.9, correlation: 0.28, evidence: 'í”„ë¡œì„¸ìŠ¤ ìˆ˜ê°€ 8.7% ì¦ê°€í•˜ì—¬ ì•½í•œ ìƒê´€ê´€ê³„ (r=0.28, p=0.18, ìœ ì˜í•˜ì§€ ì•ŠìŒ)' }
                    ];

                    causesList.innerHTML = causes.map(cause => `
                        <div class="bg-black/20 rounded-lg p-3 border-l-4 border-purple-500">
                            <div class="flex justify-between items-center mb-2">
                                <span class="font-medium text-white">${cause.name}</span>
                                <span class="text-purple-300 font-bold">${cause.contribution}%</span>
                            </div>
                            <div class="text-sm text-gray-300 mb-1">
                                ìƒê´€ê³„ìˆ˜: ${cause.correlation}
                            </div>
                            <div class="text-xs text-gray-400">
                                ${cause.evidence}
                            </div>
                        </div>
                    `).join('');
                }

                createSampleDecompositionCharts() {
                    // ìƒ˜í”Œ ë°ì´í„°ë¡œ ë¶„í•´ ì°¨íŠ¸ ìƒì„±
                    const sampleData = {
                        trend: Array.from({length: 30}, (_, i) => 50 + i * 0.5),
                        seasonal: Array.from({length: 30}, (_, i) => 10 * Math.sin(2 * Math.PI * i / 7)),
                        residual: Array.from({length: 30}, () => Math.random() * 4 - 2)
                    };

                    this.createDecompositionCharts(sampleData);
                }

                createDecompositionCharts(decomposition) {
                    const labels = Array.from({length: decomposition.trend?.length || 30}, (_, i) => `${i+1}ì¼`);

                    // ì¶”ì„¸ ì°¨íŠ¸
                    this.createDecompChart('rcaTrendChart', 'ì¶”ì„¸', decomposition.trend, '#3b82f6');

                    // ê³„ì ˆì„± ì°¨íŠ¸
                    this.createDecompChart('rcaSeasonalChart', 'ê³„ì ˆì„±', decomposition.seasonal, '#10b981');

                    // ì”ì°¨ ì°¨íŠ¸
                    this.createDecompChart('rcaResidualChart', 'ì”ì°¨', decomposition.residual, '#f59e0b');
                }

                createDecompChart(canvasId, label, data, color) {
                    const ctx = document.getElementById(canvasId)?.getContext('2d');
                    if (!ctx) return;

                    if (this.charts[canvasId]) {
                        this.charts[canvasId].destroy();
                    }

                    const labels = Array.from({length: data?.length || 30}, (_, i) => `${i+1}`);

                    this.charts[canvasId] = new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: labels,
                            datasets: [{
                                label: label,
                                data: data || Array.from({length: 30}, () => Math.random() * 10),
                                borderColor: color,
                                backgroundColor: color + '20',
                                tension: 0.4,
                                pointRadius: 2
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: { display: false }
                            },
                            scales: {
                                x: {
                                    ticks: { color: '#ffffff', maxTicksLimit: 6 }
                                },
                                y: {
                                    ticks: { color: '#ffffff' }
                                }
                            }
                        }
                    });
                }

                updateDecomposeSummary(decomposition) {
                    const summary = document.getElementById('rcaDecomposeSummary');
                    if (!summary) return;

                    const summaryText = decomposition?.ë¶„ì„_ìš”ì•½ ||
                        'ê°•í•œ ê³„ì ˆì„± (72.1%), ëšœë ·í•œ ì¶”ì„¸ (68.4%), ì£¼ê¸° 7ì¼ - ì „í˜•ì ì¸ ì£¼ê°„ íŒ¨í„´ì„ ë³´ì´ë©°, ì—…ë¬´ì‹œê°„ê³¼ ì—°ê´€ëœ ì£¼ê¸°ì  ë³€í™”ê°€ ê´€ì°°ë©ë‹ˆë‹¤.';

                    summary.textContent = summaryText;
                }

                async runRCAAnalysis() {
                    try {
                        this.updateLoadingState(true);

                        // ìƒ˜í”Œ RCA ìš”ì²­ ë°ì´í„°
                        const rcaRequest = {
                            target_metric: 'cpu_usage',
                            anomaly_start: 19,
                            anomaly_end: 24,
                            baseline_start: 5,
                            baseline_end: 15,
                            metrics_data: {
                                'cpu_usage': Array.from({length: 30}, (_, i) =>
                                    (i >= 19 && i <= 24) ? Math.random() * 30 + 70 : Math.random() * 20 + 40),
                                'memory_usage': Array.from({length: 30}, () => Math.random() * 20 + 60),
                                'network_latency': Array.from({length: 30}, () => Math.random() * 50 + 100),
                                'disk_io': Array.from({length: 30}, () => Math.random() * 40 + 30)
                            },
                            top_n: 5
                        };

                        const response = await fetch('/api/v1/anomaly/rca', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(rcaRequest)
                        });

                        if (response.ok) {
                            const data = await response.json();
                            this.updateSummaryCards(data);
                            this.switchTab('causes');
                            this.showSuccess('ì›ì¸ë¶„ì„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤');
                        } else {
                            throw new Error('RCA API í˜¸ì¶œ ì‹¤íŒ¨');
                        }

                    } catch (error) {
                        console.error('RCA ë¶„ì„ ì‹¤íŒ¨:', error);
                        // ìƒ˜í”Œ ë°ì´í„°ë¡œ ëŒ€ì²´
                        this.switchTab('causes');
                        this.showInfo('ìƒ˜í”Œ ë°ì´í„°ë¡œ ì›ì¸ë¶„ì„ ê²°ê³¼ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤');
                    } finally {
                        this.updateLoadingState(false);
                    }
                }

                async testPolicy() {
                    try {
                        const threshold = document.getElementById('rcaPolicyThreshold').value;
                        const windowSize = document.getElementById('rcaPolicyWindow').value;

                        // ì •ì±… í…ŒìŠ¤íŠ¸ ìš”ì²­
                        const testRequest = {
                            metric_name: 'cpu_usage',
                            sample_values: Array.from({length: 100}, () => Math.random() * 100),
                            test_policy: {
                                default_threshold: parseFloat(threshold),
                                default_window_size: parseInt(windowSize)
                            }
                        };

                        const response = await fetch('/api/v1/anomaly/policy/test', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(testRequest)
                        });

                        if (response.ok) {
                            const result = await response.json();
                            this.showSuccess(`ì •ì±… ì‹œë®¬ë ˆì´ì…˜ ì™„ë£Œ: ${result.evaluation_summary}`);
                        } else {
                            this.showError('ì •ì±… í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨');
                        }

                    } catch (error) {
                        console.error('ì •ì±… í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨:', error);
                        this.showError('ì •ì±… í…ŒìŠ¤íŠ¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤');
                    }
                }

                updateSuppressionStatus(data = null) {
                    const statusDiv = document.getElementById('rcaSuppressionStatus');
                    if (!statusDiv) return;

                    if (data && data.length > 0) {
                        const activeSuppression = data.filter(item => item.is_currently_suppressed);
                        statusDiv.innerHTML = activeSuppression.length > 0
                            ? `í™œì„± ì„œí”„ë ˆì…˜: ${activeSuppression.length}ê°œ ì§€í‘œ`
                            : 'í˜„ì¬ í™œì„±í™”ëœ ì„œí”„ë ˆì…˜ ì—†ìŒ';
                    } else {
                        statusDiv.innerHTML = 'ì„œí”„ë ˆì…˜ ìƒíƒœë¥¼ í™•ì¸í•˜ë ¤ë©´ ì •ì±…ì„ ë¡œë“œí•˜ì„¸ìš”';
                    }
                }

                async exportData(format) {
                    try {
                        if (format === 'json') {
                            const data = {
                                timestamp: new Date().toISOString(),
                                summary: this.currentData,
                                analysis_type: 'RCA',
                                current_tab: this.currentTab
                            };

                            this.downloadFile('rca-analysis.json', JSON.stringify(data, null, 2), 'application/json');
                        } else if (format === 'markdown') {
                            const response = await fetch('/api/v1/anomaly/report.md?days=7');
                            if (response.ok) {
                                const markdown = await response.text();
                                this.downloadFile('rca-report.md', markdown, 'text/markdown');
                            }
                        }

                        this.showSuccess(`${format.toUpperCase()} íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤`);
                    } catch (error) {
                        console.error('ë‚´ë³´ë‚´ê¸° ì‹¤íŒ¨:', error);
                        this.showError('íŒŒì¼ ë‚´ë³´ë‚´ê¸°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
                    }
                }

                downloadFile(filename, content, mimeType) {
                    const blob = new Blob([content], { type: mimeType });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = filename;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }

                updateLoadingState(isLoading) {
                    const refreshBtn = document.getElementById('refreshAnomalyBtn');
                    const rcaBtn = document.getElementById('runRCABtn');

                    if (isLoading) {
                        refreshBtn?.classList.add('opacity-50', 'cursor-not-allowed');
                        rcaBtn?.classList.add('opacity-50', 'cursor-not-allowed');
                    } else {
                        refreshBtn?.classList.remove('opacity-50', 'cursor-not-allowed');
                        rcaBtn?.classList.remove('opacity-50', 'cursor-not-allowed');
                    }
                }

                showSuccess(message) {
                    console.log('âœ…', message);
                    // ì—¬ê¸°ì— í† ìŠ¤íŠ¸ ì•Œë¦¼ ì¶”ê°€ ê°€ëŠ¥
                }

                showError(message) {
                    console.error('âŒ', message);
                    // ì—¬ê¸°ì— ì—ëŸ¬ í† ìŠ¤íŠ¸ ì•Œë¦¼ ì¶”ê°€ ê°€ëŠ¥
                }

                showInfo(message) {
                    console.info('â„¹ï¸', message);
                    // ì—¬ê¸°ì— ì •ë³´ í† ìŠ¤íŠ¸ ì•Œë¦¼ ì¶”ê°€ ê°€ëŠ¥
                }
            }

            // RCA ë§¤ë‹ˆì € ì´ˆê¸°í™”
            let rcaManager = null;
            if (document.getElementById('rcaTopCause')) {
                rcaManager = new AnomalyRCAManager();
                addLog('ğŸ” ì´ìƒíƒì§€ & ì›ì¸ë¶„ì„(RCA) íŒ¨ë„ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
            }

            // =====================================
            // ğŸ§© ì¸ì‹œë˜íŠ¸ ì„¼í„° ë§¤ë‹ˆì €
            // =====================================

            class IncidentCenterManager {
                constructor() {
                    this.isLoading = false;
                    this.currentData = null;
                    this.charts = {};
                    this.filters = {
                        dateRange: '7d',
                        severity: 'all',
                        status: 'all',
                        search: ''
                    };
                    this.selectedIncident = null;
                    this.buildTaskId = null;
                    this.init();
                }

                init() {
                    this.setupEventListeners();
                    this.loadIncidentsData();
                    this.initializeCharts();
                }

                setupEventListeners() {
                    // ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼
                    document.getElementById('refreshIncidentsBtn')?.addEventListener('click', () => {
                        this.loadIncidentsData();
                    });

                    // ì¸ì‹œë˜íŠ¸ ë¹Œë“œ ë²„íŠ¼
                    document.getElementById('buildIncidentsBtn')?.addEventListener('click', () => {
                        this.triggerIncidentBuild();
                    });

                    // í•„í„° ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
                    document.getElementById('incidentDateFilter')?.addEventListener('change', (e) => {
                        this.filters.dateRange = e.target.value;
                        this.loadIncidentsData();
                    });

                    document.getElementById('incidentSeverityFilter')?.addEventListener('change', (e) => {
                        this.filters.severity = e.target.value;
                        this.applyFilters();
                    });

                    document.getElementById('incidentStatusFilter')?.addEventListener('change', (e) => {
                        this.filters.status = e.target.value;
                        this.applyFilters();
                    });

                    document.getElementById('incidentSearchInput')?.addEventListener('input', (e) => {
                        this.filters.search = e.target.value;
                        this.debounceFilter();
                    });

                    // ë‚´ë³´ë‚´ê¸° ë²„íŠ¼
                    document.getElementById('exportIncidentsJSON')?.addEventListener('click', () => {
                        this.exportIncidents('json');
                    });

                    document.getElementById('exportIncidentsCSV')?.addEventListener('click', () => {
                        this.exportIncidents('csv');
                    });

                    // ëª¨ë‹¬ ì´ë²¤íŠ¸
                    document.getElementById('closeIncidentModal')?.addEventListener('click', () => {
                        this.closeIncidentModal();
                    });

                    document.getElementById('downloadIncidentJSON')?.addEventListener('click', () => {
                        this.downloadSelectedIncident('json');
                    });

                    document.getElementById('downloadIncidentMD')?.addEventListener('click', () => {
                        this.downloadSelectedIncident('md');
                    });

                    // ëª¨ë‹¬ ë°°ê²½ í´ë¦­ìœ¼ë¡œ ë‹«ê¸°
                    document.getElementById('incidentDetailModal')?.addEventListener('click', (e) => {
                        if (e.target.id === 'incidentDetailModal') {
                            this.closeIncidentModal();
                        }
                    });
                }

                async loadIncidentsData() {
                    if (this.isLoading) return;

                    this.isLoading = true;
                    this.showLoadingState();

                    try {
                        const response = await fetch(`/api/v1/incidents/summary?range=${this.filters.dateRange}`);

                        if (!response.ok) {
                            throw new Error(`API ì‘ë‹µ ì˜¤ë¥˜: ${response.status}`);
                        }

                        const data = await response.json();
                        this.currentData = data;

                        this.updateSummaryCards(data);
                        this.updateIncidentsList(data.recent_incidents);
                        this.updateTrendChart(data.trend_data);

                        addLog(`ì¸ì‹œë˜íŠ¸ ë°ì´í„° ë¡œë”© ì™„ë£Œ: ${data.total_incidents}ê°œ ì¸ì‹œë˜íŠ¸`, 'info');

                    } catch (error) {
                        console.error('ì¸ì‹œë˜íŠ¸ ë°ì´í„° ë¡œë”© ì‹¤íŒ¨:', error);
                        this.showErrorState(error.message);
                        addLog(`ì¸ì‹œë˜íŠ¸ ë°ì´í„° ë¡œë”© ì‹¤íŒ¨: ${error.message}`, 'error');
                    } finally {
                        this.isLoading = false;
                    }
                }

                updateSummaryCards(data) {
                    // ê¸ˆì£¼ ì¸ì‹œë˜íŠ¸ ìˆ˜
                    const weeklyCount = document.getElementById('weeklyIncidentCount');
                    if (weeklyCount) {
                        weeklyCount.textContent = data.total_incidents || 0;
                    }

                    // ì „ì£¼ ëŒ€ë¹„ ë³€í™” ê³„ì‚° (ê°„ë‹¨í•œ ì˜ˆì‹œ)
                    const weeklyTrend = document.getElementById('weeklyIncidentTrend');
                    if (weeklyTrend) {
                        const changePercent = Math.floor(Math.random() * 20) - 10; // ì„ì‹œ ê³„ì‚°
                        const changeText = changePercent > 0 ? `â†‘ ${changePercent}%` : changePercent < 0 ? `â†“ ${Math.abs(changePercent)}%` : 'ë³€í™” ì—†ìŒ';
                        weeklyTrend.textContent = `ì „ì£¼ ëŒ€ë¹„ ${changeText}`;
                    }

                    // í‰ê·  í•´ê²°ì‹œê°„
                    const avgResolutionTime = document.getElementById('avgResolutionTime');
                    if (avgResolutionTime) {
                        const minutes = Math.round(data.avg_resolution_time_minutes || 0);
                        avgResolutionTime.textContent = `${minutes}ë¶„`;
                    }

                    // ê³ ì‹¬ê°ë„ ë¹„ìœ¨
                    const criticalRatio = document.getElementById('criticalIncidentRatio');
                    if (criticalRatio) {
                        const total = data.total_incidents || 1;
                        const critical = (data.by_severity?.critical || 0) + (data.by_severity?.high || 0);
                        const percentage = Math.round((critical / total) * 100);
                        criticalRatio.textContent = `${percentage}%`;
                    }

                    // ì¬ë°œë¥ 
                    const recurrenceRate = document.getElementById('recurrenceRate');
                    if (recurrenceRate) {
                        const percentage = Math.round((data.recurrence_rate || 0) * 100);
                        recurrenceRate.textContent = `${percentage}%`;
                    }
                }

                updateIncidentsList(incidents) {
                    const listContainer = document.getElementById('incidentsList');
                    if (!listContainer) return;

                    if (!incidents || incidents.length === 0) {
                        listContainer.innerHTML = `
                            <div class="text-center py-8 text-gray-400">
                                <span class="text-4xl mb-4 block">ğŸ“­</span>
                                <p>í‘œì‹œí•  ì¸ì‹œë˜íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤</p>
                            </div>
                        `;
                        return;
                    }

                    const incidentItems = incidents.map(incident => {
                        const severityColors = {
                            critical: 'bg-red-600 text-white',
                            high: 'bg-orange-600 text-white',
                            medium: 'bg-yellow-600 text-black',
                            low: 'bg-green-600 text-white'
                        };

                        const statusColors = {
                            open: 'bg-red-500/20 text-red-300 border-red-500/30',
                            investigating: 'bg-yellow-500/20 text-yellow-300 border-yellow-500/30',
                            resolved: 'bg-green-500/20 text-green-300 border-green-500/30'
                        };

                        const startTime = new Date(incident.start_time).toLocaleString('ko-KR');

                        return `
                            <div class="bg-gray-700/30 rounded-lg p-4 border border-gray-600/50 hover:border-purple-500/50 transition-colors cursor-pointer incident-item"
                                 data-incident-id="${incident.id}">
                                <div class="flex items-start justify-between mb-3">
                                    <div class="flex-1">
                                        <h4 class="text-white font-medium text-sm mb-1 line-clamp-2">${incident.title}</h4>
                                        <p class="text-gray-400 text-xs">ID: ${incident.id}</p>
                                    </div>
                                    <div class="flex gap-2 ml-3">
                                        <span class="px-2 py-1 rounded text-xs font-semibold ${severityColors[incident.severity] || severityColors.low}">
                                            ${incident.severity.toUpperCase()}
                                        </span>
                                        <span class="px-2 py-1 rounded text-xs border ${statusColors[incident.status] || statusColors.open}">
                                            ${incident.status}
                                        </span>
                                    </div>
                                </div>

                                <div class="grid grid-cols-2 gap-4 text-xs text-gray-300 mb-3">
                                    <div>
                                        <span class="text-gray-400">ë°œìƒì‹œê°„:</span>
                                        <div class="text-white">${startTime}</div>
                                    </div>
                                    <div>
                                        <span class="text-gray-400">ê´€ë ¨ ë©”íŠ¸ë¦­:</span>
                                        <div class="text-white">${incident.metrics_count}ê°œ</div>
                                    </div>
                                </div>

                                <div class="flex items-center justify-between">
                                    <div class="text-xs text-gray-400">
                                        ì´ë²¤íŠ¸ ${incident.events_count}íšŒ
                                    </div>
                                    <button class="text-purple-400 hover:text-purple-300 text-xs flex items-center">
                                        <span class="mr-1">ğŸ‘ï¸</span>
                                        ìƒì„¸ë³´ê¸°
                                    </button>
                                </div>
                            </div>
                        `;
                    }).join('');

                    listContainer.innerHTML = incidentItems;

                    // ì¸ì‹œë˜íŠ¸ í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
                    listContainer.querySelectorAll('.incident-item').forEach(item => {
                        item.addEventListener('click', () => {
                            const incidentId = item.dataset.incidentId;
                            this.showIncidentDetail(incidentId);
                        });
                    });
                }

                initializeCharts() {
                    this.createTrendChart();
                }

                createTrendChart() {
                    const ctx = document.getElementById('incidentTrendChart');
                    if (!ctx) return;

                    const isDark = document.documentElement.classList.contains('dark');
                    const textColor = isDark ? '#f3f4f6' : '#ffffff';
                    const gridColor = isDark ? 'rgba(156, 163, 175, 0.2)' : 'rgba(255, 255, 255, 0.1)';

                    // ê¸°ì¡´ ì°¨íŠ¸ íŒŒê´´
                    if (this.charts.trendChart) {
                        this.charts.trendChart.destroy();
                    }

                    this.charts.trendChart = new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: [],
                            datasets: [{
                                label: 'ì¼ì¼ ì¸ì‹œë˜íŠ¸ ìˆ˜',
                                data: [],
                                borderColor: '#8b5cf6',
                                backgroundColor: 'rgba(139, 92, 246, 0.1)',
                                borderWidth: 3,
                                fill: true,
                                tension: 0.4,
                                pointBackgroundColor: '#8b5cf6',
                                pointBorderColor: '#ffffff',
                                pointBorderWidth: 2,
                                pointRadius: 5
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    labels: { color: textColor }
                                }
                            },
                            scales: {
                                x: {
                                    ticks: { color: textColor },
                                    grid: { color: gridColor }
                                },
                                y: {
                                    beginAtZero: true,
                                    ticks: {
                                        color: textColor,
                                        stepSize: 1
                                    },
                                    grid: { color: gridColor }
                                }
                            },
                            interaction: {
                                intersect: false,
                                mode: 'index'
                            }
                        }
                    });
                }

                updateTrendChart(trendData) {
                    if (!this.charts.trendChart || !trendData) return;

                    const labels = trendData.map(item => {
                        const date = new Date(item.date);
                        return date.toLocaleDateString('ko-KR', { month: 'short', day: 'numeric' });
                    });

                    const data = trendData.map(item => item.total);

                    this.charts.trendChart.data.labels = labels;
                    this.charts.trendChart.data.datasets[0].data = data;
                    this.charts.trendChart.update('none');
                }

                async showIncidentDetail(incidentId) {
                    try {
                        this.showIncidentModalLoading();

                        const response = await fetch(`/api/v1/incidents/${incidentId}`);
                        if (!response.ok) {
                            throw new Error(`ì¸ì‹œë˜íŠ¸ ì¡°íšŒ ì‹¤íŒ¨: ${response.status}`);
                        }

                        const data = await response.json();
                        this.selectedIncident = data.incident;

                        this.renderIncidentDetail(data.incident, data.related_incidents, data.recommendations);
                        this.showIncidentModal();

                    } catch (error) {
                        console.error('ì¸ì‹œë˜íŠ¸ ìƒì„¸ ì¡°íšŒ ì‹¤íŒ¨:', error);
                        alert(`ì¸ì‹œë˜íŠ¸ ìƒì„¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤: ${error.message}`);
                    }
                }

                renderIncidentDetail(incident, relatedIncidents, recommendations) {
                    const contentContainer = document.getElementById('incidentDetailContent');
                    if (!contentContainer) return;

                    const startTime = new Date(incident.start_time).toLocaleString('ko-KR');
                    const endTime = incident.end_time ? new Date(incident.end_time).toLocaleString('ko-KR') : 'ì§„í–‰ ì¤‘';

                    const severityEmojis = {
                        critical: 'ğŸ”´',
                        high: 'ğŸŸ ',
                        medium: 'ğŸŸ¡',
                        low: 'ğŸŸ¢'
                    };

                    const statusEmojis = {
                        open: 'ğŸ”µ',
                        investigating: 'ğŸ”',
                        resolved: 'âœ…'
                    };

                    contentContainer.innerHTML = `
                        <div class="space-y-6">
                            <!-- ê¸°ë³¸ ì •ë³´ -->
                            <div class="bg-gray-700/30 rounded-lg p-4">
                                <h3 class="text-lg font-semibold text-white mb-4 flex items-center">
                                    <span class="mr-2">ğŸ“‹</span>
                                    ê¸°ë³¸ ì •ë³´
                                </h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                                    <div>
                                        <span class="text-gray-400">ì œëª©:</span>
                                        <div class="text-white font-medium">${incident.title}</div>
                                    </div>
                                    <div>
                                        <span class="text-gray-400">ID:</span>
                                        <div class="text-white font-mono">${incident.id}</div>
                                    </div>
                                    <div>
                                        <span class="text-gray-400">ì‹¬ê°ë„:</span>
                                        <div class="text-white">${severityEmojis[incident.severity]} ${incident.severity.toUpperCase()}</div>
                                    </div>
                                    <div>
                                        <span class="text-gray-400">ìƒíƒœ:</span>
                                        <div class="text-white">${statusEmojis[incident.status]} ${incident.status}</div>
                                    </div>
                                    <div>
                                        <span class="text-gray-400">ì‹œì‘ ì‹œê°„:</span>
                                        <div class="text-white">${startTime}</div>
                                    </div>
                                    <div>
                                        <span class="text-gray-400">ì¢…ë£Œ ì‹œê°„:</span>
                                        <div class="text-white">${endTime}</div>
                                    </div>
                                </div>
                            </div>

                            <!-- ê´€ë ¨ ë©”íŠ¸ë¦­ -->
                            <div class="bg-gray-700/30 rounded-lg p-4">
                                <h3 class="text-lg font-semibold text-white mb-4 flex items-center">
                                    <span class="mr-2">ğŸ“Š</span>
                                    ê´€ë ¨ ë©”íŠ¸ë¦­ (${incident.related_metrics.length}ê°œ)
                                </h3>
                                <div class="flex flex-wrap gap-2">
                                    ${incident.related_metrics.map(metric => `
                                        <span class="bg-purple-600/20 text-purple-300 px-3 py-1 rounded-full text-sm border border-purple-500/30">
                                            ${metric}
                                        </span>
                                    `).join('')}
                                </div>
                            </div>

                            <!-- íƒ€ì„ë¼ì¸ -->
                            <div class="bg-gray-700/30 rounded-lg p-4">
                                <h3 class="text-lg font-semibold text-white mb-4 flex items-center">
                                    <span class="mr-2">â°</span>
                                    íƒ€ì„ë¼ì¸
                                </h3>
                                <div class="space-y-3">
                                    ${incident.timeline.map(item => {
                                        const timeStr = new Date(item.timestamp).toLocaleString('ko-KR');
                                        const eventEmojis = {
                                            start: 'ğŸŸ¢',
                                            escalate: 'ğŸŸ ',
                                            resolve: 'âœ…',
                                            note: 'ğŸ“'
                                        };
                                        return `
                                            <div class="flex items-start gap-3 border-l-2 border-gray-600 pl-4">
                                                <span class="text-lg">${eventEmojis[item.event_type] || 'âšª'}</span>
                                                <div class="flex-1">
                                                    <div class="text-white font-medium">${item.description}</div>
                                                    <div class="text-gray-400 text-sm">${timeStr}</div>
                                                    <div class="text-gray-500 text-xs">ê´€ë ¨ ë©”íŠ¸ë¦­: ${item.metrics_involved.join(', ')}</div>
                                                </div>
                                            </div>
                                        `;
                                    }).join('')}
                                </div>
                            </div>

                            <!-- RCA ìš”ì•½ -->
                            <div class="bg-gray-700/30 rounded-lg p-4">
                                <h3 class="text-lg font-semibold text-white mb-4 flex items-center">
                                    <span class="mr-2">ğŸ”</span>
                                    ê·¼ë³¸ ì›ì¸ ë¶„ì„ (RCA)
                                </h3>
                                <div class="text-gray-300 text-sm whitespace-pre-line">${incident.root_cause_summary}</div>
                            </div>

                            <!-- ê¶Œì¥ì‚¬í•­ -->
                            <div class="bg-gray-700/30 rounded-lg p-4">
                                <h3 class="text-lg font-semibold text-white mb-4 flex items-center">
                                    <span class="mr-2">ğŸ’¡</span>
                                    ê¶Œì¥ì‚¬í•­
                                </h3>
                                <div class="space-y-2">
                                    ${recommendations.map(rec => `
                                        <div class="flex items-start gap-2 text-sm">
                                            <span class="text-green-400 mt-1">â€¢</span>
                                            <span class="text-gray-300">${rec}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    `;
                }

                async triggerIncidentBuild() {
                    try {
                        this.showBuildStatusPanel();

                        const buildRequest = {
                            input_source: "live", // ì‹¤ì‹œê°„ ë°ì´í„° ì‚¬ìš©
                            window_minutes: 10,
                            correlation_threshold: 0.6,
                            max_gap_minutes: 5,
                            output_format: "json",
                            force_rebuild: false
                        };

                        const response = await fetch('/api/v1/incidents/build', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(buildRequest)
                        });

                        if (!response.ok) {
                            throw new Error(`ë¹Œë“œ ìš”ì²­ ì‹¤íŒ¨: ${response.status}`);
                        }

                        const data = await response.json();
                        this.buildTaskId = data.task_id;

                        this.updateBuildStatus(data);
                        this.startBuildPolling();

                        addLog(`ì¸ì‹œë˜íŠ¸ ë¹Œë“œ ì‹œì‘: ${data.task_id}`, 'info');

                    } catch (error) {
                        console.error('ì¸ì‹œë˜íŠ¸ ë¹Œë“œ ì‹¤íŒ¨:', error);
                        this.showBuildError(error.message);
                        addLog(`ì¸ì‹œë˜íŠ¸ ë¹Œë“œ ì‹¤íŒ¨: ${error.message}`, 'error');
                    }
                }

                startBuildPolling() {
                    if (!this.buildTaskId) return;

                    const pollInterval = setInterval(async () => {
                        try {
                            const response = await fetch(`/api/v1/incidents/build/status/${this.buildTaskId}`);
                            if (!response.ok) {
                                clearInterval(pollInterval);
                                return;
                            }

                            const status = await response.json();
                            this.updateBuildStatus(status);

                            if (status.status === 'completed' || status.status === 'failed') {
                                clearInterval(pollInterval);

                                if (status.status === 'completed') {
                                    // ì„±ê³µ ì‹œ ë°ì´í„° ìƒˆë¡œê³ ì¹¨
                                    setTimeout(() => this.loadIncidentsData(), 2000);
                                }
                            }

                        } catch (error) {
                            clearInterval(pollInterval);
                            console.error('ë¹Œë“œ ìƒíƒœ ì¡°íšŒ ì‹¤íŒ¨:', error);
                        }
                    }, 3000); // 3ì´ˆë§ˆë‹¤ í´ë§
                }

                showBuildStatusPanel() {
                    const panel = document.getElementById('incidentBuildStatus');
                    if (panel) {
                        panel.classList.remove('hidden');
                    }
                }

                updateBuildStatus(statusData) {
                    const contentContainer = document.getElementById('buildStatusContent');
                    if (!contentContainer) return;

                    const statusIcons = {
                        processing: 'â³',
                        completed: 'âœ…',
                        failed: 'âŒ'
                    };

                    const statusColors = {
                        processing: 'text-yellow-300',
                        completed: 'text-green-300',
                        failed: 'text-red-300'
                    };

                    contentContainer.innerHTML = `
                        <div class="space-y-3">
                            <div class="flex items-center gap-3">
                                <span class="text-2xl">${statusIcons[statusData.status] || 'âšª'}</span>
                                <div>
                                    <div class="text-white font-medium">ì‘ì—… ID: ${statusData.task_id}</div>
                                    <div class="${statusColors[statusData.status] || 'text-gray-300'} text-sm">
                                        ìƒíƒœ: ${statusData.status}
                                    </div>
                                </div>
                            </div>
                            <div class="text-gray-300 text-sm">${statusData.message}</div>
                            ${statusData.estimated_completion_time ? `
                                <div class="text-gray-400 text-xs">
                                    ì˜ˆìƒ ì™„ë£Œ ì‹œê°„: ${new Date(statusData.estimated_completion_time).toLocaleString('ko-KR')}
                                </div>
                            ` : ''}
                        </div>
                    `;
                }

                showBuildError(errorMessage) {
                    const contentContainer = document.getElementById('buildStatusContent');
                    if (!contentContainer) return;

                    contentContainer.innerHTML = `
                        <div class="flex items-center gap-3 text-red-300">
                            <span class="text-2xl">âŒ</span>
                            <div>
                                <div class="font-medium">ë¹Œë“œ ì‹¤íŒ¨</div>
                                <div class="text-sm">${errorMessage}</div>
                            </div>
                        </div>
                    `;
                }

                showLoadingState() {
                    const listContainer = document.getElementById('incidentsList');
                    if (listContainer) {
                        listContainer.innerHTML = `
                            <div class="flex items-center justify-center py-8">
                                <div class="animate-spin rounded-full h-8 w-8 border-2 border-white/30 border-t-white"></div>
                                <span class="ml-3 text-white/70">ì¸ì‹œë˜íŠ¸ ëª©ë¡ ë¡œë”© ì¤‘...</span>
                            </div>
                        `;
                    }
                }

                showErrorState(errorMessage) {
                    const listContainer = document.getElementById('incidentsList');
                    if (listContainer) {
                        listContainer.innerHTML = `
                            <div class="text-center py-8 text-red-400">
                                <span class="text-4xl mb-4 block">âš ï¸</span>
                                <p class="font-medium">ë°ì´í„° ë¡œë”© ì‹¤íŒ¨</p>
                                <p class="text-sm text-gray-400 mt-2">${errorMessage}</p>
                            </div>
                        `;
                    }
                }

                showIncidentModal() {
                    const modal = document.getElementById('incidentDetailModal');
                    if (modal) {
                        modal.classList.remove('hidden');
                        document.body.style.overflow = 'hidden';
                    }
                }

                closeIncidentModal() {
                    const modal = document.getElementById('incidentDetailModal');
                    if (modal) {
                        modal.classList.add('hidden');
                        document.body.style.overflow = '';
                    }
                    this.selectedIncident = null;
                }

                showIncidentModalLoading() {
                    const contentContainer = document.getElementById('incidentDetailContent');
                    if (contentContainer) {
                        contentContainer.innerHTML = `
                            <div class="flex items-center justify-center py-12">
                                <div class="animate-spin rounded-full h-12 w-12 border-2 border-white/30 border-t-white"></div>
                                <span class="ml-4 text-white">ì¸ì‹œë˜íŠ¸ ìƒì„¸ ì •ë³´ ë¡œë”© ì¤‘...</span>
                            </div>
                        `;
                    }
                    this.showIncidentModal();
                }

                async downloadSelectedIncident(format) {
                    if (!this.selectedIncident) return;

                    try {
                        const response = await fetch(`/api/v1/incidents/export/${this.selectedIncident.id}.${format}`);

                        if (!response.ok) {
                            throw new Error(`ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨: ${response.status}`);
                        }

                        const blob = await response.blob();
                        const url = window.URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = `incident_${this.selectedIncident.id}.${format}`;
                        document.body.appendChild(a);
                        a.click();
                        document.body.removeChild(a);
                        window.URL.revokeObjectURL(url);

                        addLog(`ì¸ì‹œë˜íŠ¸ ${format.toUpperCase()} ë‹¤ìš´ë¡œë“œ ì™„ë£Œ: ${this.selectedIncident.id}`, 'info');

                    } catch (error) {
                        console.error('ì¸ì‹œë˜íŠ¸ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨:', error);
                        alert(`ë‹¤ìš´ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ${error.message}`);
                    }
                }

                async exportIncidents(format) {
                    // í˜„ì¬ ë³´ì´ëŠ” ì¸ì‹œë˜íŠ¸ ëª©ë¡ì„ CSV/JSONìœ¼ë¡œ ë‚´ë³´ë‚´ê¸°
                    if (!this.currentData || !this.currentData.recent_incidents) {
                        alert('ë‚´ë³´ë‚¼ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
                        return;
                    }

                    try {
                        let content, filename, mimeType;

                        if (format === 'json') {
                            content = JSON.stringify(this.currentData.recent_incidents, null, 2);
                            filename = `incidents_${new Date().toISOString().split('T')[0]}.json`;
                            mimeType = 'application/json';
                        } else if (format === 'csv') {
                            const headers = ['ID', 'Title', 'Severity', 'Status', 'Start Time', 'Metrics Count', 'Events Count'];
                            const rows = this.currentData.recent_incidents.map(incident => [
                                incident.id,
                                incident.title,
                                incident.severity,
                                incident.status,
                                incident.start_time,
                                incident.metrics_count,
                                incident.events_count
                            ]);

                            content = [headers, ...rows].map(row =>
                                row.map(field => `"${field}"`).join(',')
                            ).join('\n');
                            filename = `incidents_${new Date().toISOString().split('T')[0]}.csv`;
                            mimeType = 'text/csv;charset=utf-8';
                        }

                        const blob = new Blob([content], { type: mimeType });
                        const url = window.URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = filename;
                        document.body.appendChild(a);
                        a.click();
                        document.body.removeChild(a);
                        window.URL.revokeObjectURL(url);

                        addLog(`ì¸ì‹œë˜íŠ¸ ëª©ë¡ ${format.toUpperCase()} ë‚´ë³´ë‚´ê¸° ì™„ë£Œ`, 'info');

                    } catch (error) {
                        console.error('ì¸ì‹œë˜íŠ¸ ë‚´ë³´ë‚´ê¸° ì‹¤íŒ¨:', error);
                        alert(`ë‚´ë³´ë‚´ê¸°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ${error.message}`);
                    }
                }

                applyFilters() {
                    // í˜„ì¬ ë¡œë“œëœ ë°ì´í„°ì— í•„í„° ì ìš©
                    if (!this.currentData || !this.currentData.recent_incidents) return;

                    let filteredIncidents = [...this.currentData.recent_incidents];

                    // ì‹¬ê°ë„ í•„í„°
                    if (this.filters.severity !== 'all') {
                        filteredIncidents = filteredIncidents.filter(inc => inc.severity === this.filters.severity);
                    }

                    // ìƒíƒœ í•„í„°
                    if (this.filters.status !== 'all') {
                        filteredIncidents = filteredIncidents.filter(inc => inc.status === this.filters.status);
                    }

                    // ê²€ìƒ‰ í•„í„°
                    if (this.filters.search) {
                        const searchLower = this.filters.search.toLowerCase();
                        filteredIncidents = filteredIncidents.filter(inc =>
                            inc.title.toLowerCase().includes(searchLower) ||
                            inc.id.toLowerCase().includes(searchLower)
                        );
                    }

                    this.updateIncidentsList(filteredIncidents);
                }

                debounceFilter() {
                    clearTimeout(this.filterTimeout);
                    this.filterTimeout = setTimeout(() => {
                        this.applyFilters();
                    }, 300);
                }

                // ë‹¤í¬ëª¨ë“œ ë³€ê²½ ì‹œ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
                updateChartsForTheme() {
                    if (this.charts.trendChart) {
                        const isDark = document.documentElement.classList.contains('dark');
                        const textColor = isDark ? '#f3f4f6' : '#ffffff';
                        const gridColor = isDark ? 'rgba(156, 163, 175, 0.2)' : 'rgba(255, 255, 255, 0.1)';

                        // ì°¨íŠ¸ ìƒ‰ìƒ ì—…ë°ì´íŠ¸
                        this.charts.trendChart.options.plugins.legend.labels.color = textColor;
                        this.charts.trendChart.options.scales.x.ticks.color = textColor;
                        this.charts.trendChart.options.scales.x.grid.color = gridColor;
                        this.charts.trendChart.options.scales.y.ticks.color = textColor;
                        this.charts.trendChart.options.scales.y.grid.color = gridColor;

                        this.charts.trendChart.update('none');
                    }
                }
            }

            // ì¸ì‹œë˜íŠ¸ ì„¼í„° ë§¤ë‹ˆì € ì´ˆê¸°í™”
            let incidentCenterManager = null;
            if (document.getElementById('weeklyIncidentCount')) {
                incidentCenterManager = new IncidentCenterManager();
                addLog('ğŸ§© ì¸ì‹œë˜íŠ¸ ì„¼í„° íŒ¨ë„ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
            }

            // =====================================
            // ğŸ§ª í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ ê´€ë¦¬ ë§¤ë‹ˆì €
            // =====================================

            class FlakyTestManager {
                constructor() {
                    this.isLoading = false;
                    this.currentData = null;
                    this.charts = {};
                    this.currentPage = 1;
                    this.perPage = 10;
                    this.filters = {
                        date: '30d',
                        status: 'all',
                        tag: 'all',
                        search: ''
                    };
                    this.init();
                }

                init() {
                    this.setupEventListeners();
                    this.loadFlakyTestsData();
                    this.initializeCharts();
                }

                setupEventListeners() {
                    // ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼
                    document.getElementById('refreshFlakyTestsBtn')?.addEventListener('click', () => {
                        this.loadFlakyTestsData();
                    });

                    // ë¶„ì„ ì‹¤í–‰ ë²„íŠ¼
                    document.getElementById('runFlakyAnalysisBtn')?.addEventListener('click', () => {
                        this.runFlakyAnalysis();
                    });

                    // í†µê³„ ë‚´ë³´ë‚´ê¸° ë²„íŠ¼
                    document.getElementById('exportFlakyStatsBtn')?.addEventListener('click', () => {
                        this.exportFlakyStats();
                    });

                    // í•„í„° ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
                    document.getElementById('flakyDateFilter')?.addEventListener('change', (e) => {
                        this.filters.date = e.target.value;
                        this.loadFlakyTestsData();
                    });

                    document.getElementById('flakyStatusFilter')?.addEventListener('change', (e) => {
                        this.filters.status = e.target.value;
                        this.loadFlakyTestsData();
                    });

                    document.getElementById('flakyTagFilter')?.addEventListener('change', (e) => {
                        this.filters.tag = e.target.value;
                        this.loadFlakyTestsData();
                    });

                    // ê²€ìƒ‰ ì…ë ¥
                    document.getElementById('flakyTestSearch')?.addEventListener('input', (e) => {
                        this.filters.search = e.target.value;
                        clearTimeout(this.searchTimeout);
                        this.searchTimeout = setTimeout(() => {
                            this.loadFlakyTestsData();
                        }, 500);
                    });

                    // í•„í„° ì´ˆê¸°í™”
                    document.getElementById('clearFlakyFiltersBtn')?.addEventListener('click', () => {
                        this.clearFilters();
                    });

                    // í˜ì´ì§€ë„¤ì´ì…˜
                    document.getElementById('flakyTestsPrevPageBtn')?.addEventListener('click', () => {
                        if (this.currentPage > 1) {
                            this.currentPage--;
                            this.loadFlakyTestsData();
                        }
                    });

                    document.getElementById('flakyTestsNextPageBtn')?.addEventListener('click', () => {
                        this.currentPage++;
                        this.loadFlakyTestsData();
                    });

                    document.getElementById('flakyTestsPerPage')?.addEventListener('change', (e) => {
                        this.perPage = parseInt(e.target.value);
                        this.currentPage = 1;
                        this.loadFlakyTestsData();
                    });
                }

                async loadFlakyTestsData() {
                    if (this.isLoading) return;
                    this.isLoading = true;

                    try {
                        // í†µê³„ ë°ì´í„° ë¡œë“œ
                        const statsResponse = await fetch('/api/v1/flaky/stats');
                        if (statsResponse.ok) {
                            const stats = await statsResponse.json();
                            this.updateStatCards(stats);
                            this.updateCharts(stats);
                        }

                        // ê²©ë¦¬ëœ í…ŒìŠ¤íŠ¸ ëª©ë¡ ë¡œë“œ
                        const testsResponse = await fetch(`/api/v1/flaky/isolated?` + new URLSearchParams({
                            page: this.currentPage,
                            per_page: this.perPage,
                            date_filter: this.filters.date,
                            status_filter: this.filters.status,
                            tag_filter: this.filters.tag,
                            search: this.filters.search
                        }));

                        if (testsResponse.ok) {
                            const testsData = await testsResponse.json();
                            this.updateTestsList(testsData);
                            this.updatePagination(testsData.pagination || {});
                        }

                    } catch (error) {
                        console.error('í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
                        this.showError('í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
                    } finally {
                        this.isLoading = false;
                    }
                }

                updateStatCards(stats) {
                    // ê²©ë¦¬ëœ í…ŒìŠ¤íŠ¸ ìˆ˜
                    document.getElementById('quarantinedTestsCount').textContent = stats.quarantined_tests || 0;

                    // ìµœê·¼ 7ì¼ê°„ ì‹¤íŒ¨ìœ¨
                    document.getElementById('recentFailureRate').textContent =
                        stats.recent_failure_rate ? `${(stats.recent_failure_rate * 100).toFixed(1)}` : '0.0';

                    // ìë™ì¬ì‹œë„ ì„±ê³µë¥ 
                    document.getElementById('retrySuccessRate').textContent =
                        stats.retry_success_rate ? `${(stats.retry_success_rate * 100).toFixed(1)}` : '0.0';

                    // ë¯¸í•´ê²° í…ŒìŠ¤íŠ¸ ìˆ˜
                    document.getElementById('unresolvedTestsCount').textContent = stats.unresolved_tests || 0;
                }

                updateTestsList(data) {
                    const listContainer = document.getElementById('flakyTestsList');
                    if (!listContainer) return;

                    if (!data.tests || data.tests.length === 0) {
                        listContainer.innerHTML = `
                            <div class="text-center text-white/60 dark:text-gray-400 py-8">
                                ì¡°ê±´ì— ë§ëŠ” í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.
                            </div>
                        `;
                        return;
                    }

                    const testsHtml = data.tests.map(test => this.createTestListItem(test)).join('');
                    listContainer.innerHTML = testsHtml;

                    // ì•¡ì…˜ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
                    this.attachTestActionListeners();
                }

                createTestListItem(test) {
                    const statusColor = this.getStatusColor(test.status || 'unknown');
                    const failureRate = (test.failure_rate ? test.failure_rate * 100 : 0).toFixed(1);

                    return `
                        <div class="bg-white/5 dark:bg-gray-800/30 rounded-lg p-4 hover:bg-white/10 transition-colors">
                            <div class="lg:grid lg:grid-cols-7 gap-4 space-y-2 lg:space-y-0">
                                <!-- í…ŒìŠ¤íŠ¸ ì´ë¦„ -->
                                <div class="lg:col-span-1">
                                    <div class="lg:hidden text-sm font-medium text-white/80 mb-1">í…ŒìŠ¤íŠ¸ ì´ë¦„</div>
                                    <div class="text-white dark:text-gray-100 font-medium truncate" title="${test.test_name || 'N/A'}">
                                        ${test.test_name || 'N/A'}
                                    </div>
                                </div>

                                <!-- íŒŒì¼ ê²½ë¡œ -->
                                <div class="lg:col-span-1">
                                    <div class="lg:hidden text-sm font-medium text-white/80 mb-1">íŒŒì¼ ê²½ë¡œ</div>
                                    <div class="text-white/80 dark:text-gray-300 text-sm truncate" title="${test.file_path || 'N/A'}">
                                        ${test.file_path || 'N/A'}
                                    </div>
                                </div>

                                <!-- ì›ì¸ -->
                                <div class="lg:col-span-1">
                                    <div class="lg:hidden text-sm font-medium text-white/80 mb-1">ì›ì¸</div>
                                    <div class="text-white/80 dark:text-gray-300 text-sm">
                                        ${test.quarantine_reason || 'N/A'}
                                    </div>
                                </div>

                                <!-- ìµœì´ˆ ë°œìƒì¼ -->
                                <div class="lg:col-span-1">
                                    <div class="lg:hidden text-sm font-medium text-white/80 mb-1">ìµœì´ˆ ë°œìƒì¼</div>
                                    <div class="text-white/80 dark:text-gray-300 text-sm">
                                        ${test.first_seen ? new Date(test.first_seen).toLocaleDateString('ko-KR') : 'N/A'}
                                    </div>
                                </div>

                                <!-- ìƒíƒœ -->
                                <div class="lg:col-span-1">
                                    <div class="lg:hidden text-sm font-medium text-white/80 mb-1">ìƒíƒœ</div>
                                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${statusColor}">
                                        ${this.getStatusText(test.status)}
                                    </span>
                                </div>

                                <!-- ì‹¤íŒ¨ìœ¨ -->
                                <div class="lg:col-span-1">
                                    <div class="lg:hidden text-sm font-medium text-white/80 mb-1">ì‹¤íŒ¨ìœ¨</div>
                                    <div class="text-white dark:text-gray-100 font-medium">
                                        ${failureRate}%
                                    </div>
                                </div>

                                <!-- ì•¡ì…˜ -->
                                <div class="lg:col-span-1">
                                    <div class="lg:hidden text-sm font-medium text-white/80 mb-1">ì•¡ì…˜</div>
                                    <div class="flex items-center space-x-2">
                                        <button
                                            class="flaky-retry-btn bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm transition-colors"
                                            data-test-name="${test.test_name || ''}"
                                            title="ì¬ì‹œë„ ìš”ì²­"
                                        >
                                            ğŸ”„
                                        </button>
                                        <button
                                            class="flaky-release-btn bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm transition-colors"
                                            data-test-name="${test.test_name || ''}"
                                            title="ê²©ë¦¬ í•´ì œ"
                                        >
                                            ğŸ”“
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                }

                attachTestActionListeners() {
                    // ì¬ì‹œë„ ë²„íŠ¼
                    document.querySelectorAll('.flaky-retry-btn').forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            const testName = e.target.getAttribute('data-test-name');
                            if (testName) this.retryTest(testName);
                        });
                    });

                    // ê²©ë¦¬ í•´ì œ ë²„íŠ¼
                    document.querySelectorAll('.flaky-release-btn').forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            const testName = e.target.getAttribute('data-test-name');
                            if (testName) this.releaseTest(testName);
                        });
                    });
                }

                async retryTest(testName) {
                    try {
                        const response = await fetch('/api/v1/flaky/retry', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({ test_name: testName })
                        });

                        if (response.ok) {
                            this.showSuccess(`í…ŒìŠ¤íŠ¸ "${testName}" ì¬ì‹œë„ê°€ ìš”ì²­ë˜ì—ˆìŠµë‹ˆë‹¤`);
                            this.loadFlakyTestsData(); // ë°ì´í„° ìƒˆë¡œê³ ì¹¨
                        } else {
                            this.showError('í…ŒìŠ¤íŠ¸ ì¬ì‹œë„ ìš”ì²­ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
                        }
                    } catch (error) {
                        console.error('í…ŒìŠ¤íŠ¸ ì¬ì‹œë„ ì‹¤íŒ¨:', error);
                        this.showError('í…ŒìŠ¤íŠ¸ ì¬ì‹œë„ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤');
                    }
                }

                async releaseTest(testName) {
                    if (!confirm(`"${testName}" í…ŒìŠ¤íŠ¸ì˜ ê²©ë¦¬ë¥¼ í•´ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                        return;
                    }

                    try {
                        const response = await fetch(`/api/v1/flaky/${encodeURIComponent(testName)}`, {
                            method: 'DELETE'
                        });

                        if (response.ok) {
                            this.showSuccess(`í…ŒìŠ¤íŠ¸ "${testName}"ì˜ ê²©ë¦¬ê°€ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤`);
                            this.loadFlakyTestsData(); // ë°ì´í„° ìƒˆë¡œê³ ì¹¨
                        } else {
                            this.showError('í…ŒìŠ¤íŠ¸ ê²©ë¦¬ í•´ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
                        }
                    } catch (error) {
                        console.error('í…ŒìŠ¤íŠ¸ ê²©ë¦¬ í•´ì œ ì‹¤íŒ¨:', error);
                        this.showError('í…ŒìŠ¤íŠ¸ ê²©ë¦¬ í•´ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤');
                    }
                }

                getStatusColor(status) {
                    switch (status) {
                        case 'quarantined': return 'bg-red-500/20 text-red-300 border border-red-400/30';
                        case 'active': return 'bg-orange-500/20 text-orange-300 border border-orange-400/30';
                        case 'resolved': return 'bg-green-500/20 text-green-300 border border-green-400/30';
                        case 'pending': return 'bg-yellow-500/20 text-yellow-300 border border-yellow-400/30';
                        default: return 'bg-gray-500/20 text-gray-300 border border-gray-400/30';
                    }
                }

                getStatusText(status) {
                    switch (status) {
                        case 'quarantined': return 'ê²©ë¦¬ë¨';
                        case 'active': return 'í™œì„±';
                        case 'resolved': return 'í•´ê²°ë¨';
                        case 'pending': return 'ëŒ€ê¸°ì¤‘';
                        default: return 'ì•Œ ìˆ˜ ì—†ìŒ';
                    }
                }

                initializeCharts() {
                    this.initFailureRateChart();
                    this.initQuarantineReasonChart();
                }

                initFailureRateChart() {
                    const ctx = document.getElementById('flakyFailureRateChart');
                    if (!ctx) return;

                    const isDark = document.documentElement.classList.contains('dark');
                    const textColor = isDark ? '#f3f4f6' : '#374151';
                    const gridColor = isDark ? 'rgba(107, 114, 128, 0.3)' : 'rgba(156, 163, 175, 0.3)';

                    this.charts.failureRate = new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: ['30ì¼ì „', '25ì¼ì „', '20ì¼ì „', '15ì¼ì „', '10ì¼ì „', '5ì¼ì „', 'ì˜¤ëŠ˜'],
                            datasets: [{
                                label: 'ì‹¤íŒ¨ìœ¨ (%)',
                                data: [15, 22, 18, 25, 30, 28, 22],
                                borderColor: '#ef4444',
                                backgroundColor: 'rgba(239, 68, 68, 0.1)',
                                borderWidth: 2,
                                fill: true
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    max: 100,
                                    ticks: { color: textColor },
                                    grid: { color: gridColor }
                                },
                                x: {
                                    ticks: { color: textColor },
                                    grid: { color: gridColor }
                                }
                            },
                            plugins: {
                                legend: {
                                    labels: { color: textColor }
                                }
                            }
                        }
                    });
                }

                initQuarantineReasonChart() {
                    const ctx = document.getElementById('flakyQuarantineReasonChart');
                    if (!ctx) return;

                    const isDark = document.documentElement.classList.contains('dark');
                    const textColor = isDark ? '#f3f4f6' : '#374151';

                    this.charts.quarantineReason = new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: ['íƒ€ì„ì•„ì›ƒ', 'ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜', 'ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°', 'UI ë¶ˆì•ˆì •', 'ê¸°íƒ€'],
                            datasets: [{
                                data: [35, 25, 20, 15, 5],
                                backgroundColor: [
                                    '#ef4444', '#f97316', '#eab308', '#22c55e', '#8b5cf6'
                                ]
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    position: 'bottom',
                                    labels: { color: textColor }
                                }
                            }
                        }
                    });
                }

                updateCharts(stats) {
                    // ì‹¤ì œ ë°ì´í„°ë¡œ ì°¨íŠ¸ ì—…ë°ì´íŠ¸ (APIì—ì„œ ë°ì´í„°ê°€ ì˜¤ë©´ êµ¬í˜„)
                    if (this.charts.failureRate && stats.failure_rate_trend) {
                        this.charts.failureRate.data.labels = stats.failure_rate_trend.dates || [];
                        this.charts.failureRate.data.datasets[0].data = stats.failure_rate_trend.rates || [];
                        this.charts.failureRate.update();
                    }

                    if (this.charts.quarantineReason && stats.quarantine_reasons) {
                        this.charts.quarantineReason.data.labels = Object.keys(stats.quarantine_reasons);
                        this.charts.quarantineReason.data.datasets[0].data = Object.values(stats.quarantine_reasons);
                        this.charts.quarantineReason.update();
                    }
                }

                updatePagination(pagination) {
                    // í˜„ì¬ í˜ì´ì§€ ì •ë³´ ì—…ë°ì´íŠ¸
                    document.getElementById('flakyTestsCurrentPageInfo').textContent =
                        `í˜ì´ì§€ ${pagination.current_page || 1} / ${pagination.total_pages || 1}`;

                    document.getElementById('flakyTestsTotalCount').textContent = pagination.total_items || 0;

                    // í˜ì´ì§€ë„¤ì´ì…˜ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
                    const prevBtn = document.getElementById('flakyTestsPrevPageBtn');
                    const nextBtn = document.getElementById('flakyTestsNextPageBtn');

                    if (prevBtn) {
                        prevBtn.disabled = (pagination.current_page || 1) <= 1;
                    }

                    if (nextBtn) {
                        nextBtn.disabled = (pagination.current_page || 1) >= (pagination.total_pages || 1);
                    }
                }

                clearFilters() {
                    this.filters = {
                        date: '30d',
                        status: 'all',
                        tag: 'all',
                        search: ''
                    };

                    // UI ì´ˆê¸°í™”
                    const dateFilter = document.getElementById('flakyDateFilter');
                    const statusFilter = document.getElementById('flakyStatusFilter');
                    const tagFilter = document.getElementById('flakyTagFilter');
                    const searchInput = document.getElementById('flakyTestSearch');

                    if (dateFilter) dateFilter.value = '30d';
                    if (statusFilter) statusFilter.value = 'all';
                    if (tagFilter) tagFilter.value = 'all';
                    if (searchInput) searchInput.value = '';

                    this.currentPage = 1;
                    this.loadFlakyTestsData();
                }

                async runFlakyAnalysis() {
                    try {
                        const response = await fetch('/api/v1/flaky/analyze', {
                            method: 'POST'
                        });

                        if (response.ok) {
                            this.showSuccess('í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ ë¶„ì„ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤');
                            // ë¶„ì„ ì™„ë£Œ í›„ ë°ì´í„° ìƒˆë¡œê³ ì¹¨
                            setTimeout(() => this.loadFlakyTestsData(), 2000);
                        } else {
                            this.showError('í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ ë¶„ì„ ì‹œì‘ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
                        }
                    } catch (error) {
                        console.error('í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ ë¶„ì„ ì‹¤íŒ¨:', error);
                        this.showError('í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ ë¶„ì„ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤');
                    }
                }

                async exportFlakyStats() {
                    try {
                        const response = await fetch('/api/v1/flaky/stats/export');
                        if (response.ok) {
                            const blob = await response.blob();
                            const url = window.URL.createObjectURL(blob);
                            const a = document.createElement('a');
                            a.style.display = 'none';
                            a.href = url;
                            a.download = `flaky-tests-stats-${new Date().toISOString().split('T')[0]}.csv`;
                            document.body.appendChild(a);
                            a.click();
                            window.URL.revokeObjectURL(url);
                            document.body.removeChild(a);
                            this.showSuccess('í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ í†µê³„ê°€ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤');
                        } else {
                            this.showError('í†µê³„ ë‚´ë³´ë‚´ê¸°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
                        }
                    } catch (error) {
                        console.error('í†µê³„ ë‚´ë³´ë‚´ê¸° ì‹¤íŒ¨:', error);
                        this.showError('í†µê³„ ë‚´ë³´ë‚´ê¸° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤');
                    }
                }

                showSuccess(message) {
                    console.log(`âœ… ${message}`);
                    addLog(message, 'info');
                }

                showError(message) {
                    console.error(`âŒ ${message}`);
                    addLog(message, 'error');
                }
            }

            // í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ ë§¤ë‹ˆì € ì´ˆê¸°í™”
            let flakyTestManager = null;
            if (document.getElementById('flakyTestsList')) {
                flakyTestManager = new FlakyTestManager();
                addLog('ğŸ§ª í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ ê´€ë¦¬ íŒ¨ë„ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
            }

            // =====================================
            // ğŸ§ª CI ì•ˆì •ì„± ì‹œë®¬ë ˆì´ì…˜ ë§¤ë‹ˆì €
            // =====================================

            class CIStabilitySimulationManager {
                constructor() {
                    this.failRate = 15;
                    this.flakyRate = 5;
                    this.runs = 100;
                    this.dryRun = true;
                    this.simulationData = null;
                    this.runbookValidationData = null;
                    this.charts = {};

                    this.init();
                }

                init() {
                    this.setupEventListeners();
                    this.setupSliders();
                    this.updatePreview();
                    this.initializeCharts();
                }

                setupEventListeners() {
                    document.getElementById('runSimulationBtn')?.addEventListener('click', () => this.runSimulation());
                    document.getElementById('refreshSimulationBtn')?.addEventListener('click', () => this.refreshData());
                    document.getElementById('validateRunbookBtn')?.addEventListener('click', () => this.validateRunbook());
                    document.getElementById('dryRunToggle')?.addEventListener('click', () => this.toggleDryRun());
                    document.getElementById('downloadSimulationJsonBtn')?.addEventListener('click', () => this.downloadResults('json'));
                    document.getElementById('downloadSimulationMdBtn')?.addEventListener('click', () => this.downloadResults('markdown'));
                    document.getElementById('shareSimulationResultsBtn')?.addEventListener('click', () => this.shareResults());
                    document.getElementById('applyRecommendationsBtn')?.addEventListener('click', () => this.applyRecommendations());
                }

                setupSliders() {
                    const failRateSlider = document.getElementById('failRateSlider');
                    const failRateValue = document.getElementById('failRateValue');
                    if (failRateSlider && failRateValue) {
                        failRateSlider.addEventListener('input', (e) => {
                            this.failRate = parseInt(e.target.value);
                            failRateValue.textContent = this.failRate;
                            this.updatePreview();
                            this.validateSliderLimits();
                        });
                    }

                    const flakyRateSlider = document.getElementById('flakyRateSlider');
                    const flakyRateValue = document.getElementById('flakyRateValue');
                    if (flakyRateSlider && flakyRateValue) {
                        flakyRateSlider.addEventListener('input', (e) => {
                            this.flakyRate = parseInt(e.target.value);
                            flakyRateValue.textContent = this.flakyRate;
                            this.updatePreview();
                            this.validateSliderLimits();
                        });
                    }

                    const runsSlider = document.getElementById('runsSlider');
                    const runsValue = document.getElementById('runsValue');
                    if (runsSlider && runsValue) {
                        runsSlider.addEventListener('input', (e) => {
                            this.runs = parseInt(e.target.value);
                            runsValue.textContent = this.runs;
                            this.updatePreview();
                        });
                    }
                }

                validateSliderLimits() {
                    if (this.failRate + this.flakyRate > 100) {
                        if (event.target.id === 'failRateSlider') {
                            this.flakyRate = Math.max(0, 100 - this.failRate);
                            document.getElementById('flakyRateSlider').value = this.flakyRate;
                            document.getElementById('flakyRateValue').textContent = this.flakyRate;
                        } else if (event.target.id === 'flakyRateSlider') {
                            this.failRate = Math.max(0, 100 - this.flakyRate);
                            document.getElementById('failRateSlider').value = this.failRate;
                            document.getElementById('failRateValue').textContent = this.failRate;
                        }
                    }
                }

                updatePreview() {
                    const expectedSuccess = 100 - this.failRate;
                    const expectedFailures = Math.round(this.runs * this.failRate / 100);
                    const expectedFlaky = Math.round(this.runs * this.flakyRate / 100);
                    const stabilityScore = Math.max(0, expectedSuccess - (this.flakyRate * 0.5));

                    document.getElementById('expectedSuccessRate').textContent = `${expectedSuccess}%`;
                    document.getElementById('expectedFailures').textContent = `${expectedFailures}íšŒ`;
                    document.getElementById('expectedFlaky').textContent = `${expectedFlaky}íšŒ`;
                    document.getElementById('expectedStabilityScore').textContent = `${stabilityScore.toFixed(1)}/100`;

                    this.updatePreviewChart();
                }

                updatePreviewChart() {
                    const ctx = document.getElementById('simulationPreviewChart')?.getContext('2d');
                    if (!ctx) return;

                    if (this.charts.preview) {
                        this.charts.preview.destroy();
                    }

                    const isDark = darkModeManager?.isDarkMode() || false;
                    const textColor = isDark ? '#f3f4f6' : '#ffffff';

                    this.charts.preview = new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: ['ì„±ê³µ', 'ì‹¤íŒ¨', 'í”Œë˜í‚¤'],
                            datasets: [{
                                data: [100 - this.failRate, this.failRate, this.flakyRate],
                                backgroundColor: ['rgba(34, 197, 94, 0.8)', 'rgba(239, 68, 68, 0.8)', 'rgba(245, 158, 11, 0.8)'],
                                borderColor: ['rgba(34, 197, 94, 1)', 'rgba(239, 68, 68, 1)', 'rgba(245, 158, 11, 1)'],
                                borderWidth: 2
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: { labels: { color: textColor, font: { size: 10 } } }
                            }
                        }
                    });
                }

                initializeCharts() {
                    this.updatePreviewChart();
                }

                toggleDryRun() {
                    const toggle = document.getElementById('dryRunToggle');
                    const toggleText = toggle.querySelector('.toggle-text');

                    if (toggle.classList.contains('active')) {
                        toggle.classList.remove('active');
                        toggleText.textContent = 'OFF';
                        this.dryRun = false;
                    } else {
                        toggle.classList.add('active');
                        toggleText.textContent = 'ON';
                        this.dryRun = true;
                    }
                }

                async runSimulation() {
                    addLog('ğŸ§ª CI ì•ˆì •ì„± ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰ ì‹œì‘...', 'info');

                    try {
                        this.simulationData = this.generateMockSimulationData();
                        this.updateSimulationResults();
                        addLog('âœ… ì‹œë®¬ë ˆì´ì…˜ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                    } catch (error) {
                        console.error('ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰ ì˜¤ë¥˜:', error);
                        addLog('âŒ ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
                    }
                }

                generateMockSimulationData() {
                    const totalRuns = this.runs;
                    const actualFailRate = this.failRate + (Math.random() - 0.5) * 5;
                    const actualFlakyRate = this.flakyRate + (Math.random() - 0.5) * 3;

                    const failedRuns = Math.round(totalRuns * Math.max(0, actualFailRate) / 100);
                    const flakyRuns = Math.round(totalRuns * Math.max(0, actualFlakyRate) / 100);
                    const successfulRuns = totalRuns - failedRuns;
                    const successRate = (successfulRuns / totalRuns) * 100;
                    const stabilityScore = Math.max(0, successRate - (actualFlakyRate * 0.5));

                    return {
                        simulation_config: {
                            fail_rate_target: this.failRate,
                            flaky_rate_target: this.flakyRate,
                            total_runs: totalRuns
                        },
                        results: {
                            successful_runs: successfulRuns,
                            failed_runs: failedRuns,
                            flaky_runs: flakyRuns,
                            success_rate: successRate.toFixed(2),
                            actual_fail_rate: actualFailRate.toFixed(2),
                            flaky_reproduce_rate: actualFlakyRate.toFixed(2),
                            stability_score: stabilityScore.toFixed(2)
                        },
                        execution_stats: {
                            avg_execution_time: (Math.random() * 2 + 0.5).toFixed(2),
                            min_execution_time: (Math.random() * 0.5 + 0.1).toFixed(2),
                            max_execution_time: (Math.random() * 3 + 2).toFixed(2)
                        },
                        generated_at: new Date().toISOString()
                    };
                }

                updateSimulationResults() {
                    if (!this.simulationData) return;

                    const results = this.simulationData.results;

                    document.getElementById('actualSuccessRate').textContent = results.success_rate;
                    document.getElementById('actualFailRate').textContent = results.actual_fail_rate;
                    document.getElementById('actualFlakyRate').textContent = results.flaky_reproduce_rate;
                    document.getElementById('actualStabilityScore').textContent = results.stability_score;

                    const successRate = parseFloat(results.success_rate);
                    const trendElement = document.getElementById('successRateTrend');
                    if (successRate >= 95) {
                        trendElement.textContent = 'ìš°ìˆ˜';
                        trendElement.className = 'mt-2 text-green-200 text-xs';
                    } else if (successRate >= 85) {
                        trendElement.textContent = 'ì–‘í˜¸';
                        trendElement.className = 'mt-2 text-yellow-200 text-xs';
                    } else {
                        trendElement.textContent = 'ê°œì„  í•„ìš”';
                        trendElement.className = 'mt-2 text-red-200 text-xs';
                    }

                    this.updateDistributionChart();
                    this.updateRecommendations();
                }

                updateDistributionChart() {
                    const ctx = document.getElementById('simulationDistributionChart')?.getContext('2d');
                    if (!ctx || !this.simulationData) return;

                    if (this.charts.distribution) {
                        this.charts.distribution.destroy();
                    }

                    const isDark = darkModeManager?.isDarkMode() || false;
                    const textColor = isDark ? '#f3f4f6' : '#ffffff';
                    const gridColor = isDark ? 'rgba(156, 163, 175, 0.2)' : 'rgba(255, 255, 255, 0.1)';

                    const results = this.simulationData.results;

                    this.charts.distribution = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: ['ì„±ê³µ', 'ì‹¤íŒ¨', 'í”Œë˜í‚¤'],
                            datasets: [{
                                label: 'ì‹¤í–‰ íšŸìˆ˜',
                                data: [results.successful_runs, results.failed_runs, results.flaky_runs],
                                backgroundColor: ['rgba(34, 197, 94, 0.8)', 'rgba(239, 68, 68, 0.8)', 'rgba(245, 158, 11, 0.8)'],
                                borderColor: ['rgba(34, 197, 94, 1)', 'rgba(239, 68, 68, 1)', 'rgba(245, 158, 11, 1)'],
                                borderWidth: 2
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: { legend: { labels: { color: textColor } } },
                            scales: {
                                x: { ticks: { color: textColor }, grid: { color: gridColor } },
                                y: { ticks: { color: textColor }, grid: { color: gridColor } }
                            }
                        }
                    });
                }

                updateRecommendations() {
                    if (!this.simulationData) return;

                    const results = this.simulationData.results;
                    const successRate = parseFloat(results.success_rate);
                    const flakyRate = parseFloat(results.flaky_reproduce_rate);

                    const recommendationsContainer = document.getElementById('simulationRecommendations');
                    let recommendations = [];

                    if (successRate >= 95) {
                        recommendations.push('âœ… ìš°ìˆ˜í•œ CI ì•ˆì •ì„±ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.');
                    } else if (successRate >= 85) {
                        recommendations.push('âš ï¸ ì–‘í˜¸í•œ ìˆ˜ì¤€ì´ì§€ë§Œ ê°œì„  ì—¬ì§€ê°€ ìˆìŠµë‹ˆë‹¤.');
                    } else {
                        recommendations.push('ğŸš¨ CI ì•ˆì •ì„± ê°œì„ ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                    }

                    if (flakyRate >= 10) {
                        recommendations.push('ğŸ”§ í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ ê²©ë¦¬ ë° ìˆ˜ì •ì„ ê¶Œì¥í•©ë‹ˆë‹¤.');
                    } else if (flakyRate >= 5) {
                        recommendations.push('ğŸ“Š í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ ëª¨ë‹ˆí„°ë§ì„ ê°•í™”í•˜ì„¸ìš”.');
                    } else {
                        recommendations.push('âœ¨ í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ê°€ ì˜ ê´€ë¦¬ë˜ê³  ìˆìŠµë‹ˆë‹¤.');
                    }

                    recommendationsContainer.innerHTML = recommendations
                        .map(rec => `<div class="text-white dark:text-gray-300 text-sm">${rec}</div>`)
                        .join('');
                }

                async validateRunbook() {
                    addLog('ğŸ“š ëŸ°ë¶ ì‹œìŠ¤í…œ ê²€ì¦ ì‹œì‘...', 'info');

                    try {
                        this.runbookValidationData = this.generateMockRunbookValidationData();
                        this.updateRunbookValidationResults();
                        addLog('âœ… ëŸ°ë¶ ê²€ì¦ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                    } catch (error) {
                        console.error('ëŸ°ë¶ ê²€ì¦ ì˜¤ë¥˜:', error);
                        addLog('âŒ ëŸ°ë¶ ê²€ì¦ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
                    }
                }

                generateMockRunbookValidationData() {
                    const totalTemplates = 10;
                    const issuesCount = Math.floor(Math.random() * 3);

                    return {
                        validation_status: issuesCount === 0 ? "PASSED" : "FAILED",
                        timestamp: new Date().toISOString(),
                        summary: {
                            total_runbook_templates: totalTemplates,
                            total_error_mappings: 8,
                            total_hook_files: 3,
                            issues_found: issuesCount
                        },
                        validation_results: {
                            unmapped_error_types: issuesCount > 0 ? ["network_error"] : [],
                            missing_hooks: issuesCount > 1 ? ["missing_hook.sh"] : [],
                            duplicate_mappings: [],
                            permission_issues: []
                        }
                    };
                }

                updateRunbookValidationResults() {
                    if (!this.runbookValidationData) return;

                    const summary = this.runbookValidationData.summary;
                    const validation = this.runbookValidationData.validation_results;

                    document.getElementById('runbookTemplatesCount').textContent = summary.total_runbook_templates;
                    document.getElementById('runbookIssuesCount').textContent = summary.issues_found;

                    const resultsContainer = document.getElementById('runbookValidationResults');
                    let resultsHtml = '';

                    if (this.runbookValidationData.validation_status === 'PASSED') {
                        resultsHtml = '<div class="text-green-400 text-sm">âœ… ëª¨ë“  ëŸ°ë¶ ê²€ì¦ì´ í†µê³¼ë˜ì—ˆìŠµë‹ˆë‹¤.</div>';
                    } else {
                        if (validation.unmapped_error_types?.length > 0) {
                            resultsHtml += `<div class="text-red-400 text-sm">âŒ ë§¤í•‘ë˜ì§€ ì•Šì€ ì—ëŸ¬ íƒ€ì…: ${validation.unmapped_error_types.join(', ')}</div>`;
                        }
                        if (validation.missing_hooks?.length > 0) {
                            resultsHtml += `<div class="text-red-400 text-sm">âŒ ëˆ„ë½ëœ í›… íŒŒì¼: ${validation.missing_hooks.join(', ')}</div>`;
                        }
                        if (validation.duplicate_mappings?.length > 0) {
                            resultsHtml += `<div class="text-yellow-400 text-sm">âš ï¸ ì¤‘ë³µ ë§¤í•‘: ${validation.duplicate_mappings.join(', ')}</div>`;
                        }
                    }

                    resultsContainer.innerHTML = resultsHtml || '<div class="text-center text-white/60 dark:text-gray-400 py-8">ê²€ì¦ ê²°ê³¼ë¥¼ ì²˜ë¦¬ ì¤‘ì…ë‹ˆë‹¤.</div>';
                }

                async downloadResults(format) {
                    if (!this.simulationData) {
                        addLog('âš ï¸ ë¨¼ì € ì‹œë®¬ë ˆì´ì…˜ì„ ì‹¤í–‰í•´ì£¼ì„¸ìš”.', 'warning');
                        return;
                    }

                    try {
                        let content = '';
                        let filename = '';
                        let mimeType = '';

                        if (format === 'json') {
                            content = JSON.stringify(this.simulationData, null, 2);
                            filename = `ci_simulation_${new Date().toISOString().slice(0, 10)}.json`;
                            mimeType = 'application/json';
                        } else if (format === 'markdown') {
                            content = this.generateMarkdownReport();
                            filename = `ci_simulation_report_${new Date().toISOString().slice(0, 10)}.md`;
                            mimeType = 'text/markdown';
                        }

                        const blob = new Blob([content], { type: mimeType });
                        const url = URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = filename;
                        document.body.appendChild(a);
                        a.click();
                        document.body.removeChild(a);
                        URL.revokeObjectURL(url);

                        addLog(`ğŸ“¥ ${format.toUpperCase()} íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
                    } catch (error) {
                        console.error('ë‹¤ìš´ë¡œë“œ ì˜¤ë¥˜:', error);
                        addLog('âŒ íŒŒì¼ ë‹¤ìš´ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
                    }
                }

                generateMarkdownReport() {
                    const results = this.simulationData.results;
                    const config = this.simulationData.simulation_config;

                    return `# ğŸ§ª CI ì•ˆì •ì„± ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼

**ìƒì„± ì‹œê°„:** ${new Date().toLocaleString('ko-KR')}

## ğŸ“Š ì‹œë®¬ë ˆì´ì…˜ ì„¤ì •

| í•­ëª© | ê°’ |
|------|-----|
| ëª©í‘œ ì‹¤íŒ¨ìœ¨ | ${config.fail_rate_target}% |
| ëª©í‘œ í”Œë˜í‚¤ìœ¨ | ${config.flaky_rate_target}% |
| ì´ ì‹¤í–‰ íšŸìˆ˜ | ${config.total_runs}íšŒ |

## ğŸ“ˆ ì‹¤í–‰ ê²°ê³¼

| í•­ëª© | ê°’ |
|------|-----|
| ì„±ê³µ ì‹¤í–‰ | ${results.successful_runs}íšŒ |
| ì‹¤íŒ¨ ì‹¤í–‰ | ${results.failed_runs}íšŒ |
| í”Œë˜í‚¤ ì‹¤í–‰ | ${results.flaky_runs}íšŒ |

## ğŸ¯ ì„±ëŠ¥ ë©”íŠ¸ë¦­

| ë©”íŠ¸ë¦­ | ê°’ | ìƒíƒœ |
|--------|-----|------|
| ì „ì²´ ì„±ê³µë¥  | ${results.success_rate}% | ${parseFloat(results.success_rate) >= 95 ? 'ğŸŸ¢ ìš°ìˆ˜' : parseFloat(results.success_rate) >= 85 ? 'ğŸŸ¡ ì–‘í˜¸' : 'ğŸ”´ ê°œì„ í•„ìš”'} |
| ì‹¤ì œ ì‹¤íŒ¨ìœ¨ | ${results.actual_fail_rate}% | - |
| í”Œë˜í‚¤ ì¬í˜„ìœ¨ | ${results.flaky_reproduce_rate}% | ${parseFloat(results.flaky_reproduce_rate) >= 10 ? 'ğŸ”´ ë†’ìŒ' : parseFloat(results.flaky_reproduce_rate) >= 5 ? 'ğŸŸ¡ ë³´í†µ' : 'ğŸŸ¢ ë‚®ìŒ'} |
| ì•ˆì •ì„± ì ìˆ˜ | ${results.stability_score}/100 | - |

## ğŸ’¡ ê¶Œì¥ì‚¬í•­

${parseFloat(results.success_rate) >= 95 ? '- âœ… **ìš°ìˆ˜í•œ CI ì•ˆì •ì„±:** í˜„ì¬ ìˆ˜ì¤€ì„ ìœ ì§€í•˜ì„¸ìš”.' : parseFloat(results.success_rate) >= 85 ? '- âš ï¸ **ê°œì„  ì—¬ì§€ ìˆìŒ:** ì‹¤íŒ¨ ì›ì¸ ë¶„ì„ì„ í†µí•´ ì•ˆì •ì„±ì„ ë†’ì´ì„¸ìš”.' : '- ğŸš¨ **ê°œì„  í•„ìš”:** CI ì•ˆì •ì„± ê°œì„ ì´ ì‹œê¸‰í•©ë‹ˆë‹¤.'}

${parseFloat(results.flaky_reproduce_rate) >= 10 ? '- ğŸ”§ **í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ ê´€ë¦¬:** ê²©ë¦¬ ë° ìˆ˜ì •ì„ í†µí•´ í”Œë˜í‚¤ìœ¨ì„ ë‚®ì¶”ì„¸ìš”.' : parseFloat(results.flaky_reproduce_rate) >= 5 ? '- ğŸ“Š **ëª¨ë‹ˆí„°ë§ ê°•í™”:** í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ ì¶”ì ì„ ì§€ì†í•˜ì„¸ìš”.' : '- âœ¨ **í”Œë˜í‚¤ ê´€ë¦¬ ìš°ìˆ˜:** í˜„ì¬ í”Œë˜í‚¤ í…ŒìŠ¤íŠ¸ ê´€ë¦¬ ìˆ˜ì¤€ì„ ìœ ì§€í•˜ì„¸ìš”.'}

---
*ì´ ë¦¬í¬íŠ¸ëŠ” CI ì•ˆì •ì„± ì‹œë®¬ë ˆì´ì…˜ ë„êµ¬ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.*`;
                }

                async shareResults() {
                    if (!this.simulationData) {
                        addLog('âš ï¸ ë¨¼ì € ì‹œë®¬ë ˆì´ì…˜ì„ ì‹¤í–‰í•´ì£¼ì„¸ìš”.', 'warning');
                        return;
                    }

                    const results = this.simulationData.results;
                    const summary = `ğŸ§ª CI ì•ˆì •ì„± ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼\nì„±ê³µë¥ : ${results.success_rate}%, ì‹¤íŒ¨ìœ¨: ${results.actual_fail_rate}%, í”Œë˜í‚¤ìœ¨: ${results.flaky_reproduce_rate}%, ì•ˆì •ì„± ì ìˆ˜: ${results.stability_score}/100`;

                    try {
                        await navigator.clipboard.writeText(summary);
                        addLog('ğŸ“¤ ê²°ê³¼ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                    } catch (error) {
                        const textArea = document.createElement('textarea');
                        textArea.value = summary;
                        document.body.appendChild(textArea);
                        textArea.select();
                        document.execCommand('copy');
                        document.body.removeChild(textArea);
                        addLog('ğŸ“¤ ê²°ê³¼ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                    }
                }

                async applyRecommendations() {
                    addLog('ğŸ”§ ê¶Œì¥ì‚¬í•­ ì ìš©ì„ ì‹œì‘í•©ë‹ˆë‹¤...', 'info');
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    addLog('âœ… ê¶Œì¥ì‚¬í•­ì´ ì„±ê³µì ìœ¼ë¡œ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                }

                async refreshData() {
                    addLog('ğŸ”„ ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„°ë¥¼ ìƒˆë¡œê³ ì¹¨í•©ë‹ˆë‹¤...', 'info');

                    this.simulationData = null;
                    this.runbookValidationData = null;

                    ['actualSuccessRate', 'actualFailRate', 'actualFlakyRate', 'actualStabilityScore'].forEach(id => {
                        document.getElementById(id).textContent = '-';
                    });

                    document.getElementById('successRateTrend').textContent = 'ëŒ€ê¸° ì¤‘';
                    document.getElementById('runbookTemplatesCount').textContent = '-';
                    document.getElementById('runbookIssuesCount').textContent = '-';

                    if (this.charts.distribution) {
                        this.charts.distribution.destroy();
                        this.charts.distribution = null;
                    }

                    document.getElementById('simulationRecommendations').innerHTML = '<div class="text-center text-white/60 dark:text-gray-400 py-4 text-sm">ì‹œë®¬ë ˆì´ì…˜ì„ ì‹¤í–‰í•˜ì—¬ ê¶Œì¥ì‚¬í•­ì„ í™•ì¸í•˜ì„¸ìš”.</div>';
                    document.getElementById('runbookValidationResults').innerHTML = '<div class="text-center text-white/60 dark:text-gray-400 py-8">ëŸ°ë¶ ê²€ì¦ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';

                    addLog('âœ… ë°ì´í„° ìƒˆë¡œê³ ì¹¨ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                }
            }

            // CI ì•ˆì •ì„± ì‹œë®¬ë ˆì´ì…˜ ë§¤ë‹ˆì € ì´ˆê¸°í™”
            let ciStabilitySimulationManager = null;
            if (document.getElementById('runSimulationBtn')) {
                ciStabilitySimulationManager = new CIStabilitySimulationManager();
                addLog('ğŸ§ª CI ì•ˆì •ì„± ì‹œë®¬ë ˆì´ì…˜ íŒ¨ë„ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
            }
        });
    </script>

    <!-- ì•Œë¦¼ ì„¸ë¶€ ì •ë³´ ëª¨ë‹¬ -->
    <div id="alertDetailModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden items-center justify-center p-4 z-50">
        <div class="bg-white dark:bg-gray-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl">
            <!-- ëª¨ë‹¬ í—¤ë” -->
            <div class="bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-700 dark:to-purple-700 p-6">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold text-white flex items-center">
                        <span id="modalAlertIcon" class="mr-3">ğŸ“¢</span>
                        ì•Œë¦¼ ì„¸ë¶€ ì •ë³´
                    </h3>
                    <button
                        id="closeModalBtn"
                        class="text-white hover:text-gray-200 transition-colors p-2 hover:bg-white/10 rounded-lg"
                    >
                        âœ•
                    </button>
                </div>
            </div>

            <!-- ëª¨ë‹¬ ë‚´ìš© -->
            <div class="p-6 overflow-y-auto max-h-[calc(90vh-120px)]">
                <!-- ì•Œë¦¼ ê¸°ë³¸ ì •ë³´ -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div class="space-y-3">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ì•Œë¦¼ ì œëª©</label>
                            <div id="modalAlertTitle" class="p-3 bg-gray-100 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-gray-100"></div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ì‹¬ê°ë„</label>
                            <div id="modalAlertLevel" class="p-3 bg-gray-100 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-gray-100"></div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ë°œìƒ ì‹œê°„</label>
                            <div id="modalAlertTime" class="p-3 bg-gray-100 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-gray-100"></div>
                        </div>
                    </div>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ì•Œë¦¼ ID</label>
                            <div id="modalAlertId" class="p-3 bg-gray-100 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-gray-100 font-mono text-sm"></div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ì±„ë„</label>
                            <div id="modalAlertChannel" class="p-3 bg-gray-100 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-gray-100"></div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ìƒíƒœ</label>
                            <div id="modalAlertStatus" class="p-3 bg-gray-100 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-gray-100"></div>
                        </div>
                    </div>
                </div>

                <!-- ì•Œë¦¼ ë©”ì‹œì§€ -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">ì•Œë¦¼ ë©”ì‹œì§€</label>
                    <div id="modalAlertMessage" class="p-4 bg-gray-100 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-gray-100 whitespace-pre-wrap"></div>
                </div>

                <!-- ê´€ë ¨ ë¡œê·¸ ë§í¬ -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">ê´€ë ¨ ë¡œê·¸</label>
                    <div id="modalLogLinks" class="space-y-2">
                        <!-- ë¡œê·¸ ë§í¬ë“¤ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    </div>
                </div>

                <!-- ì¶”ê°€ ì •ë³´ (ìˆëŠ” ê²½ìš°) -->
                <div id="modalAdditionalInfo" class="mb-6 hidden">
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">ì¶”ê°€ ì •ë³´</label>
                    <div id="modalAdditionalInfoContent" class="p-4 bg-gray-100 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-gray-100"></div>
                </div>

                <!-- ë¡œê·¸ ë‚´ìš© (ìˆëŠ” ê²½ìš°) -->
                <div id="modalLogContent" class="hidden">
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">ì²¨ë¶€ëœ ë¡œê·¸ ë‚´ìš©</label>
                    <div id="modalLogContentText" class="p-4 bg-gray-900 dark:bg-gray-800 rounded-lg text-green-400 font-mono text-sm overflow-x-auto max-h-64 overflow-y-auto whitespace-pre"></div>
                </div>
            </div>

            <!-- ëª¨ë‹¬ í‘¸í„° -->
            <div class="bg-gray-50 dark:bg-gray-700 px-6 py-4 flex justify-end gap-3">
                <button
                    id="modalExportBtn"
                    class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 flex items-center"
                >
                    ğŸ“„ ë‚´ë³´ë‚´ê¸°
                </button>
                <button
                    id="modalCloseBtn"
                    class="px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors duration-200"
                >
                    ë‹«ê¸°
                </button>
            </div>
        </div>
    </div>
</body>
</html>