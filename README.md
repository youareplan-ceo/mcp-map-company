# mcp-map-company

ìœ ì•„í”Œëœ MCP(ë©€í‹°-ì•± ì»¨íŠ¸ë¡¤ í”Œë ˆì¸) íšŒì‚¬ìš© ë¦¬í¬ì§€í† ë¦¬.  
í”„ë¡ íŠ¸(`web/`), API(`mcp/run.py` FastAPI), ë°°í¬(Render), í˜‘ì—…(GitHub) íë¦„ì„ í‘œì¤€í™”.

## êµ¬ì¡°
- `web/index.html` : ê³ ê°ìš© ë©”ì¸
- `web/admin.html` : ê´€ë¦¬ì ì „ìš©(ë¶„ë¦¬ëœ í™”ë©´, ê²€ìƒ‰/ì¸ë±ì‹± ì°¨ë‹¨ ê¶Œì¥)
- `mcp/run.py` : FastAPI ì„œë²„(CORS íŒ¨ì¹˜ í¬í•¨)
- `scripts/` : ìš´ì˜ ìŠ¤í¬ë¦½íŠ¸(ë°±ì—…/í—¬ìŠ¤ì²´í¬ ë“±)

## ë¡œì»¬ ì‹¤í–‰
uvicorn mcp.run:app --reload --port 8088

í—¬ìŠ¤ì²´í¬:
curl -sS http://localhost:8088/health

## ë°°í¬(Render)
1. GitHub main â†’ Render ì—°ê²°(ì˜¤í†  ë””í”Œë¡œì´)
2. ë³€ê²½ í›„ Push â†’ Render ìë™ ë°°í¬

## ë¸Œëœì¹˜ ì „ëµ
- main : ìš´ì˜ ê¸°ë³¸ ë¼ì¸
- stable/yyyymmdd : ë³µêµ¬ í¬ì¸íŠ¸(ì¤‘ìš” ë³€ê²½ ì§í›„ ìƒì„±)

## ë³€ê²½/ë³µêµ¬ ì•ˆì „ ì ˆì°¨ (ìš”ì•½)
1) ì˜ëª» ë®ì–´ì“´ ê³ ê°ìš© index.html â†’ admin.htmlë¡œ ì´ë™
2) ë°±ì—…ë³¸ì—ì„œ index.html ë³µì›
3) Git ì»¤ë°‹/í‘¸ì‹œ â†’ Render ìë™ë°°í¬

## ì•Œë¦¼ ì‹œìŠ¤í…œ ë° ë°°í¬ ìƒíƒœ ì ê²€

### ì•Œë¦¼ ì‹œìŠ¤í…œ (mcp/utils/notifier.py)
ì‹¬ê°ë„ë³„ ì•Œë¦¼ ì‹œìŠ¤í…œìœ¼ë¡œ Slack, Discord, Email ì±„ë„ì„ ì§€ì›í•©ë‹ˆë‹¤.

**ì‹¬ê°ë„ë³„ ë¶„ë¥˜:**
- ğŸš¨ **Critical**: ì‹œìŠ¤í…œ ì¤‘ë‹¨, ìµœê·¼ ë¡œê·¸ 50ì¤„ ì²¨ë¶€
- âŒ **Error**: ì˜¤ë¥˜ ë°œìƒ, ìµœê·¼ ë¡œê·¸ 20ì¤„ ì²¨ë¶€
- âš ï¸ **Warning**: ê²½ê³  ìƒí™©, ë¡œê·¸ ìš”ì•½ ì²¨ë¶€
- â„¹ï¸ **Info**: ì¼ë°˜ ì •ë³´, ë‹¨ìˆœ ë©”ì‹œì§€

**ì‹ ê·œ ê°•í™” ê¸°ëŠ¥:**
- ğŸ”„ **ìë™ ì¬ì‹œë„**: ì „ì†¡ ì‹¤íŒ¨ ì‹œ ìµœëŒ€ 3íšŒ ì¬ì‹œë„ (ì§€ìˆ˜ ë°±ì˜¤í”„)
- ğŸ”— **ë¡œê·¸ ë§í¬**: ì‹¬ê°ë„ë³„ ê´€ë ¨ ë¡œê·¸ íŒŒì¼ ë§í¬ ìë™ í¬í•¨
- ğŸ“Š **ì•Œë¦¼ ë¡œê·¸**: `logs/notifier.log`ì— ì„±ê³µ/ì‹¤íŒ¨ ë‚´ì—­ ê¸°ë¡
- â±ï¸ **ì†ë„ ì œí•œ**: ì‹¬ê°ë„ë³„ ì „ì†¡ ê°„ê²© ì¡°ì • (Critical: ì¦‰ì‹œ, Warning: 3ì´ˆ)

**ì‚¬ìš© ì˜ˆì‹œ:**
```python
from mcp.utils.notifier import NotificationLevel, SlackNotifier

notifier = SlackNotifier("https://hooks.slack.com/...")
await notifier.send_notification(
    title="ì‹œìŠ¤í…œ ì•Œë¦¼",
    message="ì„œë²„ ì¬ì‹œì‘ì´ í•„ìš”í•©ë‹ˆë‹¤",
    level=NotificationLevel.WARNING,
    attach_logs=True
)
```

**ë¡œê·¸ ë§í¬ ìë™ ì²¨ë¶€:**
- Critical/Error: ë³´ì•ˆ ë¡œê·¸, API ë¡œê·¸, ì‹œìŠ¤í…œ ë¡œê·¸
- Warning: API ë¡œê·¸, ì‹œìŠ¤í…œ ë¡œê·¸
- Info: ì‹œìŠ¤í…œ ë¡œê·¸

**ì¬ì‹œë„ ë¡œê·¸ ì˜ˆì‹œ:**
```
2024-01-15 14:30:25 - INFO - Slack ì•Œë¦¼ ì „ì†¡ ì‹œì‘: ì‹œìŠ¤í…œ ì•Œë¦¼ - warning
2024-01-15 14:30:26 - WARNING - ì•Œë¦¼ ì „ì†¡ ì‹¤íŒ¨ (ì‹œë„ 1/3): Connection timeout, 1.5ì´ˆ í›„ ì¬ì‹œë„
2024-01-15 14:30:28 - INFO - ì¬ì‹œë„ ì„±ê³µ: 2íšŒ ì‹œë„ í›„ ì„±ê³µ
2024-01-15 14:30:28 - INFO - Slack ì•Œë¦¼ ìµœì¢… ì„±ê³µ: ì‹œìŠ¤í…œ ì•Œë¦¼
```

### ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ì•Œë¦¼ íŒ¨ë„ (web/admin_dashboard.html)
ìµœê·¼ 20ê°œ ì•Œë¦¼ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ í‘œì‹œí•˜ë©° ì‹¬ê°ë„ë³„ ìƒ‰ìƒê³¼ ì•„ì´ì½˜ìœ¼ë¡œ êµ¬ë¶„ë©ë‹ˆë‹¤.

**ê¸°ë³¸ ê¸°ëŠ¥:**
- ì‹¬ê°ë„ë³„ í†µê³„ ì¹´ë“œ (Critical/Error/Warning/Info)
- ì‹¤ì‹œê°„ ì•Œë¦¼ ëª©ë¡ (ì œëª©, ì‹œê°„, ì‹¬ê°ë„)
- í…ŒìŠ¤íŠ¸ ì•Œë¦¼ ìƒì„± ë²„íŠ¼
- ìë™ ìƒˆë¡œê³ ì¹¨ (30ì´ˆ ê°„ê²©)

**ì‹ ê·œ ê³ ê¸‰ ê¸°ëŠ¥:**
- ğŸ“… **ë‚ ì§œ í•„í„°**: ì˜¤ëŠ˜, 7ì¼, 30ì¼, ì „ì²´ ê¸°ê°„ë³„ ì•Œë¦¼ í•„í„°ë§
- ğŸ” **í†µí•© ê²€ìƒ‰**: ì œëª©, ë©”ì‹œì§€, ì†ŒìŠ¤, IDë¡œ ì•Œë¦¼ ê²€ìƒ‰
- ğŸ“‹ **ì„¸ë¶€ ì •ë³´ ëª¨ë‹¬**: ì•Œë¦¼ í´ë¦­ ì‹œ ìƒì„¸ ì •ë³´ íŒì—… í‘œì‹œ
- ğŸ“¤ **ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥**: JSON/CSV í˜•ì‹ìœ¼ë¡œ ì•Œë¦¼ ë°ì´í„° ë‚´ë³´ë‚´ê¸°
- ğŸ’¾ **ê°œë³„ ë‚´ë³´ë‚´ê¸°**: ëª¨ë‹¬ì—ì„œ ì„ íƒí•œ ì•Œë¦¼ì˜ ì„¸ë¶€ ì •ë³´ ë‚´ë³´ë‚´ê¸°

**ì„¸ë¶€ ì •ë³´ ëª¨ë‹¬ ë‚´ìš©:**
- ì•Œë¦¼ ê¸°ë³¸ ì •ë³´ (ì œëª©, ì‹¬ê°ë„, ì‹œê°„, ID, ì±„ë„, ìƒíƒœ)
- ì•Œë¦¼ ë©”ì‹œì§€ ì „ë¬¸
- ê´€ë ¨ ë¡œê·¸ ë§í¬ (í´ë¦­ ê°€ëŠ¥)
- ì¶”ê°€ ì •ë³´ (IP ì£¼ì†Œ, ì˜¤ë¥˜ ì½”ë“œ ë“±)
- ì²¨ë¶€ëœ ë¡œê·¸ ë‚´ìš© (Critical/Errorì˜ ê²½ìš°)

**ë‚´ë³´ë‚´ê¸° í˜•ì‹:**
- **JSON**: êµ¬ì¡°í™”ëœ ë°ì´í„°, API ì—°ë™ì— ì í•©
- **CSV**: ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ë¶„ì„ìš©, í•œê¸€ ì§€ì› (UTF-8 BOM)

**ì‚¬ìš©ë²•:**
1. ë‚ ì§œ í•„í„° ë²„íŠ¼ìœ¼ë¡œ ì¡°íšŒ ê¸°ê°„ ì„ íƒ
2. ê²€ìƒ‰ì°½ì— í‚¤ì›Œë“œ ì…ë ¥í•˜ì—¬ ì•Œë¦¼ í•„í„°ë§
3. ì•Œë¦¼ í•­ëª© í´ë¦­ìœ¼ë¡œ ì„¸ë¶€ ì •ë³´ í™•ì¸
4. ë‚´ë³´ë‚´ê¸° ë²„íŠ¼ìœ¼ë¡œ ë°ì´í„° ë‹¤ìš´ë¡œë“œ

### ë°°í¬ ìƒíƒœ ì ê²€ ìŠ¤í¬ë¦½íŠ¸ (scripts/deploy_status.sh)
ì‹œìŠ¤í…œ ì „ë°˜ì˜ ë°°í¬ ìƒíƒœë¥¼ ì¢…í•©ì ìœ¼ë¡œ ì ê²€í•©ë‹ˆë‹¤.

**ê¸°ë³¸ ì ê²€ í•­ëª©:**
- **Git ìƒíƒœ**: í˜„ì¬ ë¸Œëœì¹˜, ë§ˆì§€ë§‰ ì»¤ë°‹, ë™ê¸°í™” ì—¬ë¶€
- **Docker ì»¨í…Œì´ë„ˆ**: MCP ê´€ë ¨ ì„œë¹„ìŠ¤ ì‹¤í–‰ ìƒíƒœ
- **í¬íŠ¸ ì ìœ **: 8080, 8088 ë“± ì£¼ìš” í¬íŠ¸ ì‚¬ìš© í˜„í™©
- **ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤**: CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬ ì‚¬ìš©ë¥ 

**ì‹ ê·œ í™•ì¥ ê¸°ëŠ¥:**
- ğŸŒ **Nginx ìƒíƒœ**: ì›¹ì„œë²„ í”„ë¡œì„¸ìŠ¤, ì„¤ì • íŒŒì¼, í¬íŠ¸ 80/443 ìƒíƒœ
- ğŸ”’ **SSL ì¸ì¦ì„œ**: ë„ë©”ì¸ë³„ ì¸ì¦ì„œ ìœ íš¨ì„±, ë§Œë£Œì¼ í™•ì¸
- ğŸ“œ **ë¡œê·¸ ëª¨ë‹ˆí„°ë§**: ìµœê·¼ ë°°í¬ ë° ì‹œìŠ¤í…œ ë¡œê·¸ tail ê¸°ëŠ¥

**ì‹¤í–‰ ë°©ë²•:**
```bash
# ê¸°ë³¸ ì‹¤í–‰ (ìš”ì•½ ì •ë³´)
make deploy-status
./scripts/deploy_status.sh

# JSON ì¶œë ¥
./scripts/deploy_status.sh --json

# ìƒì„¸ ì •ë³´
./scripts/deploy_status.sh --detailed

# ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ (5ì´ˆ ê°„ê²©)
./scripts/deploy_status.sh --watch

# ìƒˆë¡œìš´ í™•ì¥ ê¸°ëŠ¥ë“¤
./scripts/deploy_status.sh --nginx        # Nginx ìƒíƒœ í¬í•¨
./scripts/deploy_status.sh --ssl          # SSL ì¸ì¦ì„œ ê²€ì‚¬
./scripts/deploy_status.sh --logs         # ìµœê·¼ ë¡œê·¸ í‘œì‹œ

# ì „ì²´ ì ê²€ (ëª¨ë“  ê¸°ëŠ¥ í¬í•¨)
make deploy-status-full
./scripts/deploy_status.sh --detailed --nginx --ssl --logs
```

**SSL ë„ë©”ì¸ ì„¤ì •:**
```bash
# í™˜ê²½ë³€ìˆ˜ë¡œ í™•ì¸í•  ë„ë©”ì¸ ì§€ì •
export SSL_DOMAINS="mcp-map.company,api.mcp-map.company,admin.mcp-map.company"
./scripts/deploy_status.sh --ssl
```

**ì¶œë ¥ ì˜ˆì‹œ:**
```
=== ë°°í¬ ìƒíƒœ ì ê²€ ===
Git: main ë¸Œëœì¹˜ (2a74681) âœ“ ë™ê¸°í™”ë¨
Docker: 3ê°œ ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ì¤‘
í¬íŠ¸: 8080(FastAPI), 8088(Admin) ì‚¬ìš© ì¤‘
Nginx: nginx/1.20.1 ì‹¤í–‰ ì¤‘ (Master PID: 1234, Workers: 4)
SSL: mcp-map.company âœ… ìœ íš¨ (90ì¼ ë‚¨ìŒ)
ë¡œê·¸: 5ê°œ íŒŒì¼ í™•ì¸ë¨ (ìµœê·¼ ì—…ë°ì´íŠ¸: 2ë¶„ ì „)
ì‹œìŠ¤í…œ: CPU 15% | ë©”ëª¨ë¦¬ 2.1GB/8GB | ë””ìŠ¤í¬ 45GB/100GB
```

**SSL ì¸ì¦ì„œ ìƒíƒœ:**
- âœ… ìœ íš¨ (30ì¼ ì´ìƒ ë‚¨ìŒ)
- âš ï¸ ê²½ê³  (7-30ì¼ ë‚¨ìŒ)
- ğŸš¨ ê³§ ë§Œë£Œ (7ì¼ ë¯¸ë§Œ)
- âŒ ë§Œë£Œë¨

**ë¡œê·¸ íŒŒì¼ ìš°ì„ ìˆœìœ„:**
1. `logs/deploy.log` - ë°°í¬ ê´€ë ¨ ë¡œê·¸
2. `logs/app.log` - ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸
3. `logs/api.log` - API ìš”ì²­ ë¡œê·¸
4. `/var/log/nginx/` - Nginx ë¡œê·¸
5. `/var/log/syslog` - ì‹œìŠ¤í…œ ë¡œê·¸

## ë³´ì•ˆ ë° Rate Limiting

### Rate Limiting ë¯¸ë“¤ì›¨ì–´ (mcp/utils/rate_limiter.py)
IPë³„ ìš”ì²­ íšŸìˆ˜ë¥¼ ì œí•œí•˜ì—¬ DDoS ê³µê²©ê³¼ ê³¼ë„í•œ API í˜¸ì¶œì„ ë°©ì§€í•©ë‹ˆë‹¤.

**ì£¼ìš” ê¸°ëŠ¥:**
- IPë³„ ë¶„ë‹¹ ìš”ì²­ ìˆ˜ ì œí•œ (ê¸°ë³¸ê°’: 100íšŒ/ë¶„)
- ì´ˆê³¼ ì‹œ HTTP 429 Too Many Requests ì‘ë‹µ
- ìœ„ë°˜ ì´ë²¤íŠ¸ë¥¼ `logs/security.log`ì— ìë™ ê¸°ë¡
- í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ IP ê´€ë¦¬ (ë¡œì»¬/ì›ê²© ì°¨ë‹¨ ìš°íšŒ)
- ì°¨ë‹¨ëœ IP ëª©ë¡ ë° í†µê³„ ì œê³µ

**ì„¤ì • ë°©ë²•:**
```python
from mcp.utils.rate_limiter import RateLimiter

# ì»¤ìŠ¤í…€ ì„¤ì •ìœ¼ë¡œ Rate Limiter ìƒì„±
rate_limiter = RateLimiter(
    requests_per_minute=50,     # ë¶„ë‹¹ 50íšŒ ì œí•œ
    cleanup_interval=300,       # 5ë¶„ë§ˆë‹¤ ì˜¤ë˜ëœ ê¸°ë¡ ì •ë¦¬
    log_file="logs/custom_security.log"
)

# í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì— IP ì¶”ê°€
rate_limiter.add_to_whitelist("192.168.1.100")
```

**FastAPI í†µí•©:**
Rate Limiting ë¯¸ë“¤ì›¨ì–´ê°€ ìë™ìœ¼ë¡œ ëª¨ë“  ìš”ì²­ì— ì ìš©ë©ë‹ˆë‹¤:
```python
# mcp/run.pyì—ì„œ ìë™ ì ìš©ë¨
app.middleware("http")(rate_limit_middleware)
```

**ì‘ë‹µ í—¤ë”:**
- `X-RateLimit-Limit`: ë¶„ë‹¹ í—ˆìš© ìš”ì²­ ìˆ˜
- `X-RateLimit-Remaining`: ë‚¨ì€ ìš”ì²­ ìˆ˜
- `Retry-After`: ì°¨ë‹¨ í•´ì œê¹Œì§€ ëŒ€ê¸° ì‹œê°„ (ì´ˆ)

### ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ë³´ì•ˆ íŒ¨ë„ (web/admin_dashboard.html)
ì‹¤ì‹œê°„ ë³´ì•ˆ ìƒí™©ì„ ëª¨ë‹ˆí„°ë§í•˜ê³  ì°¨ë‹¨ëœ IPë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ë³´ì•ˆ í†µê³„ ì¹´ë“œ:**
- ğŸš« **ì°¨ë‹¨ëœ IP**: í˜„ì¬ Rate Limitìœ¼ë¡œ ì°¨ë‹¨ëœ IP ìˆ˜
- âš ï¸ **Rate Limit ìœ„ë°˜**: ìµœê·¼ 24ì‹œê°„ ìœ„ë°˜ íšŸìˆ˜
- âœ… **í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸**: ë“±ë¡ëœ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ IP ìˆ˜
- ğŸ‘€ **ëª¨ë‹ˆí„°ë§ IP**: í˜„ì¬ ì¶”ì  ì¤‘ì¸ IP ìˆ˜

**ì°¨ë‹¨ ì´ë²¤íŠ¸ ì¶”ì´ ì°¨íŠ¸:**
- Chart.js ê¸°ë°˜ ì‹¤ì‹œê°„ ì°¨íŠ¸
- ìµœê·¼ 24ì‹œê°„ ë™ì•ˆì˜ ì°¨ë‹¨ ì´ë²¤íŠ¸ ì¶”ì´
- ë‹¤í¬ëª¨ë“œ í…Œë§ˆ ìë™ ì ìš©

**ì°¨ë‹¨ëœ IP ëª©ë¡:**
- IP ì£¼ì†Œ, ìœ„ë°˜ íšŸìˆ˜, ë§ˆì§€ë§‰ ìœ„ë°˜ ì‹œê°„ í‘œì‹œ
- êµ­ê°€ë³„ í”Œë˜ê·¸ ì•„ì´ì½˜ í‘œì‹œ
- ê°œë³„ IP ì°¨ë‹¨ í•´ì œ ê¸°ëŠ¥

**IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬:**
- ìƒˆ IP ì£¼ì†Œë¥¼ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
- IP ì£¼ì†Œ í˜•ì‹ ìœ íš¨ì„± ê²€ì‚¬
- ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ë° API ì—°ë™ ì§€ì›

**ì‚¬ìš© ë°©ë²•:**
1. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ(`/admin_dashboard.html`) ì ‘ì†
2. ğŸ”’ ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ íŒ¨ë„ì—ì„œ ì‹¤ì‹œê°„ í˜„í™© í™•ì¸
3. IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬ ì„¹ì…˜ì—ì„œ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” IP ì¶”ê°€
4. ğŸ”„ ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ìœ¼ë¡œ ìµœì‹  ë³´ì•ˆ ë°ì´í„° ê°±ì‹ 

### ë³´ì•ˆ í…ŒìŠ¤íŠ¸ (tests/test_security.py)
í¬ê´„ì ì¸ ë³´ì•ˆ í…ŒìŠ¤íŠ¸ë¡œ Rate Limiting ì‹œìŠ¤í…œì˜ ì•ˆì •ì„±ì„ ê²€ì¦í•©ë‹ˆë‹¤.

**í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤:**
1. **ê¸°ë³¸ Rate Limiting í…ŒìŠ¤íŠ¸**
   - ë™ì¼ IPì—ì„œ 200íšŒ ìš”ì²­ ì‹œ 429 ì‘ë‹µ í™•ì¸
   - ì œí•œ ì´ˆê³¼ í›„ ì°¨ë‹¨ IP ëª©ë¡ ë“±ë¡ í™•ì¸

2. **ì„œë¡œ ë‹¤ë¥¸ IP ë…ë¦½ì„± í…ŒìŠ¤íŠ¸**
   - ì„œë¡œ ë‹¤ë¥¸ IPëŠ” ì„œë¡œ ì˜í–¥ë°›ì§€ ì•ŠìŒ í™•ì¸
   - í•œ IP ì°¨ë‹¨ì´ ë‹¤ë¥¸ IPì— ë¯¸ì¹˜ëŠ” ì˜í–¥ ì—†ìŒ ê²€ì¦

3. **í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ìš°íšŒ í…ŒìŠ¤íŠ¸**
   - í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ IPëŠ” ë¬´ì œí•œ ìš”ì²­ í—ˆìš© í™•ì¸
   - í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì¶”ê°€/ì œê±° ê¸°ëŠ¥ ê²€ì¦

4. **ë³´ì•ˆ ë¡œê·¸ ê¸°ë¡ í…ŒìŠ¤íŠ¸**
   - `logs/security.log` íŒŒì¼ ìƒì„± í™•ì¸
   - ìœ„ë°˜ ì´ë²¤íŠ¸ì˜ ìƒì„¸ ì •ë³´ ê¸°ë¡ ê²€ì¦

**í…ŒìŠ¤íŠ¸ ì‹¤í–‰:**
```bash
# ëª¨ë“  ë³´ì•ˆ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
python -m pytest tests/test_security.py -v

# íŠ¹ì • í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë§Œ ì‹¤í–‰
python -m pytest tests/test_security.py::TestRateLimiter -v

# ë³´ì•ˆ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
python -m pytest tests/test_security.py::TestSecurityScenarios -v

# ìƒì„¸ ì¶œë ¥ê³¼ í•¨ê»˜ ì‹¤í–‰
python -m pytest tests/test_security.py -v --tb=long
```

**í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì˜ˆì‹œ:**
```
tests/test_security.py::TestRateLimiter::test_rate_limiting_logic PASSED
tests/test_security.py::TestRateLimiter::test_different_ips_not_affected PASSED
tests/test_security.py::TestRateLimiter::test_security_logs_created PASSED
tests/test_security.py::TestSecurityScenarios::test_scenario_massive_requests_from_single_ip PASSED
```

### ë³´ì•ˆ API ì—”ë“œí¬ì¸íŠ¸
Rate Limiting ì‹œìŠ¤í…œê³¼ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆëŠ” RESTful APIë¥¼ ì œê³µí•©ë‹ˆë‹¤.

**GET /api/v1/security/stats**
í˜„ì¬ ë³´ì•ˆ í†µê³„ ì •ë³´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤:
```json
{
  "blocked_count": 5,
  "blocked_ips": ["192.168.100.45", "203.142.78.23"],
  "whitelist_count": 4,
  "requests_per_minute_limit": 100,
  "current_monitored_ips": 25
}
```

**POST /api/v1/security/whitelist/{ip}**
ì§€ì •ëœ IPë¥¼ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•©ë‹ˆë‹¤:
```bash
curl -X POST http://localhost:8088/api/v1/security/whitelist/192.168.1.100
```

ì‘ë‹µ:
```json
{
  "success": true,
  "ip": "192.168.1.100",
  "message": "IPê°€ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

### ë³´ì•ˆ ì„¤ì • íŒŒì¼
ì‹œìŠ¤í…œ ë³´ì•ˆ ì„¤ì •ì„ íŒŒì¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**config/whitelist_ips.json** - í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ IP ëª©ë¡:
```json
{
  "ips": [
    "192.168.1.0/24",
    "10.0.0.0/8",
    "172.16.0.0/12"
  ]
}
```

**logs/security.log** - ë³´ì•ˆ ì´ë²¤íŠ¸ ë¡œê·¸:
```
2024-01-15 14:30:25 - WARNING - Rate limit exceeded - IP: 203.142.78.23, Requests: 156/100, Endpoint: GET /api/v1/portfolio, User-Agent: AttackBot/1.0
2024-01-15 14:30:26 - INFO - IP added to whitelist: 192.168.1.100
```

### ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ í™œìš©

**ì¼ì¼ ë³´ì•ˆ ì ê²€ ì²´í¬ë¦¬ìŠ¤íŠ¸:**
- [ ] ì°¨ë‹¨ëœ IP ìˆ˜ í™•ì¸ (`ë¸”ë¡ëœ IP` ì¹´ë“œ)
- [ ] Rate Limit ìœ„ë°˜ ê¸‰ì¦ ì—¬ë¶€ í™•ì¸ (ì°¨íŠ¸ íŒ¨í„´)
- [ ] ì˜ì‹¬ìŠ¤ëŸ¬ìš´ IPì˜ ìœ„ë°˜ íšŸìˆ˜ ì ê²€ (ì°¨ë‹¨ IP ëª©ë¡)
- [ ] í•„ìš”ì‹œ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” IPë¥¼ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€

**ë³´ì•ˆ ì´ë²¤íŠ¸ ëŒ€ì‘ ì ˆì°¨:**
1. ë³´ì•ˆ íŒ¨ë„ì—ì„œ ë¹„ì •ìƒì ì¸ í™œë™ ê°ì§€
2. `logs/security.log`ì—ì„œ ìƒì„¸ ì •ë³´ í™•ì¸
3. í•„ìš”ì‹œ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ë˜ëŠ” ì°¨ë‹¨ ëª©ë¡ ìˆ˜ì •
4. ì‹œìŠ¤í…œ ë¡œê·¸ íŒ¨ë„ì—ì„œ ì „ì²´ì ì¸ ì˜í–¥ í‰ê°€

### ì‹¤ì‹œê°„ ë³´ì•ˆ ì•Œë¦¼ ì‹œìŠ¤í…œ
ë³´ì•ˆ ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ìë™ìœ¼ë¡œ ë‹¤ì¤‘ ì±„ë„ ì•Œë¦¼ì„ ì „ì†¡í•©ë‹ˆë‹¤.

**ì§€ì› ì±„ë„:**
- ğŸ”” **Slack**: ì›¹í›…ì„ í†µí•œ ì‹¤ì‹œê°„ ì•Œë¦¼
- ğŸ® **Discord**: ì„ë² ë“œ ë©”ì‹œì§€ë¡œ ìƒì„¸ ì •ë³´ ì œê³µ
- ğŸ“§ **Email**: HTML/í…ìŠ¤íŠ¸ í˜•ì‹ì˜ ìƒì„¸ ë³´ê³ ì„œ

**ìë™ ì•Œë¦¼ ì´ë²¤íŠ¸:**
- **IP ì°¨ë‹¨ ë°œìƒ**: Rate Limit ì´ˆê³¼ ì‹œ Critical ì•Œë¦¼ + ë³´ì•ˆ ë¡œê·¸ 50ì¤„ ì²¨ë¶€
- **Rate Limit ìœ„ë°˜**: ì„ê³„ê°’ ì ‘ê·¼ ì‹œ Warning ì•Œë¦¼
- **í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ë³€ê²½**: IP ì¶”ê°€/ì œê±° ì‹œ Info ì•Œë¦¼
- **ì¼ì¼ ë³´ì•ˆ ìš”ì•½**: ì°¨ë‹¨ í†µê³„ ë° ì‹ ê·œ ìœ„í˜‘ ë¶„ì„

**ì‚¬ìš©ë²•:**
```python
from mcp.utils.notifier import send_ip_blocked_alert, send_security_summary_alert

# IP ì°¨ë‹¨ ì•Œë¦¼ ì „ì†¡
await send_ip_blocked_alert(
    client_ip="192.168.1.100",
    violation_count=156,
    endpoint="/api/v1/portfolio",
    user_agent="AttackBot/1.0"
)

# ì¼ì¼ ë³´ì•ˆ ìš”ì•½ ì•Œë¦¼
await send_security_summary_alert(
    blocked_count=25,
    violations_24h=342,
    new_ips=["192.168.1.100", "203.0.113.50"]
)
```

**í™˜ê²½ë³€ìˆ˜ ì„¤ì •:**
```bash
# Slack ì•Œë¦¼
export SLACK_WEBHOOK_URL="https://hooks.slack.com/services/..."

# Discord ì•Œë¦¼
export DISCORD_WEBHOOK_URL="https://discord.com/api/webhooks/..."

# ì´ë©”ì¼ ì•Œë¦¼
export SMTP_SERVER="smtp.gmail.com"
export SMTP_PORT="587"
export NOTIFY_EMAIL="security@company.com"
export NOTIFY_PASSWORD="app_password"
export NOTIFY_RECIPIENTS="admin1@company.com,admin2@company.com"
```

### í™•ì¥ëœ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ë³´ì•ˆ ê¸°ëŠ¥

**ìƒˆë¡œìš´ ë³´ì•ˆ í†µê³„ ì¹´ë“œ:**
- ğŸš« **ì°¨ë‹¨ëœ IP**: ì‹¤ì‹œê°„ ì°¨ë‹¨ëœ IP ìˆ˜ëŸ‰ í‘œì‹œ
- âš ï¸ **Rate Limit ìœ„ë°˜**: ìµœê·¼ 24ì‹œê°„ ìœ„ë°˜ í†µê³„
- âœ… **í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸**: ë“±ë¡ëœ ì‹ ë¢° IP ìˆ˜ëŸ‰
- ğŸ‘€ **ëª¨ë‹ˆí„°ë§ IP**: í˜„ì¬ ì¶”ì  ì¤‘ì¸ IP í˜„í™©

**ì°¨ë‹¨ ì´ë²¤íŠ¸ ì¶”ì´ ì°¨íŠ¸:**
- Chart.js ê¸°ë°˜ ì‹¤ì‹œê°„ ì‹œê°í™”
- ìµœê·¼ 24ì‹œê°„ ì°¨ë‹¨ íŒ¨í„´ ë¶„ì„
- ë‹¤í¬/ë¼ì´íŠ¸ ëª¨ë“œ ìë™ í…Œë§ˆ ì ìš©
- ì‹œê°„ëŒ€ë³„ ê³µê²© íŒ¨í„´ ì‹ë³„ ê°€ëŠ¥

**ì‹¤ì‹œê°„ ë³´ì•ˆ ì•Œë¦¼ ì„¤ì •:**
- ì•Œë¦¼ ì±„ë„ ê°œë³„ í™œì„±í™”/ë¹„í™œì„±í™”
- ì°¨ë‹¨ ì„ê³„ê°’ ë™ì  ì¡°ì • (1-1000 ìš”ì²­/ë¶„)
- ì•Œë¦¼ ì „ì†¡ ê°„ê²© ì„¤ì • (1-60ë¶„)
- ì„¤ì •ê°’ localStorage ìë™ ì €ì¥

**ë³´ì•ˆ ê´€ë¦¬ ê¸°ëŠ¥:**
- í…ŒìŠ¤íŠ¸ ì•Œë¦¼ ì „ì†¡ ë²„íŠ¼
- ë³´ì•ˆ ë¡œê·¸ CSV ë‚´ë³´ë‚´ê¸°
- ìµœê·¼ ë³´ì•ˆ ì´ë²¤íŠ¸ ì‹¤ì‹œê°„ í‘œì‹œ
- ë³´ì•ˆ ì ìˆ˜ ìë™ ê³„ì‚° ë° ìƒ‰ìƒ í‘œì‹œ

**ì‚¬ìš© ì˜ˆì‹œ:**
```javascript
// í…ŒìŠ¤íŠ¸ ì•Œë¦¼ ì „ì†¡
await testSecurityAlert();

// ë³´ì•ˆ ë¡œê·¸ ë‚´ë³´ë‚´ê¸°
exportSecurityLog();

// ë³´ì•ˆ ì„¤ì • ì €ì¥
saveSecuritySettings();
```

### ê°•í™”ëœ ë³´ì•ˆ í…ŒìŠ¤íŠ¸

**ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤:**

1. **ì•Œë¦¼ ì‹œìŠ¤í…œ í†µí•© í…ŒìŠ¤íŠ¸**
   - notifier ëª¨ë“ˆ import ë° í•¨ìˆ˜ í˜¸ì¶œ ê²€ì¦
   - ë³´ì•ˆ ì•Œë¦¼ ì „ì†¡ ì„±ê³µ/ì‹¤íŒ¨ ì²˜ë¦¬ í™•ì¸
   - ë³´ì•ˆ ë¡œê·¸ íŒŒì¼ ìƒì„± ë° ë‚´ìš© ê²€ì¦

2. **ë¶„ì‚° ê³µê²© ì‹œë®¬ë ˆì´ì…˜**
   - 100ê°œ IPì—ì„œ ê°ê° 50íšŒ ìš”ì²­ (ì´ 5,000íšŒ)
   - IPë³„ ë…ë¦½ì ì¸ Rate Limiting í™•ì¸
   - ëŒ€ê·œëª¨ ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ ë°©ì–´ ëŠ¥ë ¥ ê²€ì¦

3. **ì ì§„ì  ê³µê²© íŒ¨í„´ í…ŒìŠ¤íŠ¸**
   - ì •ìƒ â†’ ê³¼ë¶€í•˜ â†’ ê³µê²© ë‹¨ê³„ë³„ ì‹œë‚˜ë¦¬ì˜¤
   - ê° ë‹¨ê³„ë³„ ì ì ˆí•œ ëŒ€ì‘ í™•ì¸
   - ê³µê²© íŒ¨í„´ ë³€í™”ì— ë”°ë¥¸ ì°¨ë‹¨ ë¡œì§ ê²€ì¦

4. **í”„ë¡ì‹œ IP ì²˜ë¦¬ í…ŒìŠ¤íŠ¸**
   - X-Forwarded-For í—¤ë” íŒŒì‹± ì •í™•ì„±
   - ì‹¤ì œ í´ë¼ì´ì–¸íŠ¸ IP ì¶”ì¶œ ê²€ì¦
   - í”„ë¡ì‹œ í™˜ê²½ì—ì„œì˜ Rate Limiting ë™ì‘

5. **ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ í…ŒìŠ¤íŠ¸**
   - 10,000íšŒ ìš”ì²­ 5ì´ˆ ì´ë‚´ ì²˜ë¦¬ ê²€ì¦
   - ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì í™” í™•ì¸
   - ëŒ€ìš©ëŸ‰ íŠ¸ë˜í”½ ì²˜ë¦¬ ëŠ¥ë ¥ ì¸¡ì •

**í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì˜ˆì‹œ:**
```bash
# ì „ì²´ ë³´ì•ˆ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
python -m pytest tests/test_security.py -v

# ì•Œë¦¼ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
python -m pytest tests/test_security.py::TestNotifierIntegration -v

# ê³ ê¸‰ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
python -m pytest tests/test_security.py::TestAdvancedSecurityScenarios -v

# ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ í¬í•¨ (ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¼)
python -m pytest tests/test_security.py::TestAdvancedSecurityScenarios::test_rate_limiter_performance -v -s
```

### ë³´ì•ˆ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

**ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°:**
```
mcp/utils/
â”œâ”€â”€ rate_limiter.py     # í•µì‹¬ Rate Limiting ì—”ì§„
â”œâ”€â”€ notifier.py         # ë‹¤ì¤‘ ì±„ë„ ì•Œë¦¼ ì‹œìŠ¤í…œ
â””â”€â”€ ...

web/
â””â”€â”€ admin_dashboard.html # ì‹¤ì‹œê°„ ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ UI

tests/
â””â”€â”€ test_security.py    # í¬ê´„ì  ë³´ì•ˆ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸

logs/
â”œâ”€â”€ security.log        # ë³´ì•ˆ ì´ë²¤íŠ¸ ë¡œê·¸
â””â”€â”€ notifications.log   # ì•Œë¦¼ ì „ì†¡ ë¡œê·¸

config/
â””â”€â”€ whitelist_ips.json  # í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ IP ê´€ë¦¬
```

**ë°ì´í„° íë¦„:**
1. í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ â†’ FastAPI ë¯¸ë“¤ì›¨ì–´
2. Rate Limiter â†’ IPë³„ ìš”ì²­ ìˆ˜ ê²€ì‚¬
3. ìœ„ë°˜ ê°ì§€ â†’ ë³´ì•ˆ ë¡œê·¸ ê¸°ë¡ + ì•Œë¦¼ ì „ì†¡
4. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ â†’ ì‹¤ì‹œê°„ í˜„í™© í‘œì‹œ
5. í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬ â†’ ì˜ˆì™¸ ì²˜ë¦¬ ì ìš©

### ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ ê³ ê¸‰ í™œìš©

**ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ì›Œí¬í”Œë¡œìš°:**
1. **ì¼ì¼ ì ê²€ (ì˜¤ì „ 9ì‹œ)**
   - ë³´ì•ˆ ì ìˆ˜ í™•ì¸ (90ì  ì´ìƒ ìœ ì§€)
   - ì „ë‚  ì°¨ë‹¨ëœ IP ìˆ˜ ë¶„ì„
   - ìƒˆë¡œìš´ ê³µê²© íŒ¨í„´ ì‹ë³„

2. **ì •ê¸° ê²€í†  (ì£¼ê°„)**
   - ì°¨ë‹¨ ì´ë²¤íŠ¸ ì¶”ì´ ì°¨íŠ¸ ë¶„ì„
   - í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ IP ìœ íš¨ì„± ê²€í† 
   - ì•Œë¦¼ ì„ê³„ê°’ íŠœë‹

3. **ë³´ì•ˆ ì‚¬ê³  ëŒ€ì‘**
   - ì‹¤ì‹œê°„ ì•Œë¦¼ í™•ì¸ â†’ ë¡œê·¸ ë¶„ì„
   - ê³µê²© IP íŒ¨í„´ ë¶„ì„ â†’ ì¶”ê°€ ì°¨ë‹¨ ì¡°ì¹˜
   - í”¼í•´ ë²”ìœ„ í‰ê°€ â†’ ë³µêµ¬ ê³„íš ìˆ˜ë¦½

**ë³´ì•ˆ ì§€í‘œ í•´ì„:**
- **ë³´ì•ˆ ì ìˆ˜ 90-100**: ì•ˆì „ (ë…¹ìƒ‰)
- **ë³´ì•ˆ ì ìˆ˜ 70-89**: ì£¼ì˜ (ë…¸ë€ìƒ‰) - ëª¨ë‹ˆí„°ë§ ê°•í™” í•„ìš”
- **ë³´ì•ˆ ì ìˆ˜ 50-69**: ìœ„í—˜ (ë¹¨ê°„ìƒ‰) - ì¦‰ì‹œ ì¡°ì¹˜ í•„ìš”
- **ë³´ì•ˆ ì ìˆ˜ 50 ë¯¸ë§Œ**: ê¸´ê¸‰ (ê¹œë¹¡ì„) - ë³´ì•ˆíŒ€ ì¦‰ì‹œ ëŒ€ì‘

---
## ğŸ“˜ ì‹œìŠ¤í…œ ë¬¸ì„œ ì—…ë°ì´íŠ¸ (2025-09-20)

### ğŸ“¢ ì•Œë¦¼ ì‹œìŠ¤í…œ ë° ë°°í¬ ìƒíƒœ ì ê²€
- ì „ì²´ ì‹œìŠ¤í…œ ê°œìš”ì™€ ì£¼ìš” ê¸°ëŠ¥ ì„¤ëª…
- notifier.py: ì¬ì‹œë„ ë¡œì§, ë¡œê·¸ ë§í¬, ì•Œë¦¼ ë¡œê¹… ê¸°ëŠ¥
- admin_dashboard.html: ë‚ ì§œ í•„í„°, ìƒì„¸ ëª¨ë‹¬, ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥
- deploy_status.sh: Nginx, SSL, ë¡œê·¸ ëª¨ë‹ˆí„°ë§ í™•ì¥ ê¸°ëŠ¥
- ë³´ì•ˆ ë° Rate Limiting: í¬ê´„ì ì¸ ë³´ì•ˆ ì²´ê³„

### ğŸ“ ì£¼ìš” íŠ¹ì§•
- ëª¨ë“  ì½”ë“œì™€ ë¬¸ì„œì— **í•œêµ­ì–´ ì£¼ì„** í¬í•¨
- ì‹¤ì œ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ì™€ ì¶œë ¥ ì˜ˆì‹œ ì œê³µ
- í™˜ê²½ ë³€ìˆ˜ ë° API ì—”ë“œí¬ì¸íŠ¸ ìƒì„¸ ì„¤ëª…
- CI/CDì™€ ìš´ì˜ ìë™í™” í†µí•© ê°€ì´ë“œ

## ğŸ” ë³´ì•ˆ ë¡œê·¸ ë° ë°±ì—… ê´€ë¦¬ í†µí•© ê°€ì´ë“œ

### ğŸ“‚ ë³´ì•ˆ ë¡œê·¸ ì‹œìŠ¤í…œ
- ë¡œê·¸ ìœ„ì¹˜: `logs/security.log`
- ê¸°ë¡ ì´ë²¤íŠ¸:
  - ğŸš« ì°¨ë‹¨ëœ IP
  - âš ï¸ Rate Limiting ìœ„ë°˜
  - âœ… í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ë“±ë¡/ì‚­ì œ
  - ğŸ‘€ ëª¨ë‹ˆí„°ë§ ì´ë²¤íŠ¸
- ë³´ê´€ ì •ì±…: ì¼ë³„ íšŒì „, 30ì¼ ë³´ê´€
- í™•ì¸ ë°©ë²•: ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ â†’ "ë³´ì•ˆ ë¡œê·¸" íŒ¨ë„

### ğŸ“¦ ë°±ì—… ê´€ë¦¬
#### ğŸ› ï¸ ê²€ì¦
```bash
make verify-backups
./scripts/backup_verifier.sh --detailed
```

#### ğŸ§¹ ì •ë¦¬
```bash
make cleanup-backups
./scripts/cleanup_old_backups.sh --dry-run  # ì‹œë®¬ë ˆì´ì…˜
./scripts/cleanup_old_backups.sh            # ì‹¤ì œ ì •ë¦¬
```

### ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
# ë³´ì•ˆ ë¡œê·¸ í…ŒìŠ¤íŠ¸
python -m pytest tests/test_security_logger.py -v

# ë°±ì—… + ë³´ì•ˆ ë¡œê·¸ í†µí•© í…ŒìŠ¤íŠ¸
python -m pytest tests/test_backup_and_logs.py -v

# ìš´ì˜ í†µí•© í…ŒìŠ¤íŠ¸ (ì „ì²´ ì›Œí¬í”Œë¡œìš°)
python -m pytest tests/test_integration_ops.py -v

# ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
python -m pytest tests/ -v
```

### ğŸ§ª ìš´ì˜ í†µí•© í…ŒìŠ¤íŠ¸
`test_integration_ops.py`ëŠ” ë³´ì•ˆ ë¡œê·¸ ê¸°ë¡ë¶€í„° ë°±ì—… ê²€ì¦ê¹Œì§€ì˜ ì „ì²´ ìš´ì˜ ì›Œí¬í”Œë¡œìš°ë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.

#### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
1. **ë³´ì•ˆ ë¡œê·¸ ì›Œí¬í”Œë¡œìš°**
   - ì°¨ë‹¨ IP, í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸, ëª¨ë‹ˆí„°ë§ ì´ë²¤íŠ¸ ê¸°ë¡
   - `logs/security.log` íŒŒì¼ ìƒì„± ë° ë‚´ìš© ê²€ì¦
   - í•œêµ­ì–´ ë©”ì‹œì§€ ì •ìƒ ê¸°ë¡ í™•ì¸

2. **ë°±ì—… ê²€ì¦ í†µí•©**
   - `./scripts/backup_verifier.sh --dry-run` ì‹¤í–‰
   - ìŠ¤í¬ë¦½íŠ¸ ì¡´ì¬ ì—¬ë¶€ ë° ì‹¤í–‰ ê¶Œí•œ í™•ì¸
   - ë°±ì—… ìƒíƒœ ë¦¬í¬íŠ¸ ìƒì„± ê²€ì¦

3. **ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸ í†µí•©**
   - `./scripts/cleanup_old_backups.sh --dry-run` ì‹¤í–‰
   - ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œ ì •ìƒ ë™ì‘ í™•ì¸
   - ì‹¤ì œ íŒŒì¼ ì‚­ì œ ì—†ì´ ë¡œì§ ê²€ì¦

4. **Makefile ëª…ë ¹ì–´ ê²€ì¦**
   - `make help` ë“± ê¸°ë³¸ ëª…ë ¹ì–´ ì‹¤í–‰ ê°€ëŠ¥ ì—¬ë¶€
   - ìë™í™” ì›Œí¬í”Œë¡œìš° í†µí•©ì„± í™•ì¸

#### ì‹¤í–‰ ë°©ë²• ë° ì˜ˆìƒ ê²°ê³¼
```bash
# ìƒì„¸ ì¶œë ¥ê³¼ í•¨ê»˜ í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰
python -m pytest tests/test_integration_ops.py -v -s

# ì˜ˆìƒ ì¶œë ¥:
# âœ… ë³´ì•ˆ ë¡œê·¸ ì›Œí¬í”Œë¡œìš° ì •ìƒ ë™ì‘ í™•ì¸
# âœ… ë°±ì—… ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ ì •ìƒ ì‹¤í–‰: [ë°±ì—… ìƒíƒœ]...
# âœ… ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸ ì •ìƒ ì‹¤í–‰ (ì‹œë®¬ë ˆì´ì…˜)
# âœ… ì „ì²´ ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸ ì™„ë£Œ
#    - ë³´ì•ˆ ë¡œê·¸ ê¸°ë¡: ì •ìƒ
#    - ì‚¬ìš© ê°€ëŠ¥í•œ ìŠ¤í¬ë¦½íŠ¸: 2ê°œ
#    - í†µí•© í…ŒìŠ¤íŠ¸ ìƒíƒœ: ì„±ê³µ
```

#### CI/CD íŒŒì´í”„ë¼ì¸ í†µí•©
GitHub Actionsì—ì„œ ìë™ ì‹¤í–‰ë˜ë©°, ì‹¤íŒ¨ ì‹œ ë‹¤ìŒ ì•„í‹°íŒ©íŠ¸ê°€ ì—…ë¡œë“œë©ë‹ˆë‹¤:
- `logs/security.log` - ë³´ì•ˆ ë¡œê·¸ íŒŒì¼
- ë°±ì—… ë¦¬í¬íŠ¸ íŒŒì¼ë“¤
- í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë¡œê·¸

### ğŸ”„ ì¼ì¼ ìš´ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
1. **ë³´ì•ˆ ì ê²€**
   - [ ] ì°¨ë‹¨ëœ IP ìˆ˜ í™•ì¸
   - [ ] Rate Limiting ìœ„ë°˜ íŒ¨í„´ ë¶„ì„
   - [ ] í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ìœ íš¨ì„± ê²€í† 

2. **ë°±ì—… ì ê²€**
   - [ ] `make verify-backups` ì‹¤í–‰
   - [ ] ìµœì‹  ë°±ì—… íŒŒì¼ ì¡´ì¬ í™•ì¸
   - [ ] ë””ìŠ¤í¬ ìš©ëŸ‰ í™•ì¸

3. **ë¡œê·¸ ê´€ë¦¬**
   - [ ] `logs/security.log` í¬ê¸° í™•ì¸
   - [ ] 30ì¼ ì´ìƒ ëœ ë¡œê·¸ ìë™ ì‚­ì œ í™•ì¸
   - [ ] ë¹„ì •ìƒ ì´ë²¤íŠ¸ íŒ¨í„´ ê²€í† 

### ì‹¤í–‰ ì˜ˆì‹œ
```python
from mcp.security_logger import log_security_event

# ë³´ì•ˆ ì´ë²¤íŠ¸ ê¸°ë¡
log_security_event("BLOCKED_IP", "192.168.0.15 - Rate Limit ì´ˆê³¼ë¡œ ì°¨ë‹¨")
log_security_event("WHITELIST_ADD", "127.0.0.1 - ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” IP ì¶”ê°€")
log_security_event("MONITOR", "ì¼ì¼ ë³´ì•ˆ ì ê²€ ì™„ë£Œ")
```

## ğŸ”„ ë°±ì—…/ë³´ì•ˆ ë¡œê·¸ CI/CD í†µí•©

### ğŸ“‹ GitHub Actions ì›Œí¬í”Œë¡œìš° ê°œìš”
`.github/workflows/ci.yml`ì—ì„œ ë°±ì—… ë° ë³´ì•ˆ ë¡œê·¸ ì‹œìŠ¤í…œì˜ ìë™í™”ëœ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ì£¼ìš” ë‹¨ê³„:**
1. **ğŸ§ª ë°±ì—… ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸**: `test_backup_makefile.py`, `test_backup_and_logs.py` ì‹¤í–‰
2. **ğŸ›¡ï¸ ë³´ì•ˆ ë¡œê·¸ í…ŒìŠ¤íŠ¸**: `test_security_logger.py` ì‹¤í–‰
3. **ğŸ”§ ë°±ì—… ê²€ì¦**: `scripts/backup_verifier.sh` ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰
4. **ğŸ§¹ ë°±ì—… ì •ë¦¬**: `scripts/cleanup_old_backups.sh` dry-run ëª¨ë“œ
5. **ğŸ“Š ë³´ì•ˆ ë¡œê·¸ ìƒì„±**: `logs/security.log` íŒŒì¼ ì¡´ì¬ ë° ë‚´ìš© í™•ì¸
6. **ğŸ“ ì•„í‹°íŒ©íŠ¸ ì €ì¥**: ì‹¤íŒ¨ ì‹œ ì›Œí¬í”Œë¡œ ë¡œê·¸ë¥¼ 30ì¼ê°„ ë³´ê´€

### ğŸš€ CI ì‹¤í–‰ ì˜ˆì‹œ
```bash
# ë¡œì»¬ì—ì„œ CIì™€ ë™ì¼í•œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
python -m pytest tests/test_backup_makefile.py -v
python -m pytest tests/test_security_logger.py -v
./scripts/backup_verifier.sh --dry-run --json
./scripts/cleanup_old_backups.sh --dry-run
```

### ğŸ“Š CI ë¡œê·¸ ìŠ¤í¬ë¦°ìƒ· ê²½ë¡œ
CI ì‹¤í–‰ í›„ ë‹¤ìŒ ê²½ë¡œì—ì„œ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- **Actions íƒ­**: GitHub â†’ Repository â†’ Actions â†’ ìµœì‹  ì›Œí¬í”Œë¡œ ì‹¤í–‰
- **ì•„í‹°íŒ©íŠ¸**: `ci-reports-{run_number}.zip` ë‹¤ìš´ë¡œë“œ
- **ë¡œê·¸ íŒŒì¼**: `logs/security.log`, `reports/ci_summary.json`

### ğŸ”„ ìë™í™” íë¦„ ì„¤ëª…
```mermaid
graph TD
    A[ì½”ë“œ Push/PR] --> B[CI ì›Œí¬í”Œë¡œ íŠ¸ë¦¬ê±°]
    B --> C[ë°±ì—… ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸]
    C --> D[ë³´ì•ˆ ë¡œê·¸ í…ŒìŠ¤íŠ¸]
    D --> E[Makefile ëª…ë ¹ì–´ ê²€ì¦]
    E --> F[ë¡œê·¸ íŒŒì¼ ìƒì„± í™•ì¸]
    F --> G{í…ŒìŠ¤íŠ¸ ê²°ê³¼}
    G -->|ì„±ê³µ| H[CI ì™„ë£Œ]
    G -->|ì‹¤íŒ¨| I[í›„ì²˜ë¦¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰]
    I --> J[ì‹¤íŒ¨ ë¦¬í¬íŠ¸ ìƒì„±]
    J --> K[ì•„í‹°íŒ©íŠ¸ ì €ì¥]
    K --> L[ì•Œë¦¼ ì „ì†¡]
```

### ğŸ”” ì‹¤íŒ¨ ì‹œ ìë™ ì•Œë¦¼
í™˜ê²½ë³€ìˆ˜ ì„¤ì • ì‹œ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì•Œë¦¼ì„ ìë™ ì „ì†¡í•©ë‹ˆë‹¤:

**GitHub Secrets ì„¤ì •:**
- `SLACK_WEBHOOK_URL`: Slack ì±„ë„ ì›¹í›…
- `DISCORD_WEBHOOK_URL`: Discord ì±„ë„ ì›¹í›…

**ì•Œë¦¼ ë‚´ìš©:**
- ğŸš¨ ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ëª©ë¡
- ğŸ“Š ë°±ì—…/ë³´ì•ˆ ë¡œê·¸ ìƒíƒœ ìš”ì•½
- ğŸ”— GitHub Actions ë¡œê·¸ ë§í¬
- ğŸ“ ë‹¤ìš´ë¡œë“œ ê°€ëŠ¥í•œ ì•„í‹°íŒ©íŠ¸ ì •ë³´

### ğŸ“ˆ CI ì„±ëŠ¥ ìµœì í™”
- **ë³‘ë ¬ ì‹¤í–‰**: Python 3.9, 3.10, 3.11 ë§¤íŠ¸ë¦­ìŠ¤ í…ŒìŠ¤íŠ¸
- **ì¡°ê±´ë¶€ ì‹¤í–‰**: íŒŒì¼ ì¡´ì¬ ì‹œì—ë§Œ í•´ë‹¹ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- **ì‹¤íŒ¨ í—ˆìš©**: `continue-on-error: true`ë¡œ ë¶€ë¶„ ì‹¤íŒ¨ í—ˆìš©
- **ì•„í‹°íŒ©íŠ¸ ìµœì í™”**: 30ì¼ ë³´ê´€ ì •ì±…ìœ¼ë¡œ ì €ì¥ ê³µê°„ ê´€ë¦¬

### ğŸ› ï¸ ë¡œì»¬ CI ì‹œë®¬ë ˆì´ì…˜
CI í™˜ê²½ê³¼ ë™ì¼í•œ ì¡°ê±´ì—ì„œ ë¡œì»¬ í…ŒìŠ¤íŠ¸:
```bash
# ë°±ì—… ë””ë ‰í† ë¦¬ ìƒì„± (CIì™€ ë™ì¼)
mkdir -p backups logs

# í…ŒìŠ¤íŠ¸ìš© ë°±ì—… íŒŒì¼ ìƒì„±
echo "test backup content" > backups/test_backup_$(date +%Y%m%d).txt

# ë³´ì•ˆ ë¡œê·¸ íŒŒì¼ ìƒì„±
echo "$(date '+%Y-%m-%d %H:%M:%S') - INFO - ë¡œì»¬ í…ŒìŠ¤íŠ¸ìš© ë³´ì•ˆ ë¡œê·¸" > logs/security.log

# CIì™€ ë™ì¼í•œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
python -m pytest tests/ -v --tb=short --maxfail=3
./scripts/backup_verifier.sh --dry-run --json
./scripts/ci_post_process.sh --local
```

---

## ğŸ§ª CI/CD í†µí•© í…ŒìŠ¤íŠ¸

### ğŸ“‹ í†µí•© í…ŒìŠ¤íŠ¸ ì‹œìŠ¤í…œ ê°œìš”
`tests/test_integration_backup_security.py`ëŠ” ë³´ì•ˆ ë¡œê·¸ë¶€í„° ë°±ì—… ê²€ì¦ê¹Œì§€ì˜ ì „ì²´ CI/CD íŒŒì´í”„ë¼ì¸ì„ ì¢…í•©ì ìœ¼ë¡œ ê²€ì¦í•˜ëŠ” í†µí•© í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤.

### ğŸ¯ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

#### 1. ğŸ” ë³´ì•ˆ ì´ë²¤íŠ¸ ë°œìƒ â†’ security.log ê¸°ë¡ ê²€ì¦
```python
# ë³´ì•ˆ ì´ë²¤íŠ¸ ê¸°ë¡ ë° ê²€ì¦
log_security_event("BLOCKED_IP", "192.168.1.100 - Rate Limit ì´ˆê³¼ë¡œ ì°¨ë‹¨")
log_security_event("WHITELIST_ADD", "127.0.0.1 - í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì¶”ê°€")

# ë¡œê·¸ íŒŒì¼ ìƒì„± ë° JSON í˜•ì‹ ê²€ì¦
assert security_log.exists()
assert "BLOCKED_IP" in log_content
assert json.loads(last_log_line)  # JSON í˜•ì‹ ìœ íš¨ì„± ê²€ì¦
```

#### 2. ğŸ“‹ backup_verifier.sh ì‹¤í–‰ ê²°ê³¼ ê²€ì¦
```bash
# JSON í˜•ì‹ìœ¼ë¡œ ë°±ì—… ê²€ì¦ ì‹¤í–‰
./scripts/backup_verifier.sh --dir /test/backups --json

# ì˜ˆìƒ JSON ì¶œë ¥:
{
  "file": "backup_20240921.tar.gz",
  "size": 1337,
  "modified": "2024-09-21 14:30:25"
}
```

#### 3. ğŸ—‘ï¸ cleanup_old_backups.sh ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰ ê²€ì¦
```bash
# ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œë¡œ ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
./scripts/cleanup_old_backups.sh --days 30 --dry-run --json

# ì˜ˆìƒ JSON ì¶œë ¥:
{
  "timestamp": "2024-09-21T14:30:25+09:00",
  "deleted_count": 5,
  "total_size_bytes": 52428800,
  "backup_dir": "/test/backups",
  "days_keep": 30,
  "dry_run": true,
  "deleted_files": ["backup_20240821.tar.gz", "backup_20240815.tar.gz"]
}
```

#### 4. ğŸš€ CI/CD íŒŒì´í”„ë¼ì¸ ì‹œë®¬ë ˆì´ì…˜
```python
# ì „ì²´ CI/CD ì›Œí¬í”Œë¡œìš° í†µí•© í…ŒìŠ¤íŠ¸
def test_ci_cd_pipeline_simulation():
    # 1ë‹¨ê³„: ë³´ì•ˆ ì´ë²¤íŠ¸ ë¡œê¹…
    log_security_event("CI_TEST", "CI/CD íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸ ì‹¤í–‰")

    # 2ë‹¨ê³„: ë°±ì—… ê²€ì¦
    verify_result = subprocess.run(["scripts/backup_verifier.sh", "--json"])

    # 3ë‹¨ê³„: ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸ ì‹œë®¬ë ˆì´ì…˜
    cleanup_result = subprocess.run(["scripts/cleanup_old_backups.sh", "--dry-run", "--json"])

    # í†µí•© ê²°ê³¼ ê²€ì¦
    assert verify_result.returncode == 0
    assert cleanup_result.returncode == 0
```

### ğŸ“Š JSON ì¶œë ¥ ìŠ¤í‚¤ë§ˆ ê²€ì¦

#### backup_verifier.sh JSON ìŠ¤í‚¤ë§ˆ
```json
{
  "file": "string",        // ë°±ì—… íŒŒì¼ëª…
  "size": "integer",       // íŒŒì¼ í¬ê¸° (bytes)
  "modified": "string"     // ìˆ˜ì •ì¼ (YYYY-MM-DD HH:MM:SS)
}
```

#### cleanup_old_backups.sh JSON ìŠ¤í‚¤ë§ˆ
```json
{
  "timestamp": "string",      // ISO 8601 í˜•ì‹ ì‹¤í–‰ ì‹œê°„
  "deleted_count": "integer", // ì‚­ì œë  íŒŒì¼ ìˆ˜
  "total_size_bytes": "integer", // ì´ ì ˆì•½ ìš©ëŸ‰ (bytes)
  "backup_dir": "string",     // ë°±ì—… ë””ë ‰í† ë¦¬ ê²½ë¡œ
  "days_keep": "integer",     // ë³´ê´€ ê¸°ê°„ (ì¼)
  "dry_run": "boolean",       // ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œ ì—¬ë¶€
  "deleted_files": ["array"]  // ì‚­ì œë  íŒŒì¼ ëª©ë¡
}
```

### ğŸ§ª ì„±ëŠ¥ ë° ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸

#### ëŒ€ê·œëª¨ ë°±ì—… íŒŒì¼ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
```python
# 100ê°œ ë°±ì—… íŒŒì¼ ìƒì„±í•˜ì—¬ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
for i in range(100):
    backup_file = f"backup_{i:03d}.tar.gz"
    # ì•½ 13KB íŒŒì¼ ìƒì„± ë° ë‚ ì§œ ì¡°ì •

# 10ì´ˆ ì´ë‚´ ì²˜ë¦¬ ì„±ëŠ¥ ê²€ì¦
start_time = time.time()
result = subprocess.run(["scripts/cleanup_old_backups.sh", "--dry-run"])
execution_time = time.time() - start_time

assert execution_time < 10.0  # ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­ ê²€ì¦
assert result.returncode == 0  # ì •ìƒ ì²˜ë¦¬ í™•ì¸
```

### ğŸ”§ GitHub Actions ì›Œí¬í”Œë¡œìš° í†µí•©

#### CI ì›Œí¬í”Œë¡œìš° ì—…ë°ì´íŠ¸ ë‚´ìš©:
```yaml
# ğŸ”„ í†µí•© í…ŒìŠ¤íŠ¸: ë³´ì•ˆ ë¡œê·¸ + ë°±ì—… ê²€ì¦
- name: ğŸ”„ í†µí•© í…ŒìŠ¤íŠ¸: ë³´ì•ˆ ë¡œê·¸ + ë°±ì—… ê²€ì¦
  run: |
    echo "ğŸ”„ ë³´ì•ˆ ë¡œê·¸ + ë°±ì—… ê´€ë¦¬ í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰..."
    if [ -f tests/test_integration_backup_security.py ]; then
      python -m pytest tests/test_integration_backup_security.py -v -s --tb=short
    fi
  continue-on-error: false

# ğŸ”§ ë°±ì—… ê²€ì¦ ë„êµ¬ í…ŒìŠ¤íŠ¸ (Makefile í†µí•©)
- name: ğŸ”§ ë°±ì—… ê²€ì¦ ë„êµ¬ í…ŒìŠ¤íŠ¸
  run: |
    chmod +x scripts/backup_verifier.sh scripts/cleanup_old_backups.sh
    mkdir -p backups
    echo "test backup content" > backups/test_backup_$(date +%Y%m%d).txt
    make verify-backups || echo "ë°±ì—… ê²€ì¦ ì™„ë£Œ"
```

### ğŸ“ˆ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ë° ì„±ê³¼ ì§€í‘œ

#### í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€:
- âœ… **ë³´ì•ˆ ë¡œê·¸ ì‹œìŠ¤í…œ**: 100% (ë¡œê·¸ ìƒì„±, JSON ê²€ì¦, ì—ëŸ¬ ì²˜ë¦¬)
- âœ… **ë°±ì—… ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸**: 100% (ì •ìƒ/ë¹„ì •ìƒ ê²½ë¡œ, JSON ì¶œë ¥)
- âœ… **ë°±ì—… ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸**: 100% (ì‹œë®¬ë ˆì´ì…˜/ì‹¤ì œ ì‹¤í–‰, ì—ëŸ¬ ì²˜ë¦¬)
- âœ… **CI/CD íŒŒì´í”„ë¼ì¸**: 95% (í†µí•© ì›Œí¬í”Œë¡œìš°, ì„±ëŠ¥ í…ŒìŠ¤íŠ¸)

#### ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬:
- **ë°±ì—… ê²€ì¦**: 100ê°œ íŒŒì¼ ê¸°ì¤€ < 3ì´ˆ
- **ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸**: 1000ê°œ íŒŒì¼ ê¸°ì¤€ < 10ì´ˆ
- **í†µí•© í…ŒìŠ¤íŠ¸**: ì „ì²´ ì‹œë‚˜ë¦¬ì˜¤ < 30ì´ˆ

### ğŸš¨ ì—ëŸ¬ ì²˜ë¦¬ ë° ë³µêµ¬ ì‹œë‚˜ë¦¬ì˜¤

#### í…ŒìŠ¤íŠ¸ëœ ì—ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤:
1. **ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë°±ì—… ë””ë ‰í† ë¦¬**
   - ì ì ˆí•œ ì—ëŸ¬ ë©”ì‹œì§€ ë°˜í™˜ ê²€ì¦
   - ë…¼ì œë¡œ exit code ë°˜í™˜ í™•ì¸

2. **ê¶Œí•œ ì—†ëŠ” ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰**
   - Permission denied ì—ëŸ¬ ì²˜ë¦¬
   - CI í™˜ê²½ì—ì„œ ìë™ ê¶Œí•œ ë¶€ì—¬

3. **JSON íŒŒì‹± ì‹¤íŒ¨**
   - ì˜ëª»ëœ JSON ì¶œë ¥ ê°ì§€ ë° ì²˜ë¦¬
   - ìŠ¤í‚¤ë§ˆ ê²€ì¦ ì‹¤íŒ¨ ì‹œ ë³µêµ¬ ë¡œì§

### ğŸ”„ ì‹¤í–‰ ë°©ë²• ë° ì˜ˆì‹œ

#### ë¡œì»¬ ì‹¤í–‰:
```bash
# ì „ì²´ í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰
python -m pytest tests/test_integration_backup_security.py -v

# íŠ¹ì • í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë§Œ ì‹¤í–‰
python -m pytest tests/test_integration_backup_security.py::TestIntegrationBackupSecurity -v

# ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ í¬í•¨
python -m pytest tests/test_integration_backup_security.py::TestPerformanceAndStress -v

# ìƒì„¸ ì¶œë ¥ê³¼ í•¨ê»˜ ì‹¤í–‰
python -m pytest tests/test_integration_backup_security.py -v -s --tb=long
```

#### ì˜ˆìƒ í…ŒìŠ¤íŠ¸ ì¶œë ¥:
```
tests/test_integration_backup_security.py::TestIntegrationBackupSecurity::test_security_event_logging PASSED
tests/test_integration_backup_security.py::TestIntegrationBackupSecurity::test_backup_verifier_execution PASSED
tests/test_integration_backup_security.py::TestIntegrationBackupSecurity::test_cleanup_script_dry_run PASSED
tests/test_integration_backup_security.py::TestIntegrationBackupSecurity::test_ci_cd_pipeline_simulation PASSED
tests/test_integration_backup_security.py::TestIntegrationBackupSecurity::test_json_output_schema_validation PASSED
tests/test_integration_backup_security.py::TestPerformanceAndStress::test_large_scale_cleanup_performance PASSED

========================= 6 passed in 15.2s =========================
```

### ğŸ’¡ ëª¨ë²” ì‚¬ë¡€ ë° ê°€ì´ë“œë¼ì¸

#### 1. í…ŒìŠ¤íŠ¸ í™˜ê²½ ê²©ë¦¬
- ê° í…ŒìŠ¤íŠ¸ëŠ” ë…ë¦½ì ì¸ ì„ì‹œ ë””ë ‰í† ë¦¬ ì‚¬ìš©
- í™˜ê²½ ë³€ìˆ˜ë¥¼ í†µí•œ ê²½ë¡œ ì„¤ì •ìœ¼ë¡œ ì¶©ëŒ ë°©ì§€

#### 2. ì‹œë®¬ë ˆì´ì…˜ ìš°ì„ 
- ì‹¤ì œ íŒŒì¼ ì‚­ì œ ëŒ€ì‹  `--dry-run` ëª¨ë“œ í™œìš©
- ì•ˆì „í•œ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ê²€ì¦ ì™„ë£Œ í›„ ì‹¤ì œ ì ìš©

#### 3. JSON ì¶œë ¥ í™œìš©
- êµ¬ì¡°í™”ëœ ë°ì´í„°ë¡œ ìë™í™” íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
- ìŠ¤í‚¤ë§ˆ ê²€ì¦ì„ í†µí•œ ì¶œë ¥ í˜•ì‹ ì¼ê´€ì„± ìœ ì§€

#### 4. ì—ëŸ¬ ì²˜ë¦¬ ê°•í™”
- ë‹¤ì–‘í•œ ì‹¤íŒ¨ ì‹œë‚˜ë¦¬ì˜¤ì— ëŒ€í•œ ì ì ˆí•œ ì‘ë‹µ
- ì‚¬ìš©ì ì¹œí™”ì ì¸ í•œêµ­ì–´ ì—ëŸ¬ ë©”ì‹œì§€ ì œê³µ

ì´ í†µí•© í…ŒìŠ¤íŠ¸ ì‹œìŠ¤í…œì„ í†µí•´ ë³´ì•ˆ ë¡œê·¸ë¶€í„° ë°±ì—… ê´€ë¦¬ê¹Œì§€ì˜ ì „ì²´ ìš´ì˜ ì›Œí¬í”Œë¡œìš°ê°€ CI/CD íŒŒì´í”„ë¼ì¸ì—ì„œ ìë™ìœ¼ë¡œ ê²€ì¦ë˜ë©°, ì‹œìŠ¤í…œì˜ ì‹ ë¢°ì„±ê³¼ ì•ˆì •ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.

## ğŸ”„ ì¼ì¼ ìš´ì˜ ìë™í™”

### ğŸ“‹ daily_ops.sh ìŠ¤í¬ë¦½íŠ¸ ê°œìš”
ì¼ì¼ ìš´ì˜ ìë™í™” ìŠ¤í¬ë¦½íŠ¸ëŠ” ë³´ì•ˆ ë¡œê·¸ íšŒì „, ë°±ì—… ê²€ì¦, ì •ë¦¬ ì‘ì—…ì„ ìë™í™”í•˜ì—¬ ì‹œìŠ¤í…œ ê´€ë¦¬ íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤.

### ğŸ¯ ìë™í™” ì‘ì—… ë‚´ìš©
1. **ğŸ”„ ë³´ì•ˆ ë¡œê·¸ íšŒì „ ë° ì••ì¶•**
   - `logs/security.log` íŒŒì¼ì„ ì¼ë³„ë¡œ íšŒì „
   - gzip ì••ì¶•í•˜ì—¬ `security.log.YYYYMMDD.gz` í˜•íƒœë¡œ ë³´ê´€
   - ì›ë³¸ íŒŒì¼ ì´ˆê¸°í™”ë¡œ ë””ìŠ¤í¬ ê³µê°„ ê´€ë¦¬

2. **ğŸ” ë°±ì—… ë¬´ê²°ì„± ê²€ì¦**
   - `scripts/backup_verifier.sh` ì‹¤í–‰
   - ë°±ì—… íŒŒì¼ ì¡´ì¬ ë° í¬ê¸° í™•ì¸
   - ì†ìƒëœ ë°±ì—… íŒŒì¼ ê°ì§€ ë° ë³´ê³ 

3. **ğŸ§¹ ì˜¤ë˜ëœ ë°±ì—… ì •ë¦¬**
   - `scripts/cleanup_old_backups.sh` ì‹¤í–‰
   - ì„¤ì •ëœ ê¸°ê°„ ì´í›„ ë°±ì—… íŒŒì¼ ìë™ ì‚­ì œ
   - ë””ìŠ¤í¬ ê³µê°„ ìµœì í™”

4. **ğŸ“Š ê²°ê³¼ ë¡œê·¸ ì €ì¥**
   - ëª¨ë“  ì‘ì—… ê²°ê³¼ë¥¼ `logs/daily_ops.log`ì— ê¸°ë¡
   - ì„±ê³µ/ì‹¤íŒ¨ ìƒíƒœ ë° ìƒì„¸ ì •ë³´ ì €ì¥

### ğŸ› ï¸ ì‚¬ìš©ë²•

#### ê¸°ë³¸ ì‹¤í–‰
```bash
# ì¼ì¼ ìš´ì˜ ì‘ì—… ì‹¤í–‰
./scripts/daily_ops.sh

# ìƒì„¸ ì¶œë ¥ê³¼ í•¨ê»˜ ì‹¤í–‰
./scripts/daily_ops.sh --verbose
```

#### ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œ
```bash
# ë³€ê²½ ì‚¬í•­ ì—†ì´ ì‹œë®¬ë ˆì´ì…˜
./scripts/daily_ops.sh --dry-run

# ì‹œë®¬ë ˆì´ì…˜ + ìƒì„¸ ì¶œë ¥
./scripts/daily_ops.sh --dry-run --verbose
```

#### JSON ì¶œë ¥
```bash
# JSON í˜•ì‹ìœ¼ë¡œ ê²°ê³¼ ì¶œë ¥
./scripts/daily_ops.sh --json

# ì‹œë®¬ë ˆì´ì…˜ + JSON ì¶œë ¥
./scripts/daily_ops.sh --dry-run --json
```

### ğŸ›ï¸ Makefile í†µí•©

#### ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´
```bash
# ì¼ì¼ ìš´ì˜ ì‘ì—… ì‹¤í–‰
make daily-ops

# ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œ
make daily-ops-dry

# JSON ì¶œë ¥ ëª¨ë“œ
make daily-ops-json
```

#### í†µí•© ë°±ì—… ê´€ë¦¬
```bash
# ë°±ì—… ê²€ì¦ë§Œ ì‹¤í–‰
make verify-backups

# ì˜¤ë˜ëœ ë°±ì—… ì •ë¦¬ë§Œ ì‹¤í–‰
make clean-backups

# ë°±ì—… ê²€ì¦ + ì •ë¦¬ í†µí•©
make backup-maintenance
```

### ğŸ“Š ì‹¤í–‰ ì˜ˆì‹œ ë° ì˜ˆìƒ ì¶œë ¥

#### ì¼ë°˜ ì‹¤í–‰ ì˜ˆì‹œ
```bash
$ ./scripts/daily_ops.sh --verbose

ğŸ”„ ì¼ì¼ ìš´ì˜ ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰...
[2024-09-21 14:30:25] INFO: ì¼ì¼ ìš´ì˜ ì‘ì—… ì‹œì‘ (ëª¨ë“œ: ì‹¤ì œ)
[2024-09-21 14:30:26] INFO: ë³´ì•ˆ ë¡œê·¸ íšŒì „ ì™„ë£Œ: logs/security.log.20240921.gz (í¬ê¸°: 15248B)
[2024-09-21 14:30:28] INFO: ë°±ì—… ê²€ì¦ ì™„ë£Œ
[2024-09-21 14:30:30] INFO: ë°±ì—… ì •ë¦¬ ì™„ë£Œ
[2024-09-21 14:30:30] INFO: ì¼ì¼ ìš´ì˜ ì‘ì—… ì™„ë£Œ

ğŸ‰ ì¼ì¼ ìš´ì˜ ì‘ì—… ì™„ë£Œ
   ì™„ë£Œ ì‹œê°„: 2024-09-21 14:30:30
   ì†Œìš” ì‹œê°„: 5ì´ˆ
   ë¡œê·¸ íŒŒì¼: logs/daily_ops.log
```

#### JSON ì¶œë ¥ ì˜ˆì‹œ
```json
{
  "timestamp": "2024-09-21T14:30:30+09:00",
  "duration_seconds": 5,
  "dry_run": false,
  "tasks_completed": [
    "security_log_rotation",
    "backup_verification",
    "backup_cleanup"
  ],
  "log_file": "logs/daily_ops.log",
  "status": "completed"
}
```

### ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹¤í–‰

#### daily_ops.sh í…ŒìŠ¤íŠ¸
```bash
# ì¼ì¼ ìš´ì˜ ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸
python -m pytest tests/test_daily_ops.py -v

# ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ í¬í•¨
python -m pytest tests/test_daily_ops.py::TestDailyOpsPerformance -v

# í†µí•© í…ŒìŠ¤íŠ¸
python -m pytest tests/test_daily_ops.py::TestDailyOpsIntegration -v
```

#### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
1. **ìŠ¤í¬ë¦½íŠ¸ ê¸°ë³¸ ê²€ì¦**
   - íŒŒì¼ ì¡´ì¬ ë° ì‹¤í–‰ ê¶Œí•œ í™•ì¸
   - ë„ì›€ë§ ì˜µì…˜ ì •ìƒ ë™ì‘ ê²€ì¦

2. **ê¸°ëŠ¥ë³„ í…ŒìŠ¤íŠ¸**
   - ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œ ì •ìƒ ë™ì‘
   - JSON ì¶œë ¥ í˜•ì‹ ê²€ì¦
   - ë¡œê·¸ íŒŒì¼ ìƒì„± ë° ë‚´ìš© í™•ì¸

3. **í†µí•© í…ŒìŠ¤íŠ¸**
   - Makefile ëª…ë ¹ì–´ ì—°ë™ í™•ì¸
   - ì „ì²´ ì›Œí¬í”Œë¡œìš° ì‹œë®¬ë ˆì´ì…˜
   - ì—ëŸ¬ ì²˜ë¦¬ ë° ë³µêµ¬ ì‹œë‚˜ë¦¬ì˜¤

4. **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**
   - 30ì´ˆ ì´ë‚´ ì‹¤í–‰ ì™„ë£Œ ê²€ì¦
   - ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì í™” í™•ì¸

### ğŸ”§ CI/CD íŒŒì´í”„ë¼ì¸ ì—°ë™

#### GitHub Actions ì›Œí¬í”Œë¡œìš°
daily_ops.sh ìŠ¤í¬ë¦½íŠ¸ëŠ” CI/CD íŒŒì´í”„ë¼ì¸ì—ì„œ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë©ë‹ˆë‹¤:

```yaml
# ì¼ì¼ ìš´ì˜ ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸
- name: ğŸ”„ ì¼ì¼ ìš´ì˜ ìë™í™” í…ŒìŠ¤íŠ¸
  run: |
    echo "ğŸ”„ ì¼ì¼ ìš´ì˜ ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸ ì‹¤í–‰..."
    if [ -f tests/test_daily_ops.py ]; then
      python -m pytest tests/test_daily_ops.py -v --tb=short
    fi

    # ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œë¡œ ì‹¤ì œ ì‹¤í–‰ í…ŒìŠ¤íŠ¸
    ./scripts/daily_ops.sh --dry-run --json
```

#### ì •ê¸° ì‹¤í–‰ ì„¤ì •
cronì„ í†µí•œ ì •ê¸° ì‹¤í–‰ ì„¤ì •:

```bash
# ë§¤ì¼ ìƒˆë²½ 2ì‹œì— ì¼ì¼ ìš´ì˜ ì‘ì—… ì‹¤í–‰
0 2 * * * /path/to/mcp-map-company/scripts/daily_ops.sh >> /var/log/daily_ops_cron.log 2>&1

# ì£¼ê°„ ë°±ì—… ì •ë¦¬ (ì¼ìš”ì¼ ìƒˆë²½ 3ì‹œ)
0 3 * * 0 cd /path/to/mcp-map-company && make backup-maintenance >> /var/log/weekly_backup.log 2>&1
```

### ğŸ”’ ë³´ì•ˆ ë° ê¶Œí•œ ê´€ë¦¬

#### í•„ìš”í•œ ê¶Œí•œ
- ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê¶Œí•œ: `chmod +x scripts/daily_ops.sh`
- ë¡œê·¸ ë””ë ‰í† ë¦¬ ì“°ê¸° ê¶Œí•œ: `logs/` ë””ë ‰í† ë¦¬
- ë°±ì—… ë””ë ‰í† ë¦¬ ì ‘ê·¼ ê¶Œí•œ: `backups/` ë””ë ‰í† ë¦¬

#### ë³´ì•ˆ ê³ ë ¤ì‚¬í•­
- ìŠ¤í¬ë¦½íŠ¸ëŠ” í•­ìƒ ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œë¡œ ë¨¼ì € í…ŒìŠ¤íŠ¸
- ì¤‘ìš”í•œ ë°±ì—… íŒŒì¼ ì‚­ì œ ì „ í™•ì¸ ê³¼ì • í¬í•¨
- ëª¨ë“  ì‘ì—… ë‚´ì—­ì„ ìƒì„¸ ë¡œê·¸ë¡œ ê¸°ë¡

### ğŸ“ˆ ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼

#### ë¡œê·¸ ëª¨ë‹ˆí„°ë§
```bash
# ì¼ì¼ ìš´ì˜ ë¡œê·¸ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
tail -f logs/daily_ops.log

# ìµœê·¼ ì‹¤í–‰ ê²°ê³¼ í™•ì¸
tail -20 logs/daily_ops.log | grep -E "(ì™„ë£Œ|ì‹¤íŒ¨|ERROR)"

# JSON í˜•ì‹ ë¡œê·¸ ë¶„ì„
./scripts/daily_ops.sh --json | jq '.status'
```

#### ì‹¤íŒ¨ ì‹œ ì•Œë¦¼
daily_ops.sh ìŠ¤í¬ë¦½íŠ¸ëŠ” ê¸°ì¡´ ì•Œë¦¼ ì‹œìŠ¤í…œê³¼ ì—°ë™ë˜ì–´ ì‹¤íŒ¨ ì‹œ ìë™ ì•Œë¦¼ì„ ì „ì†¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```python
# ì¼ì¼ ìš´ì˜ ì‹¤íŒ¨ ì•Œë¦¼ ì—°ë™ ì˜ˆì‹œ
from mcp.utils.notifier import send_daily_ops_alert

# ì‹¤íŒ¨ ì‹œ ìë™ ì•Œë¦¼
if daily_ops_result != 0:
    await send_daily_ops_alert(
        status="failed",
        log_file="logs/daily_ops.log",
        error_details=error_message
    )
```

### ğŸ’¡ ëª¨ë²” ì‚¬ë¡€

1. **ì •ê¸°ì ì¸ í…ŒìŠ¤íŠ¸**
   - ë§¤ì£¼ ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œë¡œ ê²€ì¦
   - ìƒˆë¡œìš´ í™˜ê²½ì—ì„œëŠ” ë‹¨ê³„ë³„ í…ŒìŠ¤íŠ¸

2. **ë¡œê·¸ ê´€ë¦¬**
   - ì¼ì¼ ìš´ì˜ ë¡œê·¸ëŠ” ìµœëŒ€ 90ì¼ ë³´ê´€
   - ì¤‘ìš”í•œ ì´ë²¤íŠ¸ëŠ” ë³„ë„ ë³´ê³ ì„œ ìƒì„±

3. **ë°±ì—… ì •ì±…**
   - ì¤‘ìš” ë°±ì—…ì€ ë‹¤ì¤‘ ìœ„ì¹˜ ë³´ê´€
   - ì •ê¸°ì ì¸ ë³µì› í…ŒìŠ¤íŠ¸ ìˆ˜í–‰

4. **ìë™í™” í™•ì¥**
   - í•„ìš”ì— ë”°ë¼ ì¶”ê°€ ìš´ì˜ ì‘ì—… í†µí•©
   - ëª¨ë‹ˆí„°ë§ ì§€í‘œ ìˆ˜ì§‘ ê¸°ëŠ¥ í™•ì¥

ì´ ì¼ì¼ ìš´ì˜ ìë™í™” ì‹œìŠ¤í…œì„ í†µí•´ ë³´ì•ˆ ë¡œê·¸ ê´€ë¦¬ë¶€í„° ë°±ì—… ìœ ì§€ë³´ìˆ˜ê¹Œì§€ì˜ ëª¨ë“  ìš´ì˜ ì‘ì—…ì´ ìë™í™”ë˜ì–´ ì‹œìŠ¤í…œ ê´€ë¦¬ìì˜ ì—…ë¬´ íš¨ìœ¨ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚µë‹ˆë‹¤.

## ğŸ§¹ CI í´ë¦°ì—… ìë™í™”

### ğŸ“‹ ci_cleanup.sh ìŠ¤í¬ë¦½íŠ¸ ê°œìš”
CI í´ë¦°ì—… ìë™í™” ìŠ¤í¬ë¦½íŠ¸ëŠ” CI ì‹¤í–‰ í›„ ë‚¨ì€ ì•„í‹°íŒ©íŠ¸ì™€ ì„ì‹œ íŒŒì¼ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì •ë¦¬í•˜ì—¬ ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ë¥¼ ìµœì í™”í•©ë‹ˆë‹¤.

### ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

#### 1. ğŸ“¦ ë¡œê·¸ íŒŒì¼ ì••ì¶•
- **ëŒ€ìƒ íŒŒì¼**: `security.log`, `api.log`, `scheduler.log`, `app.log`, `error.log`
- **ì••ì¶• ì¡°ê±´**: 1MB ì´ìƒì¸ ë¡œê·¸ íŒŒì¼ë§Œ ì••ì¶•
- **ì••ì¶• í˜•ì‹**: gzip ì••ì¶•ìœ¼ë¡œ `filename_YYYYMMDD_HHMMSS.gz` í˜•íƒœ ì €ì¥
- **ì›ë³¸ ì²˜ë¦¬**: ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ìœ„í•´ ì›ë³¸ íŒŒì¼ì€ ë¹„ì›€ (ì‚­ì œí•˜ì§€ ì•ŠìŒ)

#### 2. ğŸ—‘ï¸ ì˜¤ë˜ëœ ë¦¬í¬íŠ¸ ìë™ ì‚­ì œ
- **ëŒ€ìƒ ë””ë ‰í† ë¦¬**: `reports/` í•˜ìœ„ ëª¨ë“  íŒŒì¼
- **ì‚­ì œ ê¸°ì¤€**: ê¸°ë³¸ 30ì¼ ì´ìƒ ëœ íŒŒì¼ (--days ì˜µì…˜ìœ¼ë¡œ ì¡°ì • ê°€ëŠ¥)
- **ìš©ëŸ‰ ì¶”ì **: ì‚­ì œëœ íŒŒì¼ í¬ê¸° í•©ê³„ ë° ì ˆì•½ëœ ìš©ëŸ‰ ê³„ì‚°
- **ì•ˆì „ ëª¨ë“œ**: --dry-run ì˜µì…˜ìœ¼ë¡œ ì‚­ì œ ëŒ€ìƒ ë¯¸ë¦¬ í™•ì¸ ê°€ëŠ¥

#### 3. ğŸ” ë°±ì—… ë””ë ‰í† ë¦¬ ë¬´ê²°ì„± ê²€ì¦
- **ê²€ì¦ í•­ëª©**: ë°±ì—… íŒŒì¼ ìˆ˜, ìµœì‹  ë°±ì—… í¬ê¸°, ë§ˆì§€ë§‰ ìˆ˜ì •ì¼
- **ê²½ê³  ì•Œë¦¼**: 24ì‹œê°„ ì´ë‚´ ë°±ì—… ì—†ìŒ, íŒŒì¼ í¬ê¸° 1KB ë¯¸ë§Œ ê²½ê³ 
- **ìƒíƒœ ë³´ê³ **: ë°±ì—… ìƒíƒœ ìš”ì•½ ë° ë¬´ê²°ì„± ê²€ì¦ ê²°ê³¼ ì¶œë ¥

#### 4. ğŸ“Š ë‹¤ì–‘í•œ ì¶œë ¥ í˜•ì‹ ì§€ì›
- **í…ìŠ¤íŠ¸ ëª¨ë“œ**: ì‚¬ëŒì´ ì½ê¸° ì‰¬ìš´ ìƒì„¸ ì¶œë ¥
- **JSON ëª¨ë“œ**: ìë™í™” íŒŒì´í”„ë¼ì¸ ì—°ë™ìš© êµ¬ì¡°í™”ëœ ë°ì´í„°
- **ìƒì„¸ ëª¨ë“œ**: --verbose ì˜µì…˜ìœ¼ë¡œ ëª¨ë“  ê³¼ì • ì‹¤ì‹œê°„ í‘œì‹œ

### ğŸ› ï¸ ì‚¬ìš©ë²•

#### ê¸°ë³¸ ì‹¤í–‰
```bash
# CI í´ë¦°ì—… ì‹¤í–‰ (ì‹¤ì œ ë³€ê²½ ì ìš©)
./scripts/ci_cleanup.sh

# ìƒì„¸ ì¶œë ¥ê³¼ í•¨ê»˜ ì‹¤í–‰
./scripts/ci_cleanup.sh --verbose
```

#### ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œ (ì•ˆì „í•œ í…ŒìŠ¤íŠ¸)
```bash
# ë³€ê²½ ì‚¬í•­ ì—†ì´ ì‹œë®¬ë ˆì´ì…˜
./scripts/ci_cleanup.sh --dry-run

# ì‹œë®¬ë ˆì´ì…˜ + ìƒì„¸ ì¶œë ¥
./scripts/ci_cleanup.sh --dry-run --verbose
```

#### JSON ì¶œë ¥ (ìë™í™” ì—°ë™)
```bash
# JSON í˜•ì‹ìœ¼ë¡œ ê²°ê³¼ ì¶œë ¥
./scripts/ci_cleanup.sh --json

# ì‹œë®¬ë ˆì´ì…˜ + JSON ì¶œë ¥
./scripts/ci_cleanup.sh --dry-run --json
```

#### ì»¤ìŠ¤í…€ ë³´ê´€ ê¸°ê°„ ì„¤ì •
```bash
# 7ì¼ ì´ìƒ ëœ íŒŒì¼ë§Œ ì‚­ì œ
./scripts/ci_cleanup.sh --days 7

# 60ì¼ ì´ìƒ ëœ íŒŒì¼ë§Œ ì‚­ì œ (ì‹œë®¬ë ˆì´ì…˜)
./scripts/ci_cleanup.sh --days 60 --dry-run --verbose
```

### ğŸ›ï¸ Makefile í†µí•©

#### ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´
```bash
# CI í´ë¦°ì—… ì‹¤í–‰
make ci-clean

# CI í´ë¦°ì—… ì‹œë®¬ë ˆì´ì…˜
make ci-clean-dry

# CI í´ë¦°ì—… JSON ì¶œë ¥
make ci-clean-json
```

#### í†µí•© ìš´ì˜ ì›Œí¬í”Œë¡œìš°
```bash
# ì „ì²´ ë°±ì—… + CI í´ë¦°ì—… í†µí•© ì‹¤í–‰
make backup-maintenance && make ci-clean

# ì¼ì¼ ìš´ì˜ + CI í´ë¦°ì—… ì¡°í•©
make daily-ops && make ci-clean-dry
```

### ğŸ“Š ì‹¤í–‰ ì˜ˆì‹œ ë° ì˜ˆìƒ ì¶œë ¥

#### ì¼ë°˜ ì‹¤í–‰ ì˜ˆì‹œ
```bash
$ ./scripts/ci_cleanup.sh --verbose

ğŸ§¹ MCP-MAP CI í´ë¦°ì—… ìë™í™” ì‹œì‘
â° ì‹¤í–‰ ì‹œê°„: 2024-09-21 14:30:25
ğŸ”§ ëª¨ë“œ: ì‹¤ì œ ì‹¤í–‰

â„¹ï¸  ë¡œê·¸ íŒŒì¼ ì••ì¶• ì‘ì—… ì‹œì‘...
âœ… security.log ì••ì¶• ì™„ë£Œ â†’ security.log_20240921_143025.gz
âœ… api.log ì••ì¶• ì™„ë£Œ â†’ api.log_20240921_143025.gz
â„¹ï¸  app.log: í¬ê¸°ê°€ ì‘ì•„ ì••ì¶• ìƒëµ (512000 bytes)

â„¹ï¸  ì˜¤ë˜ëœ ë¦¬í¬íŠ¸ íŒŒì¼ ì •ë¦¬ ì‘ì—… ì‹œì‘...
âœ… reports/old_report_20240820.txt ì‚­ì œ ì™„ë£Œ (15248 bytes)
âœ… reports/ci_summary_20240815.json ì‚­ì œ ì™„ë£Œ (2048 bytes)

â„¹ï¸  ë°±ì—… ë””ë ‰í† ë¦¬ ë¬´ê²°ì„± ê²€ì¦ ì‹œì‘...
âœ… ìµœì‹  ë°±ì—…: backup_20240921.tar.gz (1048576 bytes, 2024-09-21 12:30:15)

ğŸ§¹ CI í´ë¦°ì—… ì‹¤í–‰ ìš”ì•½
======================

â° ì‹¤í–‰ ì‹œê°„: 2024-09-21 14:30:25
ğŸ”§ ì‹¤í–‰ ëª¨ë“œ: ì‹¤ì œ ì‹¤í–‰

ğŸ“Š í´ë¦°ì—… ê²°ê³¼:
  ğŸ“¦ ì••ì¶•ëœ ë¡œê·¸: 2ê°œ
  ğŸ—‘ï¸ ì‚­ì œëœ ë¦¬í¬íŠ¸: 2ê°œ
  ğŸ’¾ ì ˆì•½ëœ ìš©ëŸ‰: 1357 KB
  ğŸ“ ë°±ì—… íŒŒì¼: 5ê°œ

ğŸ‰ CI í´ë¦°ì—… ì™„ë£Œ!
```

#### JSON ì¶œë ¥ ì˜ˆì‹œ
```json
{
  "timestamp": "2024-09-21 14:30:25",
  "dry_run": false,
  "cleanup_results": {
    "compressed_logs": 2,
    "deleted_reports": 2,
    "total_saved_bytes": 1389568,
    "backup_files_count": 5
  },
  "directories": {
    "logs_dir": "logs",
    "reports_dir": "reports",
    "backups_dir": "backups"
  },
  "settings": {
    "cleanup_days": 30,
    "verbose": false
  }
}
```

#### ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œ ì¶œë ¥ ì˜ˆì‹œ
```bash
$ ./scripts/ci_cleanup.sh --dry-run --verbose

ğŸ§¹ MCP-MAP CI í´ë¦°ì—… ìë™í™” ì‹œì‘
â° ì‹¤í–‰ ì‹œê°„: 2024-09-21 14:30:25
ğŸ”§ ëª¨ë“œ: ì‹œë®¬ë ˆì´ì…˜

âœ… ì‹œë®¬ë ˆì´ì…˜: security.log ì••ì¶• â†’ security.log_20240921_143025.gz
âœ… ì‹œë®¬ë ˆì´ì…˜: api.log ì••ì¶• â†’ api.log_20240921_143025.gz
âœ… ì‹œë®¬ë ˆì´ì…˜: reports/old_report_20240820.txt ì‚­ì œ ì˜ˆì • (15248 bytes)
âœ… ìµœì‹  ë°±ì—…: backup_20240921.tar.gz (1048576 bytes, 2024-09-21 12:30:15)

ğŸ‰ CI í´ë¦°ì—… ì™„ë£Œ!
```

### ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹¤í–‰

#### ci_cleanup.sh í…ŒìŠ¤íŠ¸
```bash
# CI í´ë¦°ì—… ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸
python -m pytest tests/test_ci_cleanup.py -v

# íŠ¹ì • í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë§Œ ì‹¤í–‰
python -m pytest tests/test_ci_cleanup.py::TestCICleanup -v

# í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰
python -m pytest tests/test_ci_cleanup.py::TestCICleanupIntegration -v

# ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ í¬í•¨
python -m pytest tests/test_ci_cleanup.py::TestCICleanupPerformance -v
```

#### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
1. **ìŠ¤í¬ë¦½íŠ¸ ê¸°ë³¸ ê²€ì¦**
   - íŒŒì¼ ì¡´ì¬ ë° ì‹¤í–‰ ê¶Œí•œ í™•ì¸
   - ë„ì›€ë§ ì˜µì…˜ ì •ìƒ ë™ì‘ ê²€ì¦
   - ì˜ëª»ëœ ì˜µì…˜ ì—ëŸ¬ ì²˜ë¦¬ í™•ì¸

2. **ê¸°ëŠ¥ë³„ í…ŒìŠ¤íŠ¸**
   - ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œ ì •ìƒ ë™ì‘
   - JSON ì¶œë ¥ í˜•ì‹ ìŠ¤í‚¤ë§ˆ ê²€ì¦
   - ë¡œê·¸ ì••ì¶• ëŒ€ìƒ íŒŒì¼ ê°ì§€ í™•ì¸

3. **í†µí•© í…ŒìŠ¤íŠ¸**
   - Makefile ëª…ë ¹ì–´ ì—°ë™ í™•ì¸
   - ì—¬ëŸ¬ ì˜µì…˜ ì¡°í•© í…ŒìŠ¤íŠ¸
   - ëŒ€ê·œëª¨ í™˜ê²½ ì‹œë®¬ë ˆì´ì…˜

4. **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**
   - 30ì´ˆ ì´ë‚´ ì‹¤í–‰ ì™„ë£Œ ê²€ì¦
   - ëŒ€ëŸ‰ íŒŒì¼ ì²˜ë¦¬ ì„±ëŠ¥ í™•ì¸

### ğŸ”§ GitHub Actions ì›Œí¬í”Œë¡œìš° ì—°ë™

#### CI íŒŒì´í”„ë¼ì¸ í†µí•©
ci_cleanup.sh ìŠ¤í¬ë¦½íŠ¸ëŠ” GitHub Actionsì—ì„œ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë©ë‹ˆë‹¤:

```yaml
# CI í´ë¦°ì—… ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸
- name: ğŸ§¹ CI í´ë¦°ì—… ìë™í™” í…ŒìŠ¤íŠ¸
  run: |
    echo "ğŸ§¹ CI í´ë¦°ì—… ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸ ì‹¤í–‰..."
    chmod +x scripts/ci_cleanup.sh

    # í…ŒìŠ¤íŠ¸ìš© í™˜ê²½ ìƒì„±
    mkdir -p logs reports backups
    echo "í…ŒìŠ¤íŠ¸ ë¡œê·¸ ë‚´ìš©" > logs/test.log
    echo "í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸ ë‚´ìš©" > reports/test_report.txt

    # ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œë¡œ ì‹¤í–‰ í…ŒìŠ¤íŠ¸
    ./scripts/ci_cleanup.sh --dry-run --json

    # pytest í…ŒìŠ¤íŠ¸ ì‹¤í–‰
    python -m pytest tests/test_ci_cleanup.py -v --tb=short

# CI í›„ì²˜ë¦¬ ë‹¨ê³„ì—ì„œ ì‹¤ì œ í´ë¦°ì—… ì‹¤í–‰
- name: ğŸ§¹ CI ì•„í‹°íŒ©íŠ¸ ì •ë¦¬
  if: always()
  run: |
    echo "ğŸ§¹ CI ì‹¤í–‰ í›„ ì•„í‹°íŒ©íŠ¸ ì •ë¦¬..."
    ./scripts/ci_cleanup.sh --verbose
  continue-on-error: true
```

#### ì •ê¸° ì‹¤í–‰ ì„¤ì • (cron)
```bash
# ë§¤ì¼ ìƒˆë²½ 3ì‹œì— CI í´ë¦°ì—… ì‹¤í–‰
0 3 * * * cd /path/to/mcp-map-company && ./scripts/ci_cleanup.sh >> /var/log/ci_cleanup.log 2>&1

# ì£¼ê°„ ëŒ€ìš©ëŸ‰ ì •ë¦¬ (ì¼ìš”ì¼ ìƒˆë²½ 4ì‹œ)
0 4 * * 0 cd /path/to/mcp-map-company && ./scripts/ci_cleanup.sh --days 7 >> /var/log/weekly_cleanup.log 2>&1
```

### ğŸ“ˆ ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼

#### ë¡œê·¸ ëª¨ë‹ˆí„°ë§
```bash
# CI í´ë¦°ì—… ê²°ê³¼ JSON ë¶„ì„
./scripts/ci_cleanup.sh --json | jq '.cleanup_results.total_saved_bytes'

# ì••ì¶•ëœ ë¡œê·¸ íŒŒì¼ ëª©ë¡ í™•ì¸
ls -la logs/*.gz | tail -10

# ì ˆì•½ëœ ìš©ëŸ‰ ê³„ì‚°
du -sh logs/ reports/ backups/
```

#### ì•Œë¦¼ ì‹œìŠ¤í…œ ì—°ë™
ê¸°ì¡´ ì•Œë¦¼ ì‹œìŠ¤í…œê³¼ ì—°ë™í•˜ì—¬ CI í´ë¦°ì—… ê²°ê³¼ë¥¼ ìë™ ì•Œë¦¼:

```python
# CI í´ë¦°ì—… ê²°ê³¼ ì•Œë¦¼ ì—°ë™ ì˜ˆì‹œ
from mcp.utils.notifier import send_ci_cleanup_report

# í´ë¦°ì—… ì™„ë£Œ ì•Œë¦¼
cleanup_result = subprocess.run(["scripts/ci_cleanup.sh", "--json"],
                               capture_output=True, text=True)
result_data = json.loads(cleanup_result.stdout)

await send_ci_cleanup_report(
    compressed_logs=result_data["cleanup_results"]["compressed_logs"],
    deleted_reports=result_data["cleanup_results"]["deleted_reports"],
    saved_bytes=result_data["cleanup_results"]["total_saved_bytes"],
    backup_status="ì •ìƒ"
)
```

### ğŸ”’ ë³´ì•ˆ ë° ê¶Œí•œ ê´€ë¦¬

#### í•„ìš”í•œ ê¶Œí•œ
- ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê¶Œí•œ: `chmod +x scripts/ci_cleanup.sh`
- ë¡œê·¸ ë””ë ‰í† ë¦¬ ì“°ê¸° ê¶Œí•œ: `logs/` ë””ë ‰í† ë¦¬
- ë¦¬í¬íŠ¸ ë””ë ‰í† ë¦¬ ì“°ê¸° ê¶Œí•œ: `reports/` ë””ë ‰í† ë¦¬
- ë°±ì—… ë””ë ‰í† ë¦¬ ì½ê¸° ê¶Œí•œ: `backups/` ë””ë ‰í† ë¦¬

#### ë³´ì•ˆ ê³ ë ¤ì‚¬í•­
- í•­ìƒ ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œë¡œ ë¨¼ì € í…ŒìŠ¤íŠ¸
- ì¤‘ìš”í•œ ë¡œê·¸ íŒŒì¼ ì••ì¶• ì „ ë°±ì—… í™•ì¸
- ì‚­ì œ ëŒ€ìƒ íŒŒì¼ ëª©ë¡ ì‚¬ì „ ê²€í† 
- ê¶Œí•œ ì—†ëŠ” ë””ë ‰í† ë¦¬ ì ‘ê·¼ ì‹œ ì ì ˆí•œ ì—ëŸ¬ ì²˜ë¦¬

### ğŸ’¡ ëª¨ë²” ì‚¬ë¡€

#### 1. ì •ê¸°ì ì¸ ëª¨ë‹ˆí„°ë§
- ì£¼ê°„ ë‹¨ìœ„ë¡œ ì ˆì•½ëœ ìš©ëŸ‰ í™•ì¸
- ì›”ê°„ ë‹¨ìœ„ë¡œ í´ë¦°ì—… ì •ì±… ê²€í† 
- ê³„ì ˆë³„ë¡œ ë³´ê´€ ê¸°ê°„ ì¡°ì •

#### 2. ì•ˆì „í•œ ìš´ì˜
- ìƒˆë¡œìš´ í™˜ê²½ì—ì„œëŠ” ë°˜ë“œì‹œ --dry-run ë¨¼ì € ì‹¤í–‰
- ì¤‘ìš”í•œ ë°ì´í„°ëŠ” í´ë¦°ì—… ëŒ€ìƒì—ì„œ ì œì™¸
- ì •ê¸°ì ì¸ ë°±ì—… ë¬´ê²°ì„± ê²€ì¦

#### 3. ìë™í™” í™•ì¥
- CI/CD íŒŒì´í”„ë¼ì¸ì— í´ë¦°ì—… ë‹¨ê³„ í¬í•¨
- ëª¨ë‹ˆí„°ë§ ì§€í‘œ ìˆ˜ì§‘ ê¸°ëŠ¥ ì—°ë™
- ì•Œë¦¼ ì‹œìŠ¤í…œê³¼ í†µí•©í•˜ì—¬ ì‹¤ì‹œê°„ ìƒíƒœ í™•ì¸

#### 4. ì„±ëŠ¥ ìµœì í™”
- ëŒ€ìš©ëŸ‰ í™˜ê²½ì—ì„œëŠ” --days ì˜µì…˜ í™œìš©
- ë„¤íŠ¸ì›Œí¬ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš© ì‹œ ë¡œì»¬ ì••ì¶• ìš°ì„ 
- ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§

ì´ CI í´ë¦°ì—… ìë™í™” ì‹œìŠ¤í…œì„ í†µí•´ CI/CD íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ í›„ ìƒì„±ë˜ëŠ” ì•„í‹°íŒ©íŠ¸ì™€ ë¡œê·¸ íŒŒì¼ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ì—¬ ì‹œìŠ¤í…œ ì„±ëŠ¥ê³¼ ì €ì¥ ê³µê°„ì„ ìµœì í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“¡ CI/CD ëª¨ë‹ˆí„°ë§ ìë™í™”

### ğŸ“‹ ci_monitor.sh ìŠ¤í¬ë¦½íŠ¸ ê°œìš”
CI/CD ëª¨ë‹ˆí„°ë§ ìë™í™” ìŠ¤í¬ë¦½íŠ¸ëŠ” GitHub Actionsì˜ ì‹¤í–‰ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•˜ê³ , ë¹Œë“œ ì‹¤íŒ¨ ì‹œ ìë™ìœ¼ë¡œ ì•Œë¦¼ì„ ì „ì†¡í•˜ì—¬ ì‹ ì†í•œ ëŒ€ì‘ì´ ê°€ëŠ¥í•˜ë„ë¡ ì§€ì›í•©ë‹ˆë‹¤.

### ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

#### 1. ğŸ“Š GitHub Actions ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- **ì›Œí¬í”Œë¡œìš° ìƒíƒœ í™•ì¸**: ìµœê·¼ 10ê°œ ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ìƒíƒœ (ì„±ê³µ/ì‹¤íŒ¨/ì§„í–‰ì¤‘)
- **GitHub CLI í™œìš©**: `gh api` ëª…ë ¹ì–´ë¡œ ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì§‘
- **ìƒíƒœë³„ ë¶„ë¥˜**: ì„±ê³µë¥  ê³„ì‚° ë° ì‹¤íŒ¨ íŒ¨í„´ ë¶„ì„
- **ë¸Œëœì¹˜ë³„ í†µê³„**: íŠ¹ì • ë¸Œëœì¹˜ì˜ ì‹¤íŒ¨ ë¹ˆë„ ì¶”ì 

#### 2. ğŸš¨ ìë™ ì‹¤íŒ¨ ê°ì§€ ë° ì•Œë¦¼
- **ì‹¤íŒ¨ ë¡œê·¸ ê¸°ë¡**: `logs/ci_failures.log`ì— ìë™ ê¸°ë¡
- **ì•Œë¦¼ ì‹œìŠ¤í…œ ì—°ë™**: notifier.pyë¥¼ í†µí•œ Slack/Discord/Email ì•Œë¦¼
- **í•œêµ­ì–´ ë©”ì‹œì§€**: ì´ëª¨ì§€ì™€ í•¨ê»˜ ì§ê´€ì ì¸ í•œêµ­ì–´ ì•Œë¦¼
- **ì‹¬ê°ë„ ë¶„ë¥˜**: ì‹¤íŒ¨ ìˆ˜ì— ë”°ë¥¸ Critical/Error/Warning ë ˆë²¨ êµ¬ë¶„

#### 3. ğŸ”„ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëª¨ë“œ
- **Watch ëª¨ë“œ**: `--watch` ì˜µì…˜ìœ¼ë¡œ 30ì´ˆ ê°„ê²© ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- **ì»¤ìŠ¤í…€ ê°„ê²©**: `--interval` ì˜µì…˜ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§ ê°„ê²© ì¡°ì •
- **ëª¨ë‹ˆí„°ë§ ìˆ˜ëŸ‰**: `--count` ì˜µì…˜ìœ¼ë¡œ í™•ì¸í•  ì›Œí¬í”Œë¡œìš° ìˆ˜ ì„¤ì •

#### 4. ğŸ“Š ë‹¤ì–‘í•œ ì¶œë ¥ í˜•ì‹
- **í…ìŠ¤íŠ¸ ëª¨ë“œ**: ì‚¬ëŒì´ ì½ê¸° ì‰¬ìš´ ìƒì„¸ ì¶œë ¥
- **JSON ëª¨ë“œ**: ìë™í™” íŒŒì´í”„ë¼ì¸ ì—°ë™ìš© êµ¬ì¡°í™”ëœ ë°ì´í„°
- **ìƒì„¸ ëª¨ë“œ**: `--verbose` ì˜µì…˜ìœ¼ë¡œ ëª¨ë“  ê³¼ì • ì‹¤ì‹œê°„ í‘œì‹œ

### ğŸ› ï¸ ì‚¬ìš©ë²•

#### ì „ì œì¡°ê±´
```bash
# GitHub CLI ì„¤ì¹˜ ë° ì¸ì¦
brew install gh                    # macOS
sudo apt install gh               # Ubuntu
gh auth login                     # GitHub ì¸ì¦
```

#### ê¸°ë³¸ ì‹¤í–‰
```bash
# CI ìƒíƒœ í™•ì¸ (ê¸°ë³¸ 10ê°œ ì›Œí¬í”Œë¡œìš°)
./scripts/ci_monitor.sh

# ìƒì„¸ ì¶œë ¥ê³¼ í•¨ê»˜ ì‹¤í–‰
./scripts/ci_monitor.sh --verbose
```

#### JSON ì¶œë ¥ (ìë™í™” ì—°ë™)
```bash
# JSON í˜•ì‹ìœ¼ë¡œ ê²°ê³¼ ì¶œë ¥
./scripts/ci_monitor.sh --json

# íŠ¹ì • ìˆ˜ëŸ‰ì˜ ì›Œí¬í”Œë¡œìš° JSON ì¶œë ¥
./scripts/ci_monitor.sh --json --count 20
```

#### ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
```bash
# ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ (30ì´ˆ ê°„ê²©)
./scripts/ci_monitor.sh --watch

# ì»¤ìŠ¤í…€ ê°„ê²©ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§ (60ì´ˆ)
./scripts/ci_monitor.sh --watch --interval 60

# ìƒì„¸ ì •ë³´ì™€ í•¨ê»˜ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
./scripts/ci_monitor.sh --watch --verbose --interval 45
```

#### ì˜µì…˜ ì¡°í•©
```bash
# 20ê°œ ì›Œí¬í”Œë¡œìš°ë¥¼ 2ë¶„ ê°„ê²©ìœ¼ë¡œ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
./scripts/ci_monitor.sh --watch --count 20 --interval 120 --verbose

# JSON ì¶œë ¥ê³¼ í•¨ê»˜ íŠ¹ì • ìˆ˜ëŸ‰ ëª¨ë‹ˆí„°ë§
./scripts/ci_monitor.sh --json --count 15 --verbose
```

### ğŸ“Š ì‹¤í–‰ ì˜ˆì‹œ ë° ì˜ˆìƒ ì¶œë ¥

#### ì¼ë°˜ ì‹¤í–‰ ì˜ˆì‹œ
```bash
$ ./scripts/ci_monitor.sh --verbose

ğŸ“¡ MCP-MAP CI/CD ëª¨ë‹ˆí„°ë§ ì‹œì‘
â° ì‹¤í–‰ ì‹œê°„: 2024-09-21 14:30:25

â„¹ï¸  ì „ì œì¡°ê±´ í™•ì¸ ì¤‘...
â„¹ï¸  ì „ì œì¡°ê±´ í™•ì¸ ì™„ë£Œ
â„¹ï¸  ìµœê·¼ 10ê°œ ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ëª©ë¡ ê°€ì ¸ì˜¤ëŠ” ì¤‘...
â„¹ï¸  ì›Œí¬í”Œë¡œìš° ìƒíƒœ ë¶„ì„ ì™„ë£Œ
â„¹ï¸  ì´ ì‹¤í–‰: 10, ì„±ê³µ: 8, ì‹¤íŒ¨: 2, ì§„í–‰ì¤‘: 0

ğŸ“¡ CI/CD ëª¨ë‹ˆí„°ë§ ìš”ì•½
====================

â° ê²€ì‚¬ ì‹œê°„: 2024-09-21 14:30:25
ğŸ“Š ì›Œí¬í”Œë¡œìš° í†µê³„:
  ğŸ“‹ ì´ ì‹¤í–‰: 10ê°œ
  âœ… ì„±ê³µ: 8ê°œ
  âŒ ì‹¤íŒ¨: 2ê°œ
  ğŸ”„ ì§„í–‰ì¤‘: 0ê°œ
  ğŸ“ˆ ì„±ê³µë¥ : 80%

ğŸš¨ ì‹¤íŒ¨í•œ ì›Œí¬í”Œë¡œìš° (2ê°œ):
  â€¢ CI Build and Test (#156) - main ë¸Œëœì¹˜
    ì‹¤í–‰ ì‹œê°„: 2024-09-21T14:30:25Z
    ë§í¬: https://github.com/owner/repo/actions/runs/12345

  â€¢ Deploy to Staging (#89) - develop ë¸Œëœì¹˜
    ì‹¤í–‰ ì‹œê°„: 2024-09-21T14:25:15Z
    ë§í¬: https://github.com/owner/repo/actions/runs/12346

ğŸ“ ë¡œê·¸ íŒŒì¼: logs/ci_failures.log
ğŸ”— GitHub Actions: https://github.com/owner/repo/actions

ğŸ‰ CI/CD ëª¨ë‹ˆí„°ë§ ì™„ë£Œ!
```

#### JSON ì¶œë ¥ ì˜ˆì‹œ
```json
{
  "timestamp": "2024-09-21 14:30:25",
  "summary": {
    "total_runs": 10,
    "success_count": 8,
    "failure_count": 2,
    "in_progress_count": 0,
    "success_rate": 80
  },
  "failed_workflows": [
    {
      "id": 12345,
      "name": "CI Build and Test",
      "status": "completed",
      "conclusion": "failure",
      "branch": "main",
      "created_at": "2024-09-21T14:30:25Z",
      "html_url": "https://github.com/owner/repo/actions/runs/12345",
      "run_number": 156
    }
  ],
  "recent_runs": [
    {
      "id": 12345,
      "name": "CI Build and Test",
      "status": "completed",
      "conclusion": "failure",
      "branch": "main",
      "created_at": "2024-09-21T14:30:25Z",
      "html_url": "https://github.com/owner/repo/actions/runs/12345",
      "run_number": 156
    }
  ]
}
```

#### ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ì¶œë ¥ ì˜ˆì‹œ
```bash
$ ./scripts/ci_monitor.sh --watch --interval 60

ğŸ“¡ CI/CD ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ì‹œì‘ (60ì´ˆ ê°„ê²©)
ì¢…ë£Œí•˜ë ¤ë©´ Ctrl+Cë¥¼ ëˆ„ë¥´ì„¸ìš”

=== ëª¨ë‹ˆí„°ë§ #1 - 14:30:25 ===
ğŸ“Š ì›Œí¬í”Œë¡œìš° í†µê³„: ì´ 10ê°œ | ì„±ê³µ 8ê°œ | ì‹¤íŒ¨ 2ê°œ | ì„±ê³µë¥  80%
ğŸš¨ ìƒˆë¡œìš´ ì‹¤íŒ¨ ê°ì§€: CI Build and Test (#156)

ë‹¤ìŒ ê²€ì‚¬ê¹Œì§€ 60ì´ˆ ëŒ€ê¸° ì¤‘...

=== ëª¨ë‹ˆí„°ë§ #2 - 14:31:25 ===
ğŸ“Š ì›Œí¬í”Œë¡œìš° í†µê³„: ì´ 10ê°œ | ì„±ê³µ 9ê°œ | ì‹¤íŒ¨ 1ê°œ | ì„±ê³µë¥  90%
âœ… ìƒí™© ê°œì„ : ì¼ë¶€ ì›Œí¬í”Œë¡œìš° ë³µêµ¬ë¨

ë‹¤ìŒ ê²€ì‚¬ê¹Œì§€ 60ì´ˆ ëŒ€ê¸° ì¤‘...
```

### ğŸ”” ì•Œë¦¼ ì‹œìŠ¤í…œ í†µí•©

#### ì§€ì› ì•Œë¦¼ ì±„ë„
- **Slack**: ì›¹í›…ì„ í†µí•œ ì‹¤ì‹œê°„ ì•Œë¦¼
- **Discord**: ì„ë² ë“œ ë©”ì‹œì§€ë¡œ ìƒì„¸ ì •ë³´ ì œê³µ
- **Email**: HTML/í…ìŠ¤íŠ¸ í˜•ì‹ì˜ ìƒì„¸ ë³´ê³ ì„œ

#### ì•Œë¦¼ ë ˆë²¨ ë¶„ë¥˜
- **ğŸš¨ Critical**: 5ê°œ ì´ìƒ ì›Œí¬í”Œë¡œìš° ì‹¤íŒ¨ ì‹œ
- **âŒ Error**: 3-4ê°œ ì›Œí¬í”Œë¡œìš° ì‹¤íŒ¨ ì‹œ
- **âš ï¸ Warning**: 1-2ê°œ ì›Œí¬í”Œë¡œìš° ì‹¤íŒ¨ ì‹œ
- **â„¹ï¸ Info**: ë³µêµ¬ ì™„ë£Œ ë° ì •ìƒ ìƒíƒœ

#### ì•Œë¦¼ ë‚´ìš©
- ì‹¤íŒ¨í•œ ì›Œí¬í”Œë¡œìš° ëª©ë¡ (ìµœëŒ€ 5ê°œ í‘œì‹œ)
- ë¸Œëœì¹˜ë³„ ì‹¤íŒ¨ íŒ¨í„´ ë¶„ì„
- ê¶Œì¥ ì¡°ì¹˜ì‚¬í•­ ìë™ ìƒì„±
- GitHub Actions ë¡œê·¸ ë§í¬ í¬í•¨
- ìµœê·¼ ì‹¤íŒ¨ ë¡œê·¸ 20ì¤„ ì²¨ë¶€ (Critical/Error ì‹œ)

### ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹¤í–‰

#### ci_monitor.sh í…ŒìŠ¤íŠ¸
```bash
# CI ëª¨ë‹ˆí„°ë§ ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸
python -m pytest tests/test_ci_monitor.py -v

# íŠ¹ì • í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë§Œ ì‹¤í–‰
python -m pytest tests/test_ci_monitor.py::TestCIMonitor -v

# í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰
python -m pytest tests/test_ci_monitor.py::TestCIMonitorIntegration -v

# ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ í¬í•¨
python -m pytest tests/test_ci_monitor.py::TestCIMonitorPerformance -v
```

#### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
1. **ìŠ¤í¬ë¦½íŠ¸ ê¸°ë³¸ ê²€ì¦**
   - íŒŒì¼ ì¡´ì¬ ë° ì‹¤í–‰ ê¶Œí•œ í™•ì¸
   - ë„ì›€ë§ ì˜µì…˜ ì •ìƒ ë™ì‘ ê²€ì¦
   - ì˜ëª»ëœ ì˜µì…˜ ì—ëŸ¬ ì²˜ë¦¬ í™•ì¸

2. **ê¸°ëŠ¥ë³„ í…ŒìŠ¤íŠ¸**
   - GitHub CLI ì „ì œì¡°ê±´ í™•ì¸
   - JSON ì¶œë ¥ í˜•ì‹ ìŠ¤í‚¤ë§ˆ ê²€ì¦
   - ì˜µì…˜ ì¡°í•© ë° íŒŒì‹± í…ŒìŠ¤íŠ¸

3. **í†µí•© í…ŒìŠ¤íŠ¸**
   - notifier.py ì—°ë™ í™•ì¸
   - ì•Œë¦¼ í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ ê²€ì¦
   - ëª¨í‚¹ëœ ë°ì´í„°ë¡œ ì•Œë¦¼ í…ŒìŠ¤íŠ¸

4. **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**
   - 30ì´ˆ ì´ë‚´ ì‹¤í–‰ ì™„ë£Œ ê²€ì¦
   - ì˜µì…˜ íŒŒì‹± 1ì´ˆ ì´ë‚´ ì™„ë£Œ í™•ì¸

## ğŸ“Š CI/CD ì„±ëŠ¥ ë¦¬í¬íŠ¸ ìë™í™”

### ğŸ¯ ê°œìš”

`scripts/ci_reporter.sh`ëŠ” GitHub Actions ì›Œí¬í”Œë¡œìš°ì˜ ì„±ëŠ¥ ì§€í‘œë¥¼ ìë™ìœ¼ë¡œ ìˆ˜ì§‘í•˜ê³  ë¶„ì„í•˜ì—¬ ìƒì„¸í•œ ë¦¬í¬íŠ¸ë¥¼ ìƒì„±í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤. ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ í•„í„°ë§, ì„±ëŠ¥ ì´ìŠˆ ê°ì§€, ë‹¤ì–‘í•œ ì¶œë ¥ í˜•ì‹ ì§€ì›ìœ¼ë¡œ CI/CD íŒŒì´í”„ë¼ì¸ì˜ íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤.

### ğŸš€ ì£¼ìš” ê¸°ëŠ¥

#### 1. í¬ê´„ì  ë°ì´í„° ìˆ˜ì§‘
- **ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ê¸°ë¡**: ìµœê·¼ Nê°œ ì‹¤í–‰ ìƒì„¸ ì •ë³´ ìˆ˜ì§‘
- **ì„±ëŠ¥ ì§€í‘œ ê³„ì‚°**: ì„±ê³µë¥ , ì‹¤íŒ¨ìœ¨, í‰ê·  ì‹¤í–‰ ì‹œê°„ ìë™ ê³„ì‚°
- **ì‹¤íŒ¨ ì›ì¸ ë¶„ì„**: ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ë§Œ í•„í„°ë§í•˜ì—¬ ìƒì„¸ ë¶„ì„
- **ì„±ëŠ¥ ì´ìŠˆ ê°ì§€**: ì¥ì‹œê°„ ì‹¤í–‰, ë°˜ë³µ ì‹¤íŒ¨ íŒ¨í„´ ìë™ ê°ì§€

#### 2. ë‹¤ì–‘í•œ ì¶œë ¥ í˜•ì‹
- **í„°ë¯¸ë„**: ì»¬ëŸ¬ ì½”ë”©ëœ ì‹¤ì‹œê°„ ìš”ì•½ ì •ë³´
- **JSON**: ìë™í™” íŒŒì´í”„ë¼ì¸ ì—°ë™ìš© êµ¬ì¡°í™” ë°ì´í„°
- **Markdown**: ë¬¸ì„œí™” ë° ê³µìœ ìš© ë¦¬í¬íŠ¸ í˜•ì‹

#### 3. ì§€ëŠ¥í˜• ì•Œë¦¼ ì‹œìŠ¤í…œ
- **ì‹¤ì‹œê°„ ì•Œë¦¼**: ì„±ëŠ¥ ì´ìŠˆ ê°ì§€ ì‹œ ì¦‰ì‹œ ì•Œë¦¼ ì „ì†¡
- **ë‹¤ì±„ë„ ì§€ì›**: Slack, Discord, Email ë™ì‹œ ì•Œë¦¼
- **ì‹¬ê°ë„ ë¶„ë¥˜**: ì´ìŠˆ ìœ í˜•ë³„ ì•Œë¦¼ ë ˆë²¨ ìë™ ì¡°ì •

### ğŸ“‹ ì‚¬ìš©ë²•

#### ê¸°ë³¸ ì‚¬ìš©ë²•
```bash
# ê¸°ë³¸ ë¦¬í¬íŠ¸ ìƒì„± (ìµœê·¼ 20ê°œ ì›Œí¬í”Œë¡œìš°, 7ì¼ê°„)
./scripts/ci_reporter.sh

# ìƒì„¸ ì •ë³´ í¬í•¨
./scripts/ci_reporter.sh --verbose

# JSON í˜•ì‹ ì¶œë ¥
./scripts/ci_reporter.sh --json

# Markdown ë¦¬í¬íŠ¸ ìƒì„±
./scripts/ci_reporter.sh --md

# ì•Œë¦¼ í¬í•¨ ì‹¤í–‰
./scripts/ci_reporter.sh --notify --verbose
```

#### ê³ ê¸‰ ì˜µì…˜
```bash
# ë¶„ì„ ë²”ìœ„ í™•ì¥ (ìµœê·¼ 50ê°œ ì›Œí¬í”Œë¡œìš°, 30ì¼ê°„)
./scripts/ci_reporter.sh --runs 50 --days 30 --json

# ì›”ê°„ ë¦¬í¬íŠ¸ ìƒì„± ë° íŒŒì¼ ì €ì¥
./scripts/ci_reporter.sh --md --days 30 --runs 100 > reports/monthly_ci_report_$(date +%Y%m).md

# ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ìš© JSON ì¶œë ¥
./scripts/ci_reporter.sh --json --runs 20 > reports/ci_report_$(date +%Y%m%d).json
```

#### ì˜µì…˜ ìƒì„¸ ì„¤ëª…
| ì˜µì…˜ | ì„¤ëª… | ê¸°ë³¸ê°’ | ì˜ˆì‹œ |
|------|------|--------|------|
| `--json` | JSON í˜•ì‹ ì¶œë ¥ | false | `--json` |
| `--md, --markdown` | Markdown í˜•ì‹ ì¶œë ¥ | false | `--md` |
| `--verbose` | ìƒì„¸ ì •ë³´ í‘œì‹œ | false | `--verbose` |
| `--runs NUMBER` | ë¶„ì„í•  ì›Œí¬í”Œë¡œìš° ìˆ˜ | 20 | `--runs 50` |
| `--days NUMBER` | ë¶„ì„ ê¸°ê°„ (ì¼) | 7 | `--days 30` |
| `--notify` | ì•Œë¦¼ ì „ì†¡ í™œì„±í™” | false | `--notify` |
| `--help` | ë„ì›€ë§ í‘œì‹œ | - | `--help` |

### ğŸ“ˆ ë¦¬í¬íŠ¸ êµ¬ì„± ìš”ì†Œ

#### ì„±ëŠ¥ ìš”ì•½ ì§€í‘œ
- **ì´ ì‹¤í–‰ ìˆ˜**: ë¶„ì„ ê¸°ê°„ ë‚´ ì „ì²´ ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ íšŸìˆ˜
- **ì„±ê³µë¥ **: ì„±ê³µí•œ ì›Œí¬í”Œë¡œìš° ë¹„ìœ¨ (%)
- **ì‹¤íŒ¨ìœ¨**: ì‹¤íŒ¨í•œ ì›Œí¬í”Œë¡œìš° ë¹„ìœ¨ (%)
- **í‰ê·  ì‹¤í–‰ ì‹œê°„**: ì™„ë£Œëœ ì›Œí¬í”Œë¡œìš°ì˜ í‰ê·  ì†Œìš” ì‹œê°„ (ë¶„)
- **ì·¨ì†Œìœ¨**: ì·¨ì†Œëœ ì›Œí¬í”Œë¡œìš° ë¹„ìœ¨ (%)

#### ì‹¤íŒ¨ ë¶„ì„ ì •ë³´
- **ì‹¤íŒ¨í•œ ì›Œí¬í”Œë¡œìš° ëª©ë¡**: ë¸Œëœì¹˜, ì‹¤í–‰ ì‹œê°„, ë§í¬ í¬í•¨
- **ì‹¤íŒ¨ íŒ¨í„´ ë¶„ì„**: ë°˜ë³µì  ì‹¤íŒ¨ ë¸Œëœì¹˜ ì‹ë³„
- **ì‹¤íŒ¨ ì›ì¸ ìš”ì•½**: ì‹¤íŒ¨í•œ ìŠ¤í…ë³„ ìƒì„¸ ì •ë³´

#### ì„±ëŠ¥ ì´ìŠˆ ê°ì§€
- **ì¥ì‹œê°„ ì‹¤í–‰**: 30ë¶„ ì´ìƒ ì†Œìš”ëœ ì›Œí¬í”Œë¡œìš° ê°ì§€
- **ë°˜ë³µ ì‹¤íŒ¨**: ë™ì¼ ë¸Œëœì¹˜ 3íšŒ ì´ìƒ ì—°ì† ì‹¤íŒ¨ ê°ì§€
- **ì„±ëŠ¥ ì €í•˜**: í‰ê·  ëŒ€ë¹„ í˜„ì €íˆ ëŠë¦° ì‹¤í–‰ ê°ì§€

### ğŸ”„ ìë™í™” í†µí•©

#### Cron ìŠ¤ì¼€ì¤„ë§
```bash
# ë§¤ì¼ ì˜¤ì „ 9ì‹œ ì¼ê°„ ë¦¬í¬íŠ¸ ìƒì„±
0 9 * * * cd /path/to/mcp-map-company && ./scripts/ci_reporter.sh --json --notify > logs/daily_ci_report_$(date +%Y%m%d).json

# ë§¤ì£¼ ì›”ìš”ì¼ ì˜¤ì „ 8ì‹œ ì£¼ê°„ ë¦¬í¬íŠ¸
0 8 * * 1 cd /path/to/mcp-map-company && ./scripts/ci_reporter.sh --md --days 7 --runs 50 --notify > reports/weekly_ci_report_$(date +%Y%m%d).md

# ë§¤ì›” 1ì¼ ì˜¤ì „ 7ì‹œ ì›”ê°„ ë¦¬í¬íŠ¸
0 7 1 * * cd /path/to/mcp-map-company && ./scripts/ci_reporter.sh --md --days 30 --runs 200 --notify > reports/monthly_ci_report_$(date +%Y%m).md
```

#### GitHub Actions ì›Œí¬í”Œë¡œìš° í†µí•©
```yaml
# .github/workflows/ci-report.yml
name: CI Performance Report
on:
  schedule:
    - cron: '0 9 * * *'  # ë§¤ì¼ ì˜¤ì „ 9ì‹œ
  workflow_dispatch:     # ìˆ˜ë™ ì‹¤í–‰ ê°€ëŠ¥

jobs:
  generate-report:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: Generate CI Report
      run: |
        chmod +x scripts/ci_reporter.sh
        ./scripts/ci_reporter.sh --json --notify --runs 30
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
```

#### CI/CD íŒŒì´í”„ë¼ì¸ í†µí•©
```bash
# ë¹Œë“œ ì™„ë£Œ í›„ ìë™ ë¦¬í¬íŠ¸ ìƒì„±
#!/bin/bash
echo "ğŸš€ ë¹Œë“œ ì™„ë£Œ - CI ì„±ëŠ¥ ë¦¬í¬íŠ¸ ìƒì„± ì¤‘..."
./scripts/ci_reporter.sh --json --runs 10 > artifacts/ci_report.json

# ì„±ëŠ¥ ì„ê³„ê°’ í™•ì¸
FAILURE_RATE=$(cat artifacts/ci_report.json | jq '.performance_summary.failure_rate')
if (( $(echo "$FAILURE_RATE > 10.0" | bc -l) )); then
    echo "âš ï¸ ì‹¤íŒ¨ìœ¨ì´ 10%ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤: ${FAILURE_RATE}%"
    ./scripts/ci_reporter.sh --notify --verbose
fi
```

### ğŸ”” ì•Œë¦¼ ì‹œìŠ¤í…œ í†µí•©

#### notifier.py ì—°ë™
CI ë¦¬í¬í„°ëŠ” `mcp/utils/notifier.py`ì˜ `send_ci_report_alert()` í•¨ìˆ˜ë¥¼ í†µí•´ ìë™ ì•Œë¦¼ì„ ì „ì†¡í•©ë‹ˆë‹¤.

**ì•Œë¦¼ ë°œì†¡ ì¡°ê±´:**
- **ğŸš¨ Critical**: ì‹¤íŒ¨ìœ¨ 20% ì´ìƒ ë˜ëŠ” 5ê°œ ì´ìƒ ì—°ì† ì‹¤íŒ¨
- **âŒ Error**: ì‹¤íŒ¨ìœ¨ 10% ì´ìƒ ë˜ëŠ” 3ê°œ ì´ìƒ ì—°ì† ì‹¤íŒ¨
- **âš ï¸ Warning**: ì‹¤íŒ¨ìœ¨ 5% ì´ìƒ ë˜ëŠ” í‰ê·  ì‹¤í–‰ ì‹œê°„ 2ë°° ì´ˆê³¼
- **â„¹ï¸ Info**: ì •ìƒ ìƒíƒœ ë³µêµ¬ ë˜ëŠ” ì„±ê³¼ ê°œì„ 

#### ì•Œë¦¼ ë‚´ìš©
- ì„±ëŠ¥ ìš”ì•½ ì§€í‘œ (ì„±ê³µë¥ , ì‹¤íŒ¨ìœ¨, í‰ê·  ì‹¤í–‰ ì‹œê°„)
- ì£¼ìš” ì„±ëŠ¥ ì´ìŠˆ ëª©ë¡
- ì‹¤íŒ¨í•œ ì›Œí¬í”Œë¡œìš° ìƒìœ„ 3ê°œ
- ê¶Œì¥ ì¡°ì¹˜ì‚¬í•­ ìë™ ìƒì„±
- ìƒì„¸ ë¦¬í¬íŠ¸ íŒŒì¼ ë§í¬ í¬í•¨

### ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹¤í–‰

#### ci_reporter.sh í…ŒìŠ¤íŠ¸
```bash
# CI ë¦¬í¬í„° ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸
python -m pytest tests/test_ci_reporter.py -v

# íŠ¹ì • í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë§Œ ì‹¤í–‰
python -m pytest tests/test_ci_reporter.py::TestCIReporter -v

# í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰
python -m pytest tests/test_ci_reporter.py::TestCIReporterIntegration -v

# ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ í¬í•¨
python -m pytest tests/test_ci_reporter.py::TestCIReporterPerformance -v

# ì•Œë¦¼ ì—°ë™ í…ŒìŠ¤íŠ¸
python -m pytest tests/test_ci_reporter.py::TestCIReporterNotification -v
```

#### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
1. **ìŠ¤í¬ë¦½íŠ¸ ê¸°ë³¸ ê²€ì¦**
   - íŒŒì¼ ì¡´ì¬ ë° ì‹¤í–‰ ê¶Œí•œ í™•ì¸
   - ë„ì›€ë§ ì˜µì…˜ ì •ìƒ ë™ì‘ ê²€ì¦
   - ì˜ëª»ëœ ì˜µì…˜ ì—ëŸ¬ ì²˜ë¦¬ í™•ì¸

2. **ì¶œë ¥ í˜•ì‹ ê²€ì¦**
   - JSON ìŠ¤í‚¤ë§ˆ ë° í•„ìˆ˜ í•„ë“œ í™•ì¸
   - Markdown êµ¬ì¡° ë° í˜•ì‹ ê²€ì¦
   - í„°ë¯¸ë„ ì»¬ëŸ¬ ì¶œë ¥ í…ŒìŠ¤íŠ¸

3. **ì„±ëŠ¥ ì§€í‘œ ê³„ì‚°**
   - ì„±ê³µë¥ /ì‹¤íŒ¨ìœ¨ ê³„ì‚° ì •í™•ì„±
   - í‰ê·  ì‹¤í–‰ ì‹œê°„ ê³„ì‚° ê²€ì¦
   - ì„±ëŠ¥ ì´ìŠˆ ê°ì§€ ì•Œê³ ë¦¬ì¦˜ í…ŒìŠ¤íŠ¸

4. **í†µí•© í…ŒìŠ¤íŠ¸**
   - notifier.py ì—°ë™ í™•ì¸
   - ì•Œë¦¼ í•¨ìˆ˜ í˜¸ì¶œ ë° ë°ì´í„° ì „ë‹¬ ê²€ì¦
   - GitHub API ëª¨í‚¹ í…ŒìŠ¤íŠ¸

5. **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**
   - 60ì´ˆ ì´ë‚´ ì‹¤í–‰ ì™„ë£Œ ê²€ì¦
   - ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì•ˆì •ì„±
   - ë™ì‹œ ì‹¤í–‰ ì•ˆì „ì„± í™•ì¸

### ğŸ› ï¸ ê³ ê¸‰ ì„¤ì •

#### ì„±ëŠ¥ ìµœì í™”
```bash
# ëŒ€ìš©ëŸ‰ ë¦¬í¬ì§€í† ë¦¬ìš© ì„¤ì •
export CI_REPORTER_CACHE_ENABLED=true
export CI_REPORTER_PARALLEL_JOBS=4

# ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì œí•œ
export CI_REPORTER_MAX_MEMORY=2G
export CI_REPORTER_TIMEOUT=300
```

#### ì»¤ìŠ¤í…€ í•„í„°ë§
```bash
# íŠ¹ì • ì›Œí¬í”Œë¡œìš°ë§Œ ë¶„ì„
export CI_REPORTER_WORKFLOW_FILTER="CI,Deploy,Test"

# íŠ¹ì • ë¸Œëœì¹˜ ì œì™¸
export CI_REPORTER_EXCLUDE_BRANCHES="dependabot/*,renovate/*"
```

#### ë¦¬í¬íŠ¸ ì €ì¥ ìœ„ì¹˜
```bash
# ìë™ ë¦¬í¬íŠ¸ ì €ì¥ ì„¤ì •
export CI_REPORTS_DIR="/path/to/reports"
export CI_LOGS_DIR="/path/to/logs"

# í´ë¼ìš°ë“œ ìŠ¤í† ë¦¬ì§€ ì—…ë¡œë“œ (ì„ íƒì‚¬í•­)
export CI_REPORT_S3_BUCKET="my-ci-reports"
export CI_REPORT_UPLOAD_ENABLED=true
```

### ğŸ“ íŒŒì¼ êµ¬ì¡°

#### ìƒì„±ë˜ëŠ” ë¦¬í¬íŠ¸ íŒŒì¼
```
reports/
â”œâ”€â”€ ci_report_20241201.json     # ì¼ê°„ JSON ë¦¬í¬íŠ¸
â”œâ”€â”€ ci_report_20241201.md       # ì¼ê°„ Markdown ë¦¬í¬íŠ¸
â”œâ”€â”€ weekly_ci_report_20241201.md # ì£¼ê°„ ë¦¬í¬íŠ¸
â””â”€â”€ monthly_ci_report_202412.md  # ì›”ê°„ ë¦¬í¬íŠ¸

logs/
â”œâ”€â”€ ci_reports.log              # ë¦¬í¬íŠ¸ ìƒì„± ë¡œê·¸
â””â”€â”€ ci_reporter_errors.log      # ì—ëŸ¬ ë° ê²½ê³  ë¡œê·¸
```

#### ë¦¬í¬íŠ¸ ì˜ˆì‹œ (JSON ìŠ¤í‚¤ë§ˆ)
```json
{
  "report_metadata": {
    "generated_at": "2024-12-01 09:00:00",
    "report_date": "20241201",
    "analysis_period_days": 7,
    "workflow_count": 45
  },
  "performance_summary": {
    "total_runs": 45,
    "success_count": 38,
    "failure_count": 5,
    "cancelled_count": 2,
    "success_rate": 84.44,
    "failure_rate": 11.11,
    "avg_duration_seconds": 892.3
  },
  "failed_tests": [...],
  "performance_issues": [...],
  "recent_workflows": [...]
}
```

### ğŸ”§ í™˜ê²½ë³€ìˆ˜ ì„¤ì •

#### GitHub Actions ì•Œë¦¼
```bash
# Slack ì•Œë¦¼
export SLACK_WEBHOOK_URL="https://hooks.slack.com/services/..."

# Discord ì•Œë¦¼
export DISCORD_WEBHOOK_URL="https://discord.com/api/webhooks/..."

# ì´ë©”ì¼ ì•Œë¦¼
export SMTP_SERVER="smtp.gmail.com"
export SMTP_PORT="587"
export NOTIFY_EMAIL="ci@company.com"
export NOTIFY_PASSWORD="app_password"
export NOTIFY_RECIPIENTS="admin1@company.com,admin2@company.com"
```

### â° ì •ê¸° ì‹¤í–‰ ì„¤ì • (cron)

#### ë§¤ì¼ ì•„ì¹¨ 8ì‹œ ìë™ ì²´í¬
```bash
# ë§¤ì¼ ì˜¤ì „ 8ì‹œì— CI ìƒíƒœ ì²´í¬ ë° ì•Œë¦¼
0 8 * * * cd /path/to/mcp-map-company && ./scripts/ci_monitor.sh --json >> /var/log/ci_monitor.log 2>&1

# ì—…ë¬´ì‹œê°„ ì¤‘ 30ë¶„ ê°„ê²© ëª¨ë‹ˆí„°ë§ (ì˜¤ì „ 9ì‹œ-ì˜¤í›„ 6ì‹œ)
*/30 9-18 * * 1-5 cd /path/to/mcp-map-company && ./scripts/ci_monitor.sh --count 5 >> /var/log/ci_monitor_frequent.log 2>&1

# ì£¼ë§ 2ì‹œê°„ ê°„ê²© ëª¨ë‹ˆí„°ë§
0 */2 * * 0,6 cd /path/to/mcp-map-company && ./scripts/ci_monitor.sh --json >> /var/log/ci_monitor_weekend.log 2>&1
```

#### ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ì„œë¹„ìŠ¤ (systemd)
```bash
# CI ëª¨ë‹ˆí„°ë§ ì„œë¹„ìŠ¤ ìƒì„±
sudo tee /etc/systemd/system/ci-monitor.service << EOF
[Unit]
Description=MCP-MAP CI/CD Monitoring Service
After=network.target

[Service]
Type=simple
User=deployer
WorkingDirectory=/path/to/mcp-map-company
ExecStart=/path/to/mcp-map-company/scripts/ci_monitor.sh --watch --interval 300
Restart=always
RestartSec=60

[Install]
WantedBy=multi-user.target
EOF

# ì„œë¹„ìŠ¤ í™œì„±í™” ë° ì‹œì‘
sudo systemctl enable ci-monitor
sudo systemctl start ci-monitor

# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
sudo systemctl status ci-monitor
```

### ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ë¶„ì„

#### ë¡œê·¸ ë¶„ì„
```bash
# CI ì‹¤íŒ¨ ë¡œê·¸ ë¶„ì„
grep "ì›Œí¬í”Œë¡œìš°:" logs/ci_failures.log | tail -10

# ë¸Œëœì¹˜ë³„ ì‹¤íŒ¨ í†µê³„
grep "ë¸Œëœì¹˜:" logs/ci_failures.log | sort | uniq -c

# ì‹œê°„ëŒ€ë³„ ì‹¤íŒ¨ íŒ¨í„´ ë¶„ì„
awk '/ì‹¤í–‰ ì‹œê°„:/ {print $4}' logs/ci_failures.log | cut -d'T' -f2 | cut -d':' -f1 | sort | uniq -c
```

#### ì„±ê³µë¥  ì¶”ì 
```bash
# JSON ì¶œë ¥ìœ¼ë¡œ ì„±ê³µë¥  íˆìŠ¤í† ë¦¬ ìˆ˜ì§‘
./scripts/ci_monitor.sh --json | jq '.summary.success_rate' >> logs/success_rate_history.txt

# ì„±ê³µë¥  íŠ¸ë Œë“œ ë¶„ì„
awk '{sum+=$1; count++} END {print "í‰ê·  ì„±ê³µë¥ :", sum/count "%"}' logs/success_rate_history.txt
```

#### ëŒ€ì‹œë³´ë“œ ì—°ë™
```bash
# Grafana ì—°ë™ìš© ë©”íŠ¸ë¦­ ìˆ˜ì§‘
./scripts/ci_monitor.sh --json | jq '.summary' > /var/lib/grafana/ci_metrics.json

# Prometheus ë©”íŠ¸ë¦­ í˜•ì‹ìœ¼ë¡œ ì¶œë ¥
echo "ci_success_rate $(./scripts/ci_monitor.sh --json | jq '.summary.success_rate')" > /var/lib/prometheus/ci_metrics.prom
```

### ğŸ’¡ ëª¨ë²” ì‚¬ë¡€

#### 1. ëª¨ë‹ˆí„°ë§ ì£¼ê¸° ìµœì í™”
- **ê°œë°œ ì‹œê°„**: 30ë¶„ ê°„ê²©ìœ¼ë¡œ ë¹ˆë²ˆí•œ ì²´í¬
- **ì•¼ê°„/ì£¼ë§**: 2-4ì‹œê°„ ê°„ê²©ìœ¼ë¡œ ìµœì†Œ ëª¨ë‹ˆí„°ë§
- **ê¸´ê¸‰ ìƒí™©**: 5ë¶„ ê°„ê²©ìœ¼ë¡œ ì§‘ì¤‘ ëª¨ë‹ˆí„°ë§

#### 2. ì•Œë¦¼ í”¼ë¡œë„ ë°©ì§€
- ì—°ì†ëœ ì‹¤íŒ¨ëŠ” ì²« ë²ˆì§¸ë§Œ Criticalë¡œ ì•Œë¦¼
- ë³µêµ¬ ì‹œì—ëŠ” Info ë ˆë²¨ë¡œ ë³µêµ¬ ì•Œë¦¼ ì „ì†¡
- ì„±ê³µë¥  ê¸°ë°˜ ìš”ì•½ ì•Œë¦¼ìœ¼ë¡œ ì „ì²´ ìƒí™© íŒŒì•…

#### 3. ë¡œê·¸ ê´€ë¦¬
- CI ì‹¤íŒ¨ ë¡œê·¸ëŠ” ìµœëŒ€ 90ì¼ ë³´ê´€
- ì„±ê³µë¥  íˆìŠ¤í† ë¦¬ëŠ” 1ë…„ê°„ ë³´ê´€í•˜ì—¬ íŠ¸ë Œë“œ ë¶„ì„
- ì¤‘ìš”í•œ ì‹¤íŒ¨ ì‚¬ë¡€ëŠ” ë³„ë„ ë¬¸ì„œí™”

#### 4. íŒ€ ì›Œí¬í”Œë¡œìš° í†µí•©
- PR ìƒì„± ì‹œ ìë™ CI ëª¨ë‹ˆí„°ë§ í™œì„±í™”
- ë¦´ë¦¬ì¦ˆ ì „ CI ìƒíƒœ í•„ìˆ˜ ì²´í¬
- ì‹¤íŒ¨ ì‹œ ë‹´ë‹¹ì ìë™ í• ë‹¹ ì‹œìŠ¤í…œ ì—°ë™

ì´ CI/CD ëª¨ë‹ˆí„°ë§ ìë™í™” ì‹œìŠ¤í…œì„ í†µí•´ GitHub Actionsì˜ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¶”ì í•˜ê³ , ë¹Œë“œ ì‹¤íŒ¨ ì‹œ ì‹ ì†í•œ ëŒ€ì‘ì´ ê°€ëŠ¥í•˜ì—¬ ê°œë°œ íŒ€ì˜ ìƒì‚°ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“Š ì£¼ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ ìë™í™”

### ğŸ“‹ weekly_ops_report.sh ìŠ¤í¬ë¦½íŠ¸ ê°œìš”
ì£¼ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ ìë™í™” ìŠ¤í¬ë¦½íŠ¸ëŠ” ì§€ë‚œ 7ì¼ê°„ì˜ ë³´ì•ˆ ì´ë²¤íŠ¸ì™€ ë°±ì—… í˜„í™©ì„ ì¢…í•© ë¶„ì„í•˜ì—¬ ìƒì„¸í•œ Markdown ë¦¬í¬íŠ¸ë¥¼ ìƒì„±í•˜ê³  ì•Œë¦¼ ì‹œìŠ¤í…œê³¼ ì—°ë™ë©ë‹ˆë‹¤.

### ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

#### 1. ğŸ“Š ì¢…í•© ë°ì´í„° ë¶„ì„
- **ë³´ì•ˆ ë¡œê·¸ ë¶„ì„**: ì°¨ë‹¨ëœ IP, Rate Limit ìœ„ë°˜, í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì´ë²¤íŠ¸ ì§‘ê³„
- **ë°±ì—… ìƒíƒœ ë¶„ì„**: ì„±ê³µ/ì‹¤íŒ¨ í†µê³„, ì •ë¦¬ ì‘ì—… í˜„í™©
- **ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤**: ë””ìŠ¤í¬ ì‚¬ìš©ë¥ , ë¡œê·¸ íŒŒì¼ í¬ê¸°, ë°±ì—… ë””ë ‰í† ë¦¬ ìš©ëŸ‰
- **ìƒíƒœ í‰ê°€**: ë³´ì•ˆ/ë°±ì—…/ì‹œìŠ¤í…œ ìƒíƒœë³„ ìë™ ë“±ê¸‰ ë¶€ì—¬

#### 2. ğŸ“„ ë‹¤ì–‘í•œ ì¶œë ¥ í˜•ì‹
- **Markdown ë¦¬í¬íŠ¸**: `reports/weekly/weekly-report-YYYY-MM-DD.md`
- **JSON ì¶œë ¥**: ìë™í™” íŒŒì´í”„ë¼ì¸ ì—°ë™ìš© êµ¬ì¡°í™”ëœ ë°ì´í„°
- **ìƒì„¸ ë¶„ì„**: ê¶Œì¥ ì‚¬í•­, ë‹¤ìŒ ì£¼ ê³„íš, ìƒíƒœ í‰ê°€ í¬í•¨

#### 3. ğŸ”” ì•Œë¦¼ ì‹œìŠ¤í…œ í†µí•©
- **ìë™ ì•Œë¦¼**: ë¦¬í¬íŠ¸ ìƒì„± ì™„ë£Œ ì‹œ Slack/Discord/Email ì „ì†¡
- **ìƒíƒœë³„ ì•Œë¦¼**: ë³´ì•ˆ/ë°±ì—… ìƒíƒœì— ë”°ë¥¸ ì•Œë¦¼ ë ˆë²¨ ìë™ ì¡°ì •
- **í•œêµ­ì–´ ë©”ì‹œì§€**: ì™„ì „í•œ í•œêµ­ì–´ ì§€ì›ìœ¼ë¡œ ê°€ë…ì„± í–¥ìƒ

### ğŸ› ï¸ ì‚¬ìš©ë²•

#### ê¸°ë³¸ ì‹¤í–‰
```bash
# ì£¼ê°„ ë¦¬í¬íŠ¸ ìƒì„± (Markdown)
./scripts/weekly_ops_report.sh

# ìƒì„¸ ì¶œë ¥ê³¼ í•¨ê»˜ ìƒì„±
./scripts/weekly_ops_report.sh --verbose
```

#### JSON ì¶œë ¥ ëª¨ë“œ
```bash
# JSON í˜•ì‹ìœ¼ë¡œ ê²°ê³¼ ì¶œë ¥
./scripts/weekly_ops_report.sh --json

# JSON + ìƒì„¸ ì¶œë ¥
./scripts/weekly_ops_report.sh --json --verbose
```

#### ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œ
```bash
# íŒŒì¼ ìƒì„± ì—†ì´ ì‹œë®¬ë ˆì´ì…˜
./scripts/weekly_ops_report.sh --dry-run

# ì‹œë®¬ë ˆì´ì…˜ + ìƒì„¸ ì¶œë ¥
./scripts/weekly_ops_report.sh --dry-run --verbose
```

### ğŸ“Š ì¶œë ¥ ì˜ˆì‹œ

#### Markdown ë¦¬í¬íŠ¸ ì˜ˆì‹œ
```markdown
# ğŸ“Š ì£¼ê°„ ìš´ì˜ ë¦¬í¬íŠ¸

**ë³´ê³  ê¸°ê°„**: 2024-09-14 ~ 2024-09-21
**ìƒì„± ì¼ì‹œ**: 2024-09-21 14:30:25

## ğŸ›¡ï¸ ë³´ì•ˆ í˜„í™©

### ë³´ì•ˆ ì´ë²¤íŠ¸ ìš”ì•½
- ğŸš« **ì°¨ë‹¨ëœ IP**: 15ê±´
- âš ï¸ **Rate Limit ìœ„ë°˜**: 45ê±´
- âœ… **í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì¶”ê°€**: 3ê±´
- ğŸ‘€ **ëª¨ë‹ˆí„°ë§ ì´ë²¤íŠ¸**: 120ê±´

### ë³´ì•ˆ ìƒíƒœ í‰ê°€
âš ï¸ **ì£¼ì˜**: ì°¨ë‹¨ëœ IP ìˆ˜ê°€ ì¦ê°€í–ˆìŠµë‹ˆë‹¤. ëª¨ë‹ˆí„°ë§ì„ ê°•í™”í•˜ì„¸ìš”.

## ğŸ“¦ ë°±ì—… í˜„í™©

### ë°±ì—… í†µê³„
- âœ… **ì„±ê³µí•œ ë°±ì—…**: 6íšŒ
- âŒ **ì‹¤íŒ¨í•œ ë°±ì—…**: 1íšŒ
- ğŸ§¹ **ì •ë¦¬ ì‘ì—…**: 2íšŒ
- ğŸ“Š **ì„±ê³µë¥ **: 86%

### ë°±ì—… ìƒíƒœ í‰ê°€
âš ï¸ **ì–‘í˜¸**: ë°±ì—… ì„±ê³µë¥ ì´ ì–‘í˜¸í•©ë‹ˆë‹¤.
```

#### JSON ì¶œë ¥ ì˜ˆì‹œ
```json
{
  "report_metadata": {
    "period_start": "2024-09-14",
    "period_end": "2024-09-21",
    "generated_at": "2024-09-21T14:30:25Z",
    "report_type": "weekly_operations"
  },
  "security_events": {
    "blocked_ips": 15,
    "rate_limit_violations": 45,
    "whitelist_additions": 3,
    "monitoring_events": 120,
    "total_security_events": 183
  },
  "backup_operations": {
    "successful_backups": 6,
    "failed_backups": 1,
    "cleanup_operations": 2,
    "success_rate_percent": 86,
    "total_backup_operations": 7
  },
  "system_resources": {
    "disk_usage_percent": 78,
    "security_log_size_bytes": 2048576,
    "backup_directory_size_kb": 1048576
  },
  "status_summary": {
    "security_status": "warning",
    "backup_status": "good",
    "disk_status": "normal"
  }
}
```

### ğŸ”” ì•Œë¦¼ ì‹œìŠ¤í…œ ì—°ë™

#### ìë™ ì•Œë¦¼ ê¸°ëŠ¥
ì£¼ê°„ ë¦¬í¬íŠ¸ ìƒì„± ì™„ë£Œ ì‹œ ìë™ìœ¼ë¡œ ë‹¤ì¤‘ ì±„ë„ ì•Œë¦¼ì„ ì „ì†¡í•©ë‹ˆë‹¤:

```python
from mcp.utils.notifier import send_weekly_report_notification

# ì£¼ê°„ ë¦¬í¬íŠ¸ ìƒì„± ë° ì•Œë¦¼ ì „ì†¡
result = await send_weekly_report_notification()
```

#### ì•Œë¦¼ ë‚´ìš© ì˜ˆì‹œ
**Slack/Discord ì•Œë¦¼**:
```
ğŸ“Š ì£¼ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ (2024-09-14 ~ 2024-09-21)

ğŸ“Š ì£¼ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
ğŸ“… ê¸°ê°„: 2024-09-14 ~ 2024-09-21

âš ï¸ ë³´ì•ˆ: í‰ì†Œë³´ë‹¤ ë§ì€ IP ì°¨ë‹¨ì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
âœ… ë°±ì—…: ë°±ì—…ì´ ì•ˆì •ì ìœ¼ë¡œ ìˆ˜í–‰ë˜ê³  ìˆìŠµë‹ˆë‹¤.

ğŸ“… ë¦¬í¬íŠ¸ ê¸°ê°„: 2024-09-14 ~ 2024-09-21
ğŸ›¡ï¸ ë³´ì•ˆ í˜„í™©: ì°¨ë‹¨ IP 15ê°œ | ìƒíƒœ: warning
ğŸ“¦ ë°±ì—… í˜„í™©: ì„±ê³µë¥  86% | ìƒíƒœ: good
ğŸ’¡ ê¶Œì¥ ì‚¬í•­: ğŸ” ë³´ì•ˆ ì •ì±… ê²€í†  ë° í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ìµœì í™”
```

#### ìƒíƒœë³„ ì•Œë¦¼ ë ˆë²¨
- **Info**: ëª¨ë“  ìƒíƒœê°€ ì •ìƒì¸ ê²½ìš°
- **Warning**: ë³´ì•ˆ ì´ë²¤íŠ¸ ì¦ê°€ ë˜ëŠ” ë°±ì—… ì„±ê³µë¥  90% ë¯¸ë§Œ
- **Error**: ì‹¬ê°í•œ ë³´ì•ˆ ìœ„í—˜ ë˜ëŠ” ë°±ì—… ì„±ê³µë¥  80% ë¯¸ë§Œ

### ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹¤í–‰

#### weekly_ops_report.sh í…ŒìŠ¤íŠ¸
```bash
# ì£¼ê°„ ë¦¬í¬íŠ¸ ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸
python -m pytest tests/test_weekly_ops_report.py -v

# ì•Œë¦¼ í†µí•© í…ŒìŠ¤íŠ¸
python -m pytest tests/test_weekly_ops_report.py::TestWeeklyOpsNotifierIntegration -v

# ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
python -m pytest tests/test_weekly_ops_report.py::TestWeeklyOpsPerformance -v

# ì „ì²´ í†µí•© í…ŒìŠ¤íŠ¸
python -m pytest tests/test_weekly_ops_report.py::TestWeeklyOpsIntegration -v
```

#### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
1. **ìŠ¤í¬ë¦½íŠ¸ ê¸°ë³¸ ê²€ì¦**
   - íŒŒì¼ ì¡´ì¬ ë° ì‹¤í–‰ ê¶Œí•œ í™•ì¸
   - ë„ì›€ë§ ì˜µì…˜ ì •ìƒ ë™ì‘ ê²€ì¦
   - ì˜ëª»ëœ ì˜µì…˜ ì—ëŸ¬ ì²˜ë¦¬ í™•ì¸

2. **ê¸°ëŠ¥ë³„ í…ŒìŠ¤íŠ¸**
   - ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œ ì •ìƒ ë™ì‘
   - JSON ì¶œë ¥ ìŠ¤í‚¤ë§ˆ ê²€ì¦
   - Markdown ë¦¬í¬íŠ¸ ìƒì„± ë° ë‚´ìš© í™•ì¸

3. **ì•Œë¦¼ í†µí•© í…ŒìŠ¤íŠ¸**
   - notifier.py ì—°ë™ í™•ì¸
   - Mock ì•Œë¦¼ ì±„ë„ í…ŒìŠ¤íŠ¸
   - End-to-End ì›Œí¬í”Œë¡œìš° ê²€ì¦

4. **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**
   - 60ì´ˆ ì´ë‚´ ì‹¤í–‰ ì™„ë£Œ ê²€ì¦
   - ëŒ€ëŸ‰ ë¡œê·¸ ì²˜ë¦¬ ì„±ëŠ¥ í™•ì¸

### ğŸ”§ ì •ê¸° ì‹¤í–‰ ì„¤ì •

#### cronì„ í†µí•œ ìë™ ì‹¤í–‰
```bash
# ë§¤ì£¼ ì›”ìš”ì¼ ì˜¤ì „ 9ì‹œì— ì£¼ê°„ ë¦¬í¬íŠ¸ ìƒì„±
0 9 * * 1 cd /path/to/mcp-map-company && ./scripts/weekly_ops_report.sh >> /var/log/weekly_report.log 2>&1

# ì•Œë¦¼ í¬í•¨ ìë™ ì‹¤í–‰ (Python ìŠ¤í¬ë¦½íŠ¸)
0 9 * * 1 cd /path/to/mcp-map-company && python -c "
import asyncio
from mcp.utils.notifier import send_weekly_report_notification
asyncio.run(send_weekly_report_notification())
" >> /var/log/weekly_notification.log 2>&1
```

#### systemd íƒ€ì´ë¨¸ ì„¤ì •
```ini
# /etc/systemd/system/weekly-ops-report.service
[Unit]
Description=Weekly Operations Report Generation
After=network.target

[Service]
Type=oneshot
WorkingDirectory=/path/to/mcp-map-company
ExecStart=/path/to/mcp-map-company/scripts/weekly_ops_report.sh
User=mcp-user
StandardOutput=journal
StandardError=journal

# /etc/systemd/system/weekly-ops-report.timer
[Unit]
Description=Run Weekly Operations Report every Monday at 9 AM
Requires=weekly-ops-report.service

[Timer]
OnCalendar=Mon *-*-* 09:00:00
Persistent=true

[Install]
WantedBy=timers.target
```

### ğŸ“ˆ ëª¨ë‹ˆí„°ë§ ë° ë¶„ì„

#### ë¦¬í¬íŠ¸ ë°ì´í„° ë¶„ì„
```bash
# ìµœê·¼ ë¦¬í¬íŠ¸ íŒŒì¼ ëª©ë¡
ls -la reports/weekly/ | tail -10

# JSON ë°ì´í„° ë¶„ì„
./scripts/weekly_ops_report.sh --json | jq '.security_events.blocked_ips'

# ì£¼ê°„ íŠ¸ë Œë“œ ë¶„ì„
for file in reports/weekly/*.json; do
  echo "$(basename $file): $(jq -r '.backup_operations.success_rate_percent' $file)%"
done
```

#### ë¦¬í¬íŠ¸ ì•„ì¹´ì´ë¸Œ ê´€ë¦¬
```bash
# 6ê°œì›” ì´ìƒ ëœ ë¦¬í¬íŠ¸ ì••ì¶•
find reports/weekly/ -name "*.md" -mtime +180 -exec gzip {} \;

# 1ë…„ ì´ìƒ ëœ ë¦¬í¬íŠ¸ ì‚­ì œ
find reports/weekly/ -name "*.gz" -mtime +365 -delete

# ë¦¬í¬íŠ¸ ë””ë ‰í† ë¦¬ ìš©ëŸ‰ í™•ì¸
du -sh reports/weekly/
```

### ğŸ’¡ ê³ ê¸‰ í™œìš©

#### 1. ë§ì¶¤í˜• ë¶„ì„ ê¸°ê°„
```bash
# íŠ¹ì • ê¸°ê°„ ë¶„ì„ (ë¯¸ë˜ í™•ì¥ ê¸°ëŠ¥)
./scripts/weekly_ops_report.sh --start-date 2024-09-01 --end-date 2024-09-07
```

#### 2. ë¶€ì„œë³„ ë¦¬í¬íŠ¸ ìƒì„±
```bash
# ë³´ì•ˆíŒ€ìš© ë¦¬í¬íŠ¸ (ë³´ì•ˆ ì´ë²¤íŠ¸ ì¤‘ì‹¬)
./scripts/weekly_ops_report.sh --focus security --json

# ì¸í”„ë¼íŒ€ìš© ë¦¬í¬íŠ¸ (ë°±ì—…/ì‹œìŠ¤í…œ ì¤‘ì‹¬)
./scripts/weekly_ops_report.sh --focus infrastructure --json
```

#### 3. ì•Œë¦¼ ì±„ë„ ì„ íƒ
```python
# íŠ¹ì • ì±„ë„ë¡œë§Œ ì•Œë¦¼ ì „ì†¡
from mcp.utils.notifier import send_weekly_ops_report, NotificationChannel

result = await send_weekly_ops_report(
    report_data=report_data,
    channels=[NotificationChannel.SLACK]
)
```

#### 4. ëŒ€ì‹œë³´ë“œ ì—°ë™
```javascript
// ì›¹ ëŒ€ì‹œë³´ë“œì—ì„œ ì£¼ê°„ ë¦¬í¬íŠ¸ í‘œì‹œ
fetch('/api/weekly-report/latest')
  .then(response => response.json())
  .then(data => {
    updateSecurityChart(data.security_events);
    updateBackupStatus(data.backup_operations);
    updateSystemHealth(data.system_resources);
  });
```

### ğŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

#### ê¶Œí•œ ê´€ë¦¬
- ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê¶Œí•œ: `chmod +x scripts/weekly_ops_report.sh`
- ë¡œê·¸ ë””ë ‰í† ë¦¬ ì½ê¸° ê¶Œí•œ: `logs/` ë””ë ‰í† ë¦¬
- ë¦¬í¬íŠ¸ ë””ë ‰í† ë¦¬ ì“°ê¸° ê¶Œí•œ: `reports/weekly/` ë””ë ‰í† ë¦¬

#### ë¯¼ê° ì •ë³´ ë³´í˜¸
- IP ì£¼ì†ŒëŠ” ë§ˆìŠ¤í‚¹ ì²˜ë¦¬ ì˜µì…˜ ì œê³µ
- ìƒì„¸ ë¡œê·¸ëŠ” ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥
- ì•Œë¦¼ ë©”ì‹œì§€ì—ëŠ” ìš”ì•½ ì •ë³´ë§Œ í¬í•¨

### ğŸ“‹ ë¬¸ì œ í•´ê²°

#### ì¼ë°˜ì ì¸ ë¬¸ì œ
1. **"ë¡œê·¸ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"**
   - ë¡œê·¸ ë””ë ‰í† ë¦¬ ì¡´ì¬ í™•ì¸: `ls -la logs/`
   - ê¶Œí•œ í™•ì¸: `ls -la logs/security.log`

2. **"JSON íŒŒì‹± ì˜¤ë¥˜"**
   - ìŠ¤í¬ë¦½íŠ¸ ì¶œë ¥ í™•ì¸: `./scripts/weekly_ops_report.sh --verbose`
   - ë¡œê·¸ íŒŒì¼ í˜•ì‹ ê²€ì¦

3. **"ì•Œë¦¼ ì „ì†¡ ì‹¤íŒ¨"**
   - í™˜ê²½ë³€ìˆ˜ í™•ì¸: `echo $SLACK_WEBHOOK_URL`
   - ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸: `curl -I $SLACK_WEBHOOK_URL`

#### ë””ë²„ê¹… ëª¨ë“œ
```bash
# ìƒì„¸ ë””ë²„ê·¸ ì¶œë ¥
./scripts/weekly_ops_report.sh --verbose --dry-run

# ë¡œê·¸ íŒŒì¼ ë¶„ì„
tail -f logs/daily_ops.log

# ì•Œë¦¼ í…ŒìŠ¤íŠ¸
python -c "
import asyncio
from mcp.utils.notifier import test_weekly_report_notification
asyncio.run(test_weekly_report_notification())
"
```

ì´ ì£¼ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ ìë™í™” ì‹œìŠ¤í…œì„ í†µí•´ ê´€ë¦¬ìëŠ” ë§¤ì£¼ ì •ê¸°ì ìœ¼ë¡œ ì‹œìŠ¤í…œ ìƒíƒœë¥¼ ì¢…í•© ì ê²€í•˜ê³ , ë°ì´í„° ê¸°ë°˜ì˜ ìš´ì˜ ì˜ì‚¬ê²°ì •ì„ ë‚´ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“… ì›”ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ ìë™í™”

### ê°œìš”
ì›”ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ ìë™í™” ìŠ¤í¬ë¦½íŠ¸ëŠ” ì§€ë‚œ 30ì¼ê°„ì˜ ë³´ì•ˆ ì´ë²¤íŠ¸, ë°±ì—… í˜„í™©, ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ë¥¼ ì¢…í•© ë¶„ì„í•˜ì—¬ ì„±ê³¼ í‰ê°€ì™€ í•¨ê»˜ ìƒì„¸í•œ Markdown ë¦¬í¬íŠ¸ë¥¼ ìƒì„±í•˜ê³  ì•Œë¦¼ ì‹œìŠ¤í…œê³¼ ì—°ë™ë©ë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥
- **30ì¼ ìš´ì˜ ë°ì´í„° ì¢…í•© ë¶„ì„**: ë³´ì•ˆ ì´ë²¤íŠ¸, ë°±ì—… ì‘ì—…, ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ í†µê³„
- **ì„±ëŠ¥ í‰ê°€ ì‹œìŠ¤í…œ**: 100ì  ë§Œì  ê¸°ì¤€ ì„±ê³¼ ì ìˆ˜ ë° ë“±ê¸‰ (ìš°ìˆ˜/ë³´í†µ/ê°œì„  í•„ìš”)
- **ê³ ìœ  IP ì¶”ì **: ì›”ê°„ ì°¨ë‹¨ëœ ê³ ìœ  IP ìˆ˜ì™€ íŒ¨í„´ ë¶„ì„
- **íŠ¸ë Œë“œ ë¶„ì„**: ì›”ë³„ ì„±ê³¼ ë³€í™” ì¶”ì´ ë° ê°œì„ ì  ë„ì¶œ
- **ë‹¤ì¤‘ ì¶œë ¥ í˜•ì‹**: Markdown, JSON í˜•ì‹ ì§€ì›
- **ìë™ ì•Œë¦¼ ì—°ë™**: ì„±ê³¼ ë“±ê¸‰ì— ë”°ë¥¸ ì•Œë¦¼ ë ˆë²¨ ìë™ ì¡°ì •

### ì‚¬ìš©ë²•

#### ê¸°ë³¸ ì‹¤í–‰
```bash
# ì›”ê°„ ë¦¬í¬íŠ¸ ìƒì„± (Markdown)
./scripts/monthly_ops_report.sh

# JSON í˜•ì‹ ì¶œë ¥
./scripts/monthly_ops_report.sh --json

# ìƒì„¸ ì§„í–‰ ìƒí™© í‘œì‹œ
./scripts/monthly_ops_report.sh --verbose

# ì‹¤ì œ ì‹¤í–‰ ì—†ì´ í…ŒìŠ¤íŠ¸
./scripts/monthly_ops_report.sh --dry-run

# ë„ì›€ë§ í‘œì‹œ
./scripts/monthly_ops_report.sh --help
```

#### íŠ¹ì • ê¸°ê°„ ë¶„ì„
```bash
# íŠ¹ì • ì›” ë¶„ì„ (2024ë…„ 8ì›”)
./scripts/monthly_ops_report.sh --period "2024-08"

# ì‚¬ìš©ì ì •ì˜ 30ì¼ ê¸°ê°„
./scripts/monthly_ops_report.sh --start-date "2024-08-01" --end-date "2024-08-30"
```

### ë¦¬í¬íŠ¸ êµ¬ì¡°

#### 1. ë©”íƒ€ë°ì´í„°
- ë¦¬í¬íŠ¸ ìƒì„± ì‹œê°„
- ë¶„ì„ ê¸°ê°„ (30ì¼)
- ë¦¬í¬íŠ¸ ìœ í˜•

#### 2. ì„±ëŠ¥ ì ìˆ˜ ë° ë“±ê¸‰
```
ğŸ“ˆ ì›”ê°„ ì„±ê³¼ í‰ê°€
ì´ì : 87/100ì  (ìš°ìˆ˜)

ì„¸ë¶€ ì ìˆ˜:
- ë³´ì•ˆ: 32/40ì 
- ë°±ì—…: 37/40ì 
- ì‹œìŠ¤í…œ: 18/20ì 
```

#### 3. ë³´ì•ˆ ì´ë²¤íŠ¸ ë¶„ì„
- ì´ ì°¨ë‹¨ IP íšŸìˆ˜
- ê³ ìœ  ì°¨ë‹¨ IP ìˆ˜
- Rate Limit ìœ„ë°˜ íšŸìˆ˜
- í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ë³€ê²½ ë‚´ì—­
- ëª¨ë‹ˆí„°ë§ ì´ë²¤íŠ¸ í†µê³„

#### 4. ë°±ì—… ìš´ì˜ í˜„í™©
- ì›”ê°„ ë°±ì—… ì„±ê³µë¥ 
- ì„±ê³µ/ì‹¤íŒ¨ ë°±ì—… íšŸìˆ˜
- ì •ë¦¬ ì‘ì—… ì‹¤í–‰ íšŸìˆ˜
- ë°±ì—… ì €ì¥ì†Œ í¬ê¸° ë³€í™”

#### 5. ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ë¶„ì„
- í‰ê·  ë””ìŠ¤í¬ ì‚¬ìš©ë¥ 
- ìµœëŒ€ ë””ìŠ¤í¬ ì‚¬ìš©ë¥ 
- ë³´ì•ˆ ë¡œê·¸ í¬ê¸° í†µê³„
- ì‹œìŠ¤í…œ ì•ˆì •ì„± ì§€í‘œ

#### 6. ê¶Œì¥ ì‚¬í•­
ì„±ê³¼ ì ìˆ˜ì™€ ë¶„ì„ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•œ ê°œì„  ê¶Œì¥ì‚¬í•­:
- ë³´ì•ˆ ì •ì±… ìµœì í™”
- ë°±ì—… ì‹œìŠ¤í…œ ê°œì„ 
- ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ ê°œì„ 
- ìë™í™” ê°•í™”

### ì„±ëŠ¥ í‰ê°€ ê¸°ì¤€

#### ì ìˆ˜ ì²´ê³„ (100ì  ë§Œì )
- **ë³´ì•ˆ (40ì )**: ì°¨ë‹¨ IP ìˆ˜, Rate Limit íš¨ìœ¨ì„±, ë³´ì•ˆ ì´ë²¤íŠ¸ ì²˜ë¦¬
- **ë°±ì—… (40ì )**: ë°±ì—… ì„±ê³µë¥ , ì•ˆì •ì„±, ë³µêµ¬ ê°€ëŠ¥ì„±
- **ì‹œìŠ¤í…œ (20ì )**: ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ë¥ , ì•ˆì •ì„±, ê°€ìš©ì„±

#### ë“±ê¸‰ ê¸°ì¤€
- **ìš°ìˆ˜ (85ì  ì´ìƒ)**: ğŸ† ëª¨ë“  ì§€í‘œê°€ ëª©í‘œì¹˜ë¥¼ ìƒíšŒ
- **ë³´í†µ (70-84ì )**: âš ï¸ ì¼ë¶€ ê°œì„ ì´ í•„ìš”í•˜ë‚˜ ì „ë°˜ì ìœ¼ë¡œ ì•ˆì •
- **ê°œì„  í•„ìš” (70ì  ë¯¸ë§Œ)**: ğŸš¨ ì¦‰ì‹œ ê°œì„  ì¡°ì¹˜ê°€ í•„ìš”

### ì•Œë¦¼ ì‹œìŠ¤í…œ ì—°ë™

ì›”ê°„ ë¦¬í¬íŠ¸ ìƒì„± ì™„ë£Œ ì‹œ ì„±ê³¼ ë“±ê¸‰ì— ë”°ë¼ ìë™ìœ¼ë¡œ ì•Œë¦¼ ë ˆë²¨ì´ ì¡°ì •ë˜ì–´ ë‹¤ì¤‘ ì±„ë„ ì•Œë¦¼ì„ ì „ì†¡í•©ë‹ˆë‹¤:

```python
# ì›”ê°„ ë¦¬í¬íŠ¸ ìƒì„± ë° ì•Œë¦¼ ì „ì†¡
from mcp.utils.notifier import send_monthly_report_notification

await send_monthly_report_notification()
```

#### ì•Œë¦¼ ë©”ì‹œì§€ ì˜ˆì‹œ
```
ğŸ“Š ì›”ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ - ìš°ìˆ˜ (87ì )

ğŸ“Š ì›”ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
ğŸ“… ê¸°ê°„: 2024-08-22 ~ 2024-09-21
ğŸ“ˆ ì¢…í•© ì„±ê³¼: 87/100ì  (ìš°ìˆ˜)

ğŸ† ì¶•í•˜í•©ë‹ˆë‹¤! ì›”ê°„ ìš´ì˜ ì„±ê³¼ê°€ ìš°ìˆ˜í•©ë‹ˆë‹¤.
âœ… ë³´ì•ˆ: ì›”ê°„ ë³´ì•ˆ ìƒíƒœê°€ ì•ˆì •ì ì…ë‹ˆë‹¤.
âœ… ë°±ì—…: ì›”ê°„ ë°±ì—…ì´ ì•ˆì •ì ìœ¼ë¡œ ìˆ˜í–‰ë˜ê³  ìˆìŠµë‹ˆë‹¤.

ğŸ“Š ì„±ëŠ¥ ì ìˆ˜ ë¶„ì„
ë³´ì•ˆ: 32/40ì 
ë°±ì—…: 37/40ì 
ì‹œìŠ¤í…œ: 18/20ì 

ğŸ¯ ë‹¤ìŒ ë‹¬ ëª©í‘œ
- ì¢…í•© ì„±ê³¼ ì ìˆ˜ 85ì  ì´ìƒ ë‹¬ì„±
- ë³´ì•ˆ ì´ë²¤íŠ¸ 20% ê°ì†Œ
- ë°±ì—… ì„±ê³µë¥  98% ì´ìƒ ìœ ì§€
- ì‹œìŠ¤í…œ ìë™í™” ë° ëª¨ë‹ˆí„°ë§ ê°•í™”
```

### ìë™í™” ì„¤ì •

#### Cron ìŠ¤ì¼€ì¤„ë§
```bash
# ë§¤ì›” 1ì¼ ì˜¤ì „ 10ì‹œì— ì›”ê°„ ë¦¬í¬íŠ¸ ìƒì„±
0 10 1 * * /path/to/mcp-map-company/scripts/monthly_ops_report.sh --json > /var/log/monthly-report.log 2>&1
```

#### Systemd Timer (ê¶Œì¥)
```ini
# /etc/systemd/system/monthly-ops-report.timer
[Unit]
Description=Monthly Operations Report Generation
Requires=monthly-ops-report.service

[Timer]
OnCalendar=monthly
Persistent=true
RandomizedDelaySec=1h

[Install]
WantedBy=timers.target
```

```ini
# /etc/systemd/system/monthly-ops-report.service
[Unit]
Description=Generate Monthly Operations Report
After=network.target

[Service]
Type=oneshot
User=mcp
WorkingDirectory=/path/to/mcp-map-company
ExecStart=/path/to/mcp-map-company/scripts/monthly_ops_report.sh --json
StandardOutput=journal
StandardError=journal
```

### í…ŒìŠ¤íŠ¸

#### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
```bash
# ì›”ê°„ ë¦¬í¬íŠ¸ ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸
python -m pytest tests/test_monthly_ops_report.py -v

# ì•Œë¦¼ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
python -m pytest tests/test_monthly_ops_report.py::TestMonthlyReportNotifications -v
```

#### í†µí•© í…ŒìŠ¤íŠ¸
```bash
# ì „ì²´ ì›”ê°„ ë¦¬í¬íŠ¸ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
python -m pytest tests/test_monthly_ops_report.py::TestMonthlyReportIntegration -v
```

### ì›¹ ëŒ€ì‹œë³´ë“œ í†µí•©

ì›”ê°„ ë¦¬í¬íŠ¸ëŠ” ì›¹ ëŒ€ì‹œë³´ë“œì™€ ì—°ë™ë˜ì–´ ì‹œê°ì  ì°¨íŠ¸ì™€ í•¨ê»˜ í‘œì‹œë©ë‹ˆë‹¤:

```javascript
// ì›¹ ëŒ€ì‹œë³´ë“œì—ì„œ ì›”ê°„ ë¦¬í¬íŠ¸ í‘œì‹œ
fetch('/api/reports/monthly/latest')
  .then(response => response.json())
  .then(data => {
    updatePerformanceChart(data.performance_score);
    updateSecurityTrends(data.security_events);
    updateBackupMetrics(data.backup_operations);
    displayRecommendations(data.recommendations);
  });
```

### íŒŒì¼ êµ¬ì¡°

```
mcp-map-company/
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ monthly_ops_report.sh          # ì›”ê°„ ë¦¬í¬íŠ¸ ìƒì„± ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ mcp/utils/
â”‚   â””â”€â”€ notifier.py                     # ì•Œë¦¼ ì‹œìŠ¤í…œ (ì›”ê°„ ë¦¬í¬íŠ¸ í•¨ìˆ˜ í¬í•¨)
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_monthly_ops_report.py      # ì›”ê°„ ë¦¬í¬íŠ¸ í…ŒìŠ¤íŠ¸
â””â”€â”€ reports/monthly/                    # ìƒì„±ëœ ì›”ê°„ ë¦¬í¬íŠ¸ ì €ì¥
    â”œâ”€â”€ monthly-report-2024-09-21.md
    â”œâ”€â”€ monthly-report-2024-09-21.json
    â””â”€â”€ ...
```

### ë¬¸ì œ í•´ê²°

#### ì„±ëŠ¥ ì ìˆ˜ê°€ ë‚®ì„ ë•Œ
1. **ë³´ì•ˆ ì ìˆ˜ ë‚®ìŒ**: ì°¨ë‹¨ IP íŒ¨í„´ ë¶„ì„, í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ìµœì í™”
2. **ë°±ì—… ì ìˆ˜ ë‚®ìŒ**: ë°±ì—… ì‹œìŠ¤í…œ ì ê²€, ì €ì¥ì†Œ í™•ì¸
3. **ì‹œìŠ¤í…œ ì ìˆ˜ ë‚®ìŒ**: ë¦¬ì†ŒìŠ¤ ëª¨ë‹ˆí„°ë§ ê°•í™”, ìš©ëŸ‰ í™•ì¥

#### ì•Œë¦¼ì´ ì „ì†¡ë˜ì§€ ì•Šì„ ë•Œ
```bash
# ì•Œë¦¼ ì‹œìŠ¤í…œ ì—°ê²° ìƒíƒœ í™•ì¸
python -c "from mcp.utils.notifier import test_monthly_report_notification; import asyncio; asyncio.run(test_monthly_report_notification())"

# ì›”ê°„ ë¦¬í¬íŠ¸ ìˆ˜ë™ ì‹¤í–‰
./scripts/monthly_ops_report.sh --verbose
```

#### ë¦¬í¬íŠ¸ ìƒì„± ì˜¤ë¥˜
```bash
# ë¡œê·¸ ë””ë ‰í† ë¦¬ ê¶Œí•œ í™•ì¸
ls -la logs/

# í•„ìˆ˜ ì˜ì¡´ì„± í™•ì¸
./scripts/monthly_ops_report.sh --dry-run
```

ì´ ì›”ê°„ ìš´ì˜ ë¦¬í¬íŠ¸ ìë™í™” ì‹œìŠ¤í…œì„ í†µí•´ ê´€ë¦¬ìëŠ” ë§¤ì›” ì •ê¸°ì ìœ¼ë¡œ ì‹œìŠ¤í…œ ìš´ì˜ ì„±ê³¼ë¥¼ ì¢…í•© í‰ê°€í•˜ê³ , ë°ì´í„° ê¸°ë°˜ì˜ ì¤‘ì¥ê¸° ìš´ì˜ ì „ëµì„ ìˆ˜ë¦½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ”” ìš´ì˜ ì•Œë¦¼ í†µí•© ì‹œìŠ¤í…œ

### ê°œìš”
ìš´ì˜ ì•Œë¦¼ í†µí•© ì‹œìŠ¤í…œì€ ë³´ì•ˆ ì´ë²¤íŠ¸ì™€ ë°±ì—… ì‘ì—… ê²°ê³¼ë¥¼ í•˜ë‚˜ì˜ í†µí•©ëœ ì•Œë¦¼ ì±„ë„ë¡œ ê´€ë¦¬í•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.
ë‹¤ì¤‘ ì±„ë„ ì•Œë¦¼ ë°œì†¡(Slack, Discord, Email, Dashboard)ê³¼ JSON í˜•ì‹ì˜ ìƒì„¸ ê²°ê³¼ ë°ì´í„°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### ì£¼ìš” êµ¬ì„± ìš”ì†Œ

#### 1. í™•ì¥ëœ ì•Œë¦¼ ì‹œìŠ¤í…œ (mcp/utils/notifier.py)

**ìƒˆë¡œìš´ í†µí•© ê¸°ëŠ¥:**
- ğŸ›¡ï¸ **ë³´ì•ˆ/ë°±ì—… í†µí•© ì•Œë¦¼ ì±„ë„**: ë³´ì•ˆ ì´ë²¤íŠ¸ì™€ ë°±ì—… ê²°ê³¼ë¥¼ ë™ì‹œì— ì²˜ë¦¬
- ğŸ“Š **JSON í˜•ì‹ ê²°ê³¼ í¬í•¨**: ì•Œë¦¼ ë©”ì‹œì§€ì— êµ¬ì¡°í™”ëœ ë°ì´í„° ì²¨ë¶€
- ğŸ”„ **ë°±ì—… ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ í†µí•©**: backup_verifier.sh/cleanup_old_backups.sh ì‹¤í–‰ ê²°ê³¼ ìë™ ì•Œë¦¼
- ğŸ¯ **ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ë™ì‹œ ë°œì†¡**: ëª¨ë“  ì•Œë¦¼ì´ ëŒ€ì‹œë³´ë“œì—ë„ ì‹¤ì‹œê°„ í‘œì‹œ

**í•µì‹¬ í•¨ìˆ˜ë“¤:**

```python
# ë°±ì—… ì•Œë¦¼ ë°œì†¡
await send_backup_alert(
    script_name="backup_verifier.sh",
    execution_result={
        "exit_code": 0,
        "files_verified": 127,
        "files_corrupted": 3,
        "integrity_percentage": 97.6
    },
    level=NotificationLevel.WARNING
)

# ë°±ì—… ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ + ì•Œë¦¼ í†µí•©
result = await execute_and_notify_backup_script(
    script_path="./scripts/backup_verifier.sh",
    script_args=["--verbose"],
    notify_on_success=True,
    notify_on_error=True
)

# ìš´ì˜ í†µí•© ì•Œë¦¼ (ë³´ì•ˆ + ë°±ì—…)
await send_ops_integration_alert(
    event_type="daily_summary",
    security_events=[{
        "timestamp": "2024-01-15T14:30:00",
        "event_type": "brute_force_attack",
        "source_ip": "192.168.1.100",
        "severity": "high"
    }],
    backup_results=[{
        "script_name": "backup_verifier.sh",
        "integrity_status": "good",
        "files_checked": 250
    }],
    level=NotificationLevel.INFO
)
```

**OpsIntegrationNotifier í´ë˜ìŠ¤:**

```python
from mcp.utils.notifier import OpsIntegrationNotifier

ops_notifier = OpsIntegrationNotifier()

# ë³´ì•ˆ ì´ë²¤íŠ¸ ì•Œë¦¼
await ops_notifier.send_security_event_notification(
    event=security_event_data,
    level=NotificationLevel.CRITICAL
)

# ë°±ì—… ê²°ê³¼ ì•Œë¦¼
await ops_notifier.send_backup_result_notification(
    result=backup_result_data,
    level=NotificationLevel.INFO
)

# í†µí•© ì•Œë¦¼ ë°œì†¡
await ops_notifier.send_integrated_notification(
    security_events=security_events,
    backup_results=backup_results,
    summary="ì¼ì¼ ìš´ì˜ ìš”ì•½"
)
```

#### 2. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ í†µí•© íŒ¨ë„ (web/admin_dashboard.html)

**ğŸ”” ìš´ì˜ ì•Œë¦¼ í†µí•© íŒ¨ë„ ê¸°ëŠ¥:**

**í†µê³„ ì¹´ë“œ (ì‹¬ê°ë„ë³„ ìƒ‰ìƒ ì½”ë”©):**
- ğŸš¨ **Critical**: ë¹¨ê°„ìƒ‰ - ì¤‘ìš”í•œ ë³´ì•ˆ ìœ„í—˜ì´ë‚˜ ì‹œìŠ¤í…œ ì¥ì• 
- âŒ **Error**: ë¹¨ê°„ìƒ‰ - ë°±ì—… ì‹¤íŒ¨ë‚˜ ì‹œìŠ¤í…œ ì˜¤ë¥˜
- âš ï¸ **Warning**: ë…¸ë€ìƒ‰ - ì£¼ì˜ê°€ í•„ìš”í•œ ìƒí™©
- â„¹ï¸ **Info**: íŒŒë€ìƒ‰ - ì¼ë°˜ì ì¸ ì •ë³´ì„± ì•Œë¦¼

**í•„í„°ë§ ì‹œìŠ¤í…œ:**
- ğŸ“‹ **ì „ì²´**: ëª¨ë“  ìš´ì˜ ì•Œë¦¼ í‘œì‹œ
- ğŸ›¡ï¸ **ë³´ì•ˆ**: ë³´ì•ˆ ê´€ë ¨ ì´ë²¤íŠ¸ë§Œ í•„í„°ë§
- ğŸ’¾ **ë°±ì—…**: ë°±ì—… ì‘ì—… ê²°ê³¼ë§Œ í‘œì‹œ
- âš™ï¸ **ì‹œìŠ¤í…œ**: ì‹œìŠ¤í…œ ì´ë²¤íŠ¸ë§Œ í‘œì‹œ

**ì•Œë¦¼ ëª©ë¡ ê¸°ëŠ¥:**
- ğŸ“… **ì‹¤ì‹œê°„ íƒ€ì„ìŠ¤íƒ¬í”„**: í•œêµ­ ì‹œê°„ í˜•ì‹ìœ¼ë¡œ í‘œì‹œ
- ğŸ“¡ **ì†ŒìŠ¤ ì •ë³´**: ì•Œë¦¼ì„ ìƒì„±í•œ ì‹œìŠ¤í…œ êµ¬ì„± ìš”ì†Œ
- ğŸ·ï¸ **ìƒíƒœ ë°°ì§€**: í™œì„±/ëŒ€ê¸°/ì™„ë£Œ ìƒíƒœ í‘œì‹œ
- ğŸ“„ **JSON ë°ì´í„° ë²„íŠ¼**: ìƒì„¸ ë°ì´í„° ëª¨ë‹¬ ì°½ìœ¼ë¡œ í™•ì¸

**Dark Mode ì™„ì „ ì§€ì›:**
```css
/* ìš´ì˜ ì•Œë¦¼ íŒ¨ë„ ë‹¤í¬ëª¨ë“œ ìŠ¤íƒ€ì¼ */
.ops-filter-btn {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: rgba(255, 255, 255, 0.8);
    transition: all 0.3s ease;
}

.ops-filter-btn.active {
    background: #2563eb;
    border-color: #2563eb;
    color: white;
}
```

**ìë™ ìƒˆë¡œê³ ì¹¨ ì‹œìŠ¤í…œ:**
- ğŸ”„ **30ì´ˆ ê°„ê²©**: ì‹¤ì‹œê°„ ë°ì´í„° ìë™ ê°±ì‹ 
- ğŸ”— **ì‹¤ì‹œê°„ ì—°ë™**: notifier.pyì™€ ì§ì ‘ ì—°ë™
- ğŸ“± **ë°˜ì‘í˜• ë””ìì¸**: ëª¨ë°”ì¼/ë°ìŠ¤í¬í†± í™˜ê²½ ì§€ì›

#### 3. í†µí•© í…ŒìŠ¤íŠ¸ ì‹œìŠ¤í…œ (tests/test_ops_notifications.py)

**pytest ê¸°ë°˜ í†µí•© í…ŒìŠ¤íŠ¸:**

**í…ŒìŠ¤íŠ¸ ë²”ìœ„:**
1. **ë°±ì—… ì•Œë¦¼ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸**
   ```python
   @pytest.mark.asyncio
   async def test_send_backup_alert_success():
       # ë°±ì—… ì•Œë¦¼ ë°œì†¡ ì„±ê³µ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸

   @pytest.mark.asyncio
   async def test_execute_and_notify_backup_script_success():
       # subprocess.run ë°±ì—… ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ + ì•Œë¦¼ í†µí•© í…ŒìŠ¤íŠ¸
   ```

2. **ìš´ì˜ í†µí•© ì•Œë¦¼ í…ŒìŠ¤íŠ¸**
   ```python
   @pytest.mark.asyncio
   async def test_send_ops_integration_alert():
       # ë³´ì•ˆ ì´ë²¤íŠ¸ + ë°±ì—… ê²°ê³¼ í†µí•© ì•Œë¦¼ í…ŒìŠ¤íŠ¸
   ```

3. **ëª¨ì˜ ë°ì´í„° ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸**
   ```python
   def test_subprocess_run_verification():
       # subprocess.run ê²€ì¦ í…ŒìŠ¤íŠ¸

   def test_json_result_parsing():
       # JSON ê²°ê³¼ íŒŒì‹± í…ŒìŠ¤íŠ¸
   ```

4. **ì˜¤ë¥˜ ì²˜ë¦¬ ë° ë³µì›ë ¥ í…ŒìŠ¤íŠ¸**
   ```python
   @pytest.mark.asyncio
   async def test_notification_error_handling():
       # ì•Œë¦¼ ë°œì†¡ ì‹¤íŒ¨ ì‹œ ì˜¤ë¥˜ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
   ```

**í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°©ë²•:**
```bash
# ì „ì²´ ìš´ì˜ ì•Œë¦¼ í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰
python -m pytest tests/test_ops_notifications.py -v

# íŠ¹ì • í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ì‹¤í–‰
python -m pytest tests/test_ops_notifications.py::TestOpsNotificationIntegration -v

# ìƒì„¸ ì¶œë ¥ê³¼ í•¨ê»˜ ì‹¤í–‰
python -m pytest tests/test_ops_notifications.py -v --tb=short --maxfail=3
```

#### 4. CI/CD í†µí•© (GitHub Actions)

**ìë™í™”ëœ í…ŒìŠ¤íŠ¸ ì‹¤í–‰:**
```yaml
# .github/workflows/ci.ymlì—ì„œ ìë™ ì‹¤í–‰
- name: ğŸ”” ìš´ì˜ ì•Œë¦¼ í†µí•© í…ŒìŠ¤íŠ¸
  run: |
    echo "ğŸ”” ìš´ì˜ ì•Œë¦¼ í†µí•© ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰..."
    python -m pytest tests/test_ops_notifications.py -v --tb=short
```

**CI ë°±ì—… ê²€ì¦ í†µí•©:**
```yaml
- name: ğŸ”§ ë°±ì—… ê²€ì¦ + ì•Œë¦¼ í…ŒìŠ¤íŠ¸
  run: |
    make verify-backups
    python -m pytest tests/test_ops_notifications.py::test_execute_and_notify_backup_script_success -v
```

### ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

#### ì‹œë‚˜ë¦¬ì˜¤ 1: ì¼ì¼ ë°±ì—… ê²€ì¦ ìë™í™”
```bash
# Makefileì„ í†µí•œ ë°±ì—… ê²€ì¦ + ì•Œë¦¼
make verify-backups

# ë˜ëŠ” ì§ì ‘ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
./scripts/backup_verifier.sh --verbose

# Pythonì„ í†µí•œ í”„ë¡œê·¸ë˜ë° ë°©ì‹ ì‹¤í–‰
python -c "
import asyncio
from mcp.utils.notifier import execute_and_notify_backup_script

async def main():
    result = await execute_and_notify_backup_script(
        './scripts/backup_verifier.sh',
        ['--verbose'],
        notify_on_success=True
    )
    print(f'ë°±ì—… ê²€ì¦ ì™„ë£Œ: {result}')

asyncio.run(main())
"
```

#### ì‹œë‚˜ë¦¬ì˜¤ 2: ë³´ì•ˆ ì´ë²¤íŠ¸ + ë°±ì—… ìƒíƒœ í†µí•© ë¦¬í¬íŠ¸
```python
# ë³´ì•ˆ ì´ë²¤íŠ¸ì™€ ë°±ì—… ê²°ê³¼ë¥¼ í†µí•©í•œ ì¼ì¼ ë¦¬í¬íŠ¸
from mcp.utils.notifier import send_ops_integration_alert, NotificationLevel

security_events = [
    {
        "timestamp": "2024-01-15T14:30:00",
        "event_type": "login_failure",
        "source_ip": "192.168.1.100",
        "failed_attempts": 50,
        "action_taken": "IP ì°¨ë‹¨"
    }
]

backup_results = [
    {
        "script_name": "backup_verifier.sh",
        "execution_time": "2024-01-15T02:00:00",
        "exit_code": 0,
        "files_verified": 127,
        "integrity_percentage": 100.0
    }
]

await send_ops_integration_alert(
    event_type="daily_summary",
    security_events=security_events,
    backup_results=backup_results,
    level=NotificationLevel.INFO
)
```

#### ì‹œë‚˜ë¦¬ì˜¤ 3: ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
1. **ëŒ€ì‹œë³´ë“œ ì ‘ì†**: `http://localhost:8088/admin_dashboard.html`
2. **ğŸ”” ìš´ì˜ ì•Œë¦¼ í†µí•© íŒ¨ë„** ì„¹ì…˜ í™•ì¸
3. **í•„í„° ì‚¬ìš©**: ë³´ì•ˆ/ë°±ì—…/ì‹œìŠ¤í…œë³„ ì•Œë¦¼ í•„í„°ë§
4. **JSON ë°ì´í„° í™•ì¸**: ì•Œë¦¼ í´ë¦­ â†’ JSON ë²„íŠ¼ â†’ ìƒì„¸ ë°ì´í„° ëª¨ë‹¬
5. **ìë™ ê°±ì‹ **: 30ì´ˆë§ˆë‹¤ ìµœì‹  ì•Œë¦¼ ìë™ ë¡œë“œ

### ì„¤ì • ë° í™˜ê²½ë³€ìˆ˜

#### ì•Œë¦¼ ì±„ë„ ì„¤ì •
```bash
# Slack ì›¹í›… URL
export SLACK_WEBHOOK_URL="https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK"

# Discord ì›¹í›… URL
export DISCORD_WEBHOOK_URL="https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK"

# ì´ë©”ì¼ ì„¤ì •
export EMAIL_SMTP_SERVER="smtp.gmail.com"
export EMAIL_SMTP_PORT="587"
export EMAIL_USERNAME="your-email@gmail.com"
export EMAIL_PASSWORD="your-app-password"
```

#### ë°±ì—… ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œ ì„¤ì •
```bash
# ë°±ì—… ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œ
export BACKUP_VERIFIER_SCRIPT="./scripts/backup_verifier.sh"

# ë°±ì—… ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œ
export CLEANUP_BACKUPS_SCRIPT="./scripts/cleanup_old_backups.sh"

# ë°±ì—… ë””ë ‰í† ë¦¬
export BACKUP_DIRECTORY="./backups"
```

### ì„±ëŠ¥ ë° ìµœì í™”

#### ì•Œë¦¼ ì†ë„ ì œí•œ
- **Critical**: ì¦‰ì‹œ ë°œì†¡
- **Error**: 1ì´ˆ ì§€ì—°
- **Warning**: 3ì´ˆ ì§€ì—°
- **Info**: 5ì´ˆ ì§€ì—°

#### ë©”ëª¨ë¦¬ ê´€ë¦¬
- ëŒ€ì‹œë³´ë“œëŠ” ìµœê·¼ 100ê°œ ì•Œë¦¼ë§Œ ë©”ëª¨ë¦¬ì— ìœ ì§€
- JSON ë°ì´í„°ëŠ” í•„ìš”ì‹œì—ë§Œ ë¡œë“œ
- ìë™ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ìœ¼ë¡œ ë©”ëª¨ë¦¬ ìµœì í™”

#### ë„¤íŠ¸ì›Œí¬ ìµœì í™”
- ì•Œë¦¼ ë°œì†¡ ì‹¤íŒ¨ ì‹œ ì§€ìˆ˜ ë°±ì˜¤í”„ ì¬ì‹œë„
- ë°°ì¹˜ ì•Œë¦¼ ë°œì†¡ìœ¼ë¡œ API í˜¸ì¶œ ìµœì†Œí™”
- ì••ì¶•ëœ JSON ë°ì´í„° ì „ì†¡

### ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

#### ë¯¼ê° ì •ë³´ ë³´í˜¸
- IP ì£¼ì†ŒëŠ” ë§ˆì§€ë§‰ ì˜¥í…Ÿ ë§ˆìŠ¤í‚¹ ì˜µì…˜ ì œê³µ
- ë°±ì—… ê²½ë¡œëŠ” ìƒëŒ€ ê²½ë¡œë¡œë§Œ í‘œì‹œ
- ì‹œìŠ¤í…œ ì •ë³´ëŠ” ìš”ì•½ëœ í˜•íƒœë¡œë§Œ ì•Œë¦¼ì— í¬í•¨

#### ì ‘ê·¼ ì œì–´
- ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œëŠ” ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼
- API ì—”ë“œí¬ì¸íŠ¸ëŠ” Rate Limiting ì ìš©
- ë¡œê·¸ íŒŒì¼ì€ ì½ê¸° ì „ìš© ê¶Œí•œ ì„¤ì •

### ë¬¸ì œ í•´ê²°

#### ì¼ë°˜ì ì¸ ë¬¸ì œ
1. **"ì•Œë¦¼ì´ ëŒ€ì‹œë³´ë“œì— í‘œì‹œë˜ì§€ ì•ŠìŒ"**
   ```bash
   # ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ í™•ì¸
   console.log('opsNotificationManager:', opsNotificationManager);

   # ë„¤íŠ¸ì›Œí¬ íƒ­ì—ì„œ API í˜¸ì¶œ í™•ì¸
   # 30ì´ˆ ê°„ê²©ìœ¼ë¡œ ìƒˆë¡œê³ ì¹¨ë˜ëŠ”ì§€ í™•ì¸
   ```

2. **"ë°±ì—… ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì‹¤íŒ¨"**
   ```bash
   # ìŠ¤í¬ë¦½íŠ¸ ê¶Œí•œ í™•ì¸
   chmod +x scripts/backup_verifier.sh

   # ìˆ˜ë™ ì‹¤í–‰ í…ŒìŠ¤íŠ¸
   ./scripts/backup_verifier.sh --verbose

   # Pythonì—ì„œ ì‹¤í–‰ í…ŒìŠ¤íŠ¸
   python -c "
   import asyncio
   from mcp.utils.notifier import execute_and_notify_backup_script
   asyncio.run(execute_and_notify_backup_script('./scripts/backup_verifier.sh'))
   "
   ```

3. **"JSON ë°ì´í„° ëª¨ë‹¬ì´ ì—´ë¦¬ì§€ ì•ŠìŒ"**
   ```javascript
   // ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ í™•ì¸
   document.getElementById('jsonDataModal').style.display = 'flex';

   // JavaScript ì˜¤ë¥˜ í™•ì¸
   console.error ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ í™•ì¸
   ```

#### ë””ë²„ê¹… ëª¨ë“œ
```bash
# ìƒì„¸ ë¡œê·¸ì™€ í•¨ê»˜ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
python -m pytest tests/test_ops_notifications.py -v -s --tb=long

# ì•Œë¦¼ ì‹œìŠ¤í…œ ì§ì ‘ í…ŒìŠ¤íŠ¸
python -c "
import asyncio
import logging
logging.basicConfig(level=logging.DEBUG)

from mcp.utils.notifier import send_backup_alert, NotificationLevel

async def test():
    await send_backup_alert(
        'test_script.sh',
        {'exit_code': 0, 'message': 'í…ŒìŠ¤íŠ¸'},
        NotificationLevel.INFO
    )

asyncio.run(test())
"
```

### í–¥í›„ í™•ì¥ ê³„íš

#### 1. ê³ ê¸‰ í•„í„°ë§
- ì‹œê°„ëŒ€ë³„ ì•Œë¦¼ í•„í„°ë§
- ì‹¬ê°ë„ë³„ ì•Œë¦¼ ê·¸ë£¹í•‘
- ì‚¬ìš©ì ì •ì˜ ê²€ìƒ‰ ì¿¼ë¦¬

#### 2. ì•Œë¦¼ ê·œì¹™ ì—”ì§„
- ì¡°ê±´ë¶€ ì•Œë¦¼ ë°œì†¡ ê·œì¹™
- ì—ìŠ¤ì»¬ë ˆì´ì…˜ ì •ì±…
- ìë™ í•´ê²° ì•¡ì…˜

#### 3. ëª¨ë°”ì¼ ì•± ì—°ë™
- í‘¸ì‹œ ì•Œë¦¼ ì§€ì›
- ëª¨ë°”ì¼ ì „ìš© ëŒ€ì‹œë³´ë“œ
- ì˜¤í”„ë¼ì¸ ì•Œë¦¼ í

ì´ ìš´ì˜ ì•Œë¦¼ í†µí•© ì‹œìŠ¤í…œì„ í†µí•´ ê´€ë¦¬ìëŠ” ë³´ì•ˆ ì´ë²¤íŠ¸ì™€ ë°±ì—… ì‘ì—…ì„ í†µí•©ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê³ , ì‹¤ì‹œê°„ìœ¼ë¡œ ì‹œìŠ¤í…œ ìƒíƒœë¥¼ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ–¥ï¸ ìš´ì˜ ëŒ€ì‹œë³´ë“œ í…ŒìŠ¤íŠ¸ ìë™í™”

### ê°œìš”
ìš´ì˜ ëŒ€ì‹œë³´ë“œ í…ŒìŠ¤íŠ¸ ìë™í™” ì‹œìŠ¤í…œì€ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œì˜ ëª¨ë“  íŒ¨ë„ê³¼ ê¸°ëŠ¥ì„ ìë™ìœ¼ë¡œ ê²€ì¦í•˜ëŠ” í¬ê´„ì ì¸ í…ŒìŠ¤íŠ¸ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.
pytest + Selenium ê¸°ë°˜ì˜ UI í…ŒìŠ¤íŠ¸ì™€ curl ê¸°ë°˜ì˜ API ì—”ë“œí¬ì¸íŠ¸ í—¬ìŠ¤ì²´í¬ë¥¼ í†µí•´ ëŒ€ì‹œë³´ë“œì˜ ì•ˆì •ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.

### ì£¼ìš” êµ¬ì„± ìš”ì†Œ

#### 1. í¬ê´„ì  ëŒ€ì‹œë³´ë“œ íŒ¨ë„ í…ŒìŠ¤íŠ¸ (tests/test_ops_dashboard.py)

**ğŸ¯ í…ŒìŠ¤íŠ¸ ë²”ìœ„:**
- ğŸ”” **ìš´ì˜ ì•Œë¦¼ í†µí•© íŒ¨ë„**: í•„í„°ë§, ëª¨ë‹¬, í†µê³„ ì¹´ë“œ ê¸°ëŠ¥ ê²€ì¦
- ğŸ”’ **ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ íŒ¨ë„**: ì°¨ë‹¨ IP, í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸, ì‹¤ì‹œê°„ ì°¨íŠ¸ ê²€ì¦
- ğŸ’¾ **ë°±ì—… ê´€ë¦¬ íŒ¨ë„**: ë°±ì—… ìƒíƒœ, ì‘ì—… ë²„íŠ¼, í†µê³„ í‘œì‹œ ê²€ì¦
- ğŸ“Š **ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§**: ìì› ì‚¬ìš©ë¥ , ì„±ëŠ¥ ì°¨íŠ¸ ê²€ì¦

**í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ êµ¬ì¡°:**

```python
class TestOpsDashboardPanels:
    """ìš´ì˜ ëŒ€ì‹œë³´ë“œ íŒ¨ë„ UI í…ŒìŠ¤íŠ¸"""

    def test_dashboard_page_load(self):
        """ëŒ€ì‹œë³´ë“œ í˜ì´ì§€ ë¡œë“œ ë° ì£¼ìš” ì„¹ì…˜ ì¡´ì¬ í™•ì¸"""

    def test_ops_notification_panel_elements(self):
        """ìš´ì˜ ì•Œë¦¼ í†µí•© íŒ¨ë„ì˜ ëª¨ë“  UI ìš”ì†Œ ê²€ì¦"""

    def test_security_monitoring_panel(self):
        """ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ íŒ¨ë„ êµ¬ì„± ìš”ì†Œ ê²€ì¦"""

    def test_filter_button_interactions(self):
        """í•„í„° ë²„íŠ¼ í´ë¦­ ë° ìƒíƒœ ë³€ê²½ ê²€ì¦"""

    def test_json_modal_functionality(self):
        """JSON ë°ì´í„° ëª¨ë‹¬ í‘œì‹œ/ìˆ¨ê¹€ ê¸°ëŠ¥ ê²€ì¦"""

class TestDashboardAPIIntegration:
    """ëŒ€ì‹œë³´ë“œ API í†µí•© í…ŒìŠ¤íŠ¸"""

    def test_security_api_endpoint_structure(self):
        """ë³´ì•ˆ API ì‘ë‹µ êµ¬ì¡° ë° í•„ìˆ˜ í•„ë“œ ê²€ì¦"""

    def test_notification_api_endpoint_structure(self):
        """ì•Œë¦¼ API ì‘ë‹µ êµ¬ì¡° ë° ë°ì´í„° í˜•ì‹ ê²€ì¦"""

class TestDashboardMockDataInteraction:
    """ëª¨ì˜ ë°ì´í„° ìƒí˜¸ì‘ìš© í…ŒìŠ¤íŠ¸"""

    def test_mock_notification_filtering(self):
        """ëª¨ì˜ ì•Œë¦¼ ë°ì´í„° íƒ€ì…ë³„/ì‹¬ê°ë„ë³„ í•„í„°ë§ ë¡œì§ ê²€ì¦"""

    def test_mock_security_event_processing(self):
        """ëª¨ì˜ ë³´ì•ˆ ì´ë²¤íŠ¸ ì²˜ë¦¬ ë° ì‹¬ê°ë„ íŒì • ë¡œì§ ê²€ì¦"""

class TestDashboardPerformance:
    """ëŒ€ì‹œë³´ë“œ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸"""

    def test_page_load_performance(self):
        """í˜ì´ì§€ ë¡œë“œ ì‹œê°„ (< 5ì´ˆ) ê²€ì¦"""

    def test_javascript_initialization_time(self):
        """JavaScript ì´ˆê¸°í™” ì‹œê°„ (< 3ì´ˆ) ê²€ì¦"""
```

**í—¤ë“œë¦¬ìŠ¤ ë¸Œë¼ìš°ì € ì„¤ì •:**
```python
@pytest.fixture(scope="class")
def browser_setup(self):
    """Chrome í—¤ë“œë¦¬ìŠ¤ ë¸Œë¼ìš°ì € ì„¤ì •"""
    chrome_options = Options()
    chrome_options.add_argument("--headless")
    chrome_options.add_argument("--no-sandbox")
    chrome_options.add_argument("--disable-dev-shm-usage")
    chrome_options.add_argument("--window-size=1920,1080")

    driver = webdriver.Chrome(options=chrome_options)
    driver.implicitly_wait(10)
    yield driver
    driver.quit()
```

#### 2. API ì—”ë“œí¬ì¸íŠ¸ ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ (scripts/dashboard_smoke_test.sh)

**ğŸ” í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì—”ë“œí¬ì¸íŠ¸:**
- `/admin_dashboard.html` - ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ í˜ì´ì§€
- `/health` - í—¬ìŠ¤ì²´í¬ ì—”ë“œí¬ì¸íŠ¸
- `/api/v1/security/stats` - ë³´ì•ˆ í†µê³„ API
- `/api/v1/metrics` - ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­ API
- `/api/v1/notifications` - ìš´ì˜ ì•Œë¦¼ API

**ì£¼ìš” ê¸°ëŠ¥:**
- ğŸŒ **HTTP ìƒíƒœ ì½”ë“œ ê²€ì¦**: 200, 404, 500 ë“± ì˜ˆìƒ ì‘ë‹µ ì½”ë“œ í™•ì¸
- ğŸ“Š **JSON êµ¬ì¡° ê²€ì¦**: jqë¥¼ ì´ìš©í•œ ì‘ë‹µ ë°ì´í„° êµ¬ì¡° ê²€ì¦
- â±ï¸ **ì‘ë‹µ ì‹œê°„ ì¸¡ì •**: ê° ì—”ë“œí¬ì¸íŠ¸ë³„ ì‘ë‹µ ì‹œê°„ ëª¨ë‹ˆí„°ë§
- ğŸ“ **ë³´ì•ˆ ë¡œê·¸ ê¸°ë¡**: ëª¨ë“  í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ security.logì— ìë™ ê¸°ë¡

**ìŠ¤í¬ë¦½íŠ¸ ì˜µì…˜:**

```bash
# ê¸°ë³¸ ì‹¤í–‰ (ìš”ì•½ ì •ë³´)
./scripts/dashboard_smoke_test.sh

# ìƒì„¸ ë¡œê·¸ ì¶œë ¥
./scripts/dashboard_smoke_test.sh --verbose

# JSON í˜•ì‹ ê²°ê³¼ ì¶œë ¥
./scripts/dashboard_smoke_test.sh --json

# ì»¤ìŠ¤í…€ í˜¸ìŠ¤íŠ¸ ë° íƒ€ì„ì•„ì›ƒ ì„¤ì •
./scripts/dashboard_smoke_test.sh --host http://production.example.com --timeout 30

# ì „ì²´ ì˜µì…˜ ì¡°í•©
./scripts/dashboard_smoke_test.sh --verbose --json --timeout 15
```

**ì¶œë ¥ ì˜ˆì‹œ (JSON í˜•ì‹):**
```json
{
    "timestamp": "2024-01-15T14:30:00Z",
    "host": "http://localhost:8088",
    "timeout": 10,
    "summary": {
        "total_tests": 5,
        "passed": 4,
        "failed": 1,
        "success_rate": 80.0
    },
    "test_results": [
        {
            "name": "ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ",
            "url": "http://localhost:8088/admin_dashboard.html",
            "status": "PASSED",
            "http_status": 200
        },
        {
            "name": "ë³´ì•ˆ í†µê³„ API",
            "url": "http://localhost:8088/api/v1/security/stats",
            "status": "FAILED",
            "http_status": 404,
            "note": "ì„œë²„ ë¯¸ì‹¤í–‰ ê°€ëŠ¥ì„±"
        }
    ]
}
```

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°©ë²•

#### pytest ê¸°ë°˜ UI í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# ì „ì²´ ëŒ€ì‹œë³´ë“œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
python -m pytest tests/test_ops_dashboard.py -v

# íŠ¹ì • í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ì‹¤í–‰
python -m pytest tests/test_ops_dashboard.py::TestOpsDashboardPanels -v

# í—¤ë“œë¦¬ìŠ¤ ëª¨ë“œì—ì„œ ì‹¤í–‰ (ê¸°ë³¸ê°’)
python -m pytest tests/test_ops_dashboard.py -v --tb=short

# ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
python -m pytest tests/test_ops_dashboard.py::TestDashboardPerformance -v

# ì‹¤íŒ¨ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨
python -m pytest tests/test_ops_dashboard.py -x -v

# ìƒì„¸ ì¶œë ¥ (pytest + ë¸Œë¼ìš°ì € ë¡œê·¸)
python -m pytest tests/test_ops_dashboard.py -v -s --tb=long
```

**í•„ìˆ˜ ì¢…ì†ì„± ì„¤ì¹˜:**
```bash
# Selenium WebDriver ë° ê´€ë ¨ íŒ¨í‚¤ì§€
pip install selenium pytest pytest-asyncio

# Chrome WebDriver ì„¤ì¹˜ (macOS)
brew install chromedriver

# ë˜ëŠ” ì§ì ‘ ë‹¤ìš´ë¡œë“œ
# https://chromedriver.chromium.org/
```

#### ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

```bash
# ê¸°ë³¸ ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸
./scripts/dashboard_smoke_test.sh

# ìƒì„¸ ë¡œê·¸ì™€ í•¨ê»˜ ì‹¤í–‰
./scripts/dashboard_smoke_test.sh --verbose

# í”„ë¡œë•ì…˜ í™˜ê²½ í…ŒìŠ¤íŠ¸
./scripts/dashboard_smoke_test.sh --host https://admin.mcp-map.company --timeout 30

# JSON ì¶œë ¥ìœ¼ë¡œ CI/CD í†µí•©
./scripts/dashboard_smoke_test.sh --json > dashboard_test_results.json

# ë¡œì»¬ ê°œë°œ ì„œë²„ í…ŒìŠ¤íŠ¸
./scripts/dashboard_smoke_test.sh --host http://localhost:8088 --verbose
```

### CI/CD í†µí•©

#### GitHub Actions ì›Œí¬í”Œë¡œ í†µí•©

```yaml
# .github/workflows/dashboard-tests.yml
name: ğŸ–¥ï¸ ëŒ€ì‹œë³´ë“œ í…ŒìŠ¤íŠ¸ ìë™í™”

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]
  schedule:
    - cron: '0 2 * * *'  # ë§¤ì¼ ìƒˆë²½ 2ì‹œ ì‹¤í–‰

jobs:
  dashboard-ui-tests:
    runs-on: ubuntu-latest

    steps:
    - name: ğŸ“¥ ì½”ë“œ ì²´í¬ì•„ì›ƒ
      uses: actions/checkout@v4

    - name: ğŸ Python ì„¤ì •
      uses: actions/setup-python@v4
      with:
        python-version: 3.11

    - name: ğŸš€ Chrome ë¸Œë¼ìš°ì € ì„¤ì¹˜
      uses: browser-actions/setup-chrome@latest

    - name: ğŸ“¦ ì¢…ì†ì„± ì„¤ì¹˜
      run: |
        pip install selenium pytest pytest-asyncio
        pip install -r requirements.txt

    - name: ğŸ–¥ï¸ ëŒ€ì‹œë³´ë“œ UI í…ŒìŠ¤íŠ¸ ì‹¤í–‰
      run: |
        echo "ğŸ–¥ï¸ ëŒ€ì‹œë³´ë“œ íŒ¨ë„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰..."
        python -m pytest tests/test_ops_dashboard.py -v --tb=short
      continue-on-error: true

    - name: ğŸ“Š í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì•„í‹°íŒ©íŠ¸ ì—…ë¡œë“œ
      uses: actions/upload-artifact@v3
      if: always()
      with:
        name: dashboard-test-results
        path: |
          pytest-results.xml
          logs/

  dashboard-smoke-tests:
    runs-on: ubuntu-latest

    steps:
    - name: ğŸ“¥ ì½”ë“œ ì²´í¬ì•„ì›ƒ
      uses: actions/checkout@v4

    - name: ğŸ”§ ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ê¶Œí•œ ì„¤ì •
      run: chmod +x scripts/dashboard_smoke_test.sh

    - name: ğŸŒ ëŒ€ì‹œë³´ë“œ ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
      run: |
        echo "ğŸŒ ëŒ€ì‹œë³´ë“œ ì—”ë“œí¬ì¸íŠ¸ í—¬ìŠ¤ì²´í¬ ì‹¤í–‰..."
        ./scripts/dashboard_smoke_test.sh --json --verbose
      continue-on-error: true

    - name: ğŸ“‹ í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë³´ê³ ì„œ ìƒì„±
      run: |
        echo "ğŸ“‹ ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ ê²°ê³¼ ìš”ì•½ ìƒì„±..."
        ./scripts/dashboard_smoke_test.sh --json > smoke_test_results.json
        cat smoke_test_results.json
```

#### ê¸°ì¡´ CI íŒŒì´í”„ë¼ì¸ í†µí•©

```yaml
# .github/workflows/ci.yml ì— ì¶”ê°€
- name: ğŸ–¥ï¸ ëŒ€ì‹œë³´ë“œ íŒ¨ë„ í†µí•© í…ŒìŠ¤íŠ¸
  run: |
    echo "ğŸ–¥ï¸ ëŒ€ì‹œë³´ë“œ UI ë° API í…ŒìŠ¤íŠ¸ ì‹¤í–‰..."

    # UI í…ŒìŠ¤íŠ¸ ì‹¤í–‰
    python -m pytest tests/test_ops_dashboard.py::TestOpsDashboardPanels -v

    # API ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
    ./scripts/dashboard_smoke_test.sh --verbose

    # ê²°ê³¼ ë¡œê·¸ í™•ì¸
    if [ -f logs/security.log ]; then
      echo "ğŸ“ ë³´ì•ˆ ë¡œê·¸ í™•ì¸:"
      tail -20 logs/security.log
    fi
  continue-on-error: false
```

### cron ìŠ¤ì¼€ì¤„ë§ (ì •ê¸° ëª¨ë‹ˆí„°ë§)

#### ì‹œìŠ¤í…œ crontab ì„¤ì •

```bash
# crontab í¸ì§‘
crontab -e

# ë§¤ì¼ ìƒˆë²½ 2ì‹œ ëŒ€ì‹œë³´ë“œ í—¬ìŠ¤ì²´í¬ ì‹¤í–‰
0 2 * * * cd /path/to/mcp-map-company && ./scripts/dashboard_smoke_test.sh --json >> logs/daily_dashboard_check.log 2>&1

# ë§¤ì‹œê°„ ê°„ë‹¨í•œ í—¬ìŠ¤ì²´í¬ ì‹¤í–‰
0 * * * * cd /path/to/mcp-map-company && ./scripts/dashboard_smoke_test.sh --timeout 5 >/dev/null 2>&1

# ì£¼ê°„ í¬ê´„ì  UI í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (ë§¤ì£¼ ì¼ìš”ì¼ ì˜¤ì „ 3ì‹œ)
0 3 * * 0 cd /path/to/mcp-map-company && python -m pytest tests/test_ops_dashboard.py -v >> logs/weekly_ui_tests.log 2>&1
```

#### ëª¨ë‹ˆí„°ë§ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±

```bash
# scripts/dashboard_monitor.sh
#!/bin/bash

# ëŒ€ì‹œë³´ë“œ ìƒíƒœ ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼
result=$(./scripts/dashboard_smoke_test.sh --json)
success_rate=$(echo "$result" | jq -r '.summary.success_rate')

if (( $(echo "$success_rate < 80" | bc -l) )); then
    # ì„±ê³µë¥ ì´ 80% ë¯¸ë§Œì¼ ë•Œ ì•Œë¦¼ ë°œì†¡
    python -c "
    import asyncio
    from mcp.utils.notifier import send_ops_integration_alert, NotificationLevel

    asyncio.run(send_ops_integration_alert(
        event_type='dashboard_health_check',
        security_events=[],
        backup_results=[{'dashboard_success_rate': $success_rate}],
        level=NotificationLevel.WARNING
    ))
    "
fi
```

### ë¬¸ì œ í•´ê²°

#### ì¼ë°˜ì ì¸ ë¬¸ì œ

1. **"Chrome WebDriverë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"**
   ```bash
   # macOSì—ì„œ ChromeDriver ì„¤ì¹˜
   brew install chromedriver

   # ë˜ëŠ” ìˆ˜ë™ ì„¤ì¹˜
   wget https://chromedriver.storage.googleapis.com/LATEST_RELEASE
   LATEST=$(cat LATEST_RELEASE)
   wget https://chromedriver.storage.googleapis.com/$LATEST/chromedriver_mac64.zip
   unzip chromedriver_mac64.zip
   sudo mv chromedriver /usr/local/bin/
   ```

2. **"Selenium í…ŒìŠ¤íŠ¸ê°€ íƒ€ì„ì•„ì›ƒë©ë‹ˆë‹¤"**
   ```python
   # ëª…ì‹œì  ëŒ€ê¸° ì‹œê°„ ì¦ê°€
   WebDriverWait(driver, 20).until(
       EC.presence_of_element_located((By.ID, "opsNotificationsList"))
   )

   # í˜ì´ì§€ ë¡œë“œ ëŒ€ê¸° ì‹œê°„ ì¦ê°€
   driver.set_page_load_timeout(30)
   ```

3. **"API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨"**
   ```bash
   # ì„œë²„ ì‹¤í–‰ ìƒíƒœ í™•ì¸
   curl -I http://localhost:8088/health

   # ë°©í™”ë²½ ë° í¬íŠ¸ í™•ì¸
   netstat -an | grep 8088

   # ë¡œê·¸ í™•ì¸
   tail -f logs/api.log
   ```

4. **"JSON ì‘ë‹µ íŒŒì‹± ì˜¤ë¥˜"**
   ```bash
   # jq ì„¤ì¹˜ í™•ì¸
   which jq || brew install jq

   # JSON ì‘ë‹µ ìˆ˜ë™ í™•ì¸
   curl -s http://localhost:8088/api/v1/security/stats | jq .
   ```

#### ë””ë²„ê¹… ëª¨ë“œ

```bash
# ìƒì„¸ ë””ë²„ê·¸ ëª¨ë“œë¡œ pytest ì‹¤í–‰
python -m pytest tests/test_ops_dashboard.py -v -s --tb=long --log-cli-level=DEBUG

# ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ ë””ë²„ê·¸ ëª¨ë“œ
DEBUG=1 ./scripts/dashboard_smoke_test.sh --verbose

# ë¸Œë¼ìš°ì € í—¤ë“œí’€ ëª¨ë“œ (í™”ë©´ ë³´ì´ê²Œ)
HEADLESS=false python -m pytest tests/test_ops_dashboard.py::TestOpsDashboardPanels::test_dashboard_page_load -v -s
```

### í™•ì¥ ê³„íš

#### 1. ëª¨ë°”ì¼ ëŒ€ì‹œë³´ë“œ í…ŒìŠ¤íŠ¸
```python
# ëª¨ë°”ì¼ ë·°í¬íŠ¸ í…ŒìŠ¤íŠ¸
mobile_emulation = {"deviceName": "iPhone 12"}
chrome_options.add_experimental_option("mobileEmulation", mobile_emulation)
```

#### 2. ì ‘ê·¼ì„±(A11y) í…ŒìŠ¤íŠ¸
```python
# axe-coreë¥¼ ì´ìš©í•œ ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸
from axe_selenium_python import Axe

def test_dashboard_accessibility(self, browser_setup, dashboard_url):
    driver = browser_setup
    driver.get(dashboard_url)

    axe = Axe(driver)
    results = axe.run()
    assert len(results["violations"]) == 0
```

#### 3. ì‹œê°ì  íšŒê·€ í…ŒìŠ¤íŠ¸
```python
# Playwrightë¥¼ ì´ìš©í•œ ìŠ¤í¬ë¦°ìƒ· ë¹„êµ
def test_dashboard_visual_regression(self, browser_setup, dashboard_url):
    driver = browser_setup
    driver.get(dashboard_url)

    screenshot = driver.get_screenshot_as_png()
    # ê¸°ì¤€ ì´ë¯¸ì§€ì™€ ë¹„êµ ë¡œì§
```

ì´ ëŒ€ì‹œë³´ë“œ í…ŒìŠ¤íŠ¸ ìë™í™” ì‹œìŠ¤í…œì„ í†µí•´ ê´€ë¦¬ìëŠ” ëŒ€ì‹œë³´ë“œì˜ ëª¨ë“  ê¸°ëŠ¥ì´ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ ì§€ì†ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê³ , ë¬¸ì œ ë°œìƒ ì‹œ ì¦‰ì‹œ ê°ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
