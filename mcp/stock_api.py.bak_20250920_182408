from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware

# ê¸°ì¡´ ëª¨ë“ˆ ë¼ìš°í„°
from mcp.signal_api import router as signal_router

# ğŸ”½ ìƒˆë¡œ ì¶”ê°€í•œ ì¶”ì²œ API ë¼ìš°í„°
from mcp.recommend_api import router as reco_router
from mcp.news_api import router as news_router

app = FastAPI()

# ê¸°ì¡´ ë¼ìš°í„° ë“±ë¡
app.include_router(signal_router)

# ğŸ”½ ìƒˆë¡œ ì¶”ê°€ëœ ë¼ìš°í„° ë“±ë¡
app.include_router(reco_router)
app.include_router(news_router)

# CORS ì„¤ì • (í•„ìš” ì‹œ í™•ì¥ ê°€ëŠ¥)
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_methods=["*"],
    allow_headers=["*"],
)

# í—¬ìŠ¤ ì²´í¬ ê¸°ë³¸ ë¼ìš°íŠ¸ (ì—†ìœ¼ë©´ ì¶”ê°€)
@app.get("/health")
def health():
    return {"ok": True}
