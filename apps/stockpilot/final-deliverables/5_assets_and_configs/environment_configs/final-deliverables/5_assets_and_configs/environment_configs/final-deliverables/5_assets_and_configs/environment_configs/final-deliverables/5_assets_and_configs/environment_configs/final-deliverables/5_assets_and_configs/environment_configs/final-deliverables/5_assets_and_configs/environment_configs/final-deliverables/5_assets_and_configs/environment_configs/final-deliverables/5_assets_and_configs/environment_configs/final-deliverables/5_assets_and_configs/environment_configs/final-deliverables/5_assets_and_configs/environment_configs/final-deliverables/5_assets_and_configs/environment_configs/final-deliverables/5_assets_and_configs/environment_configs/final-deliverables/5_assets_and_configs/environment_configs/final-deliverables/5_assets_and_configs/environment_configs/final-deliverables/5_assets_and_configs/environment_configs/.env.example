# StockPilot AI - 환경 변수 템플릿
# 이 파일을 .env로 복사하고 실제 값으로 설정하세요

# =============================================================================
# 데이터베이스 설정 (필수)
# =============================================================================

# PostgreSQL 데이터베이스 URL
# 형식: postgresql://[사용자명]:[비밀번호]@[호스트]:[포트]/[데이터베이스명]
DATABASE_URL=postgresql://stockpilot:your_db_password@localhost:5432/stockpilot_db

# 데이터베이스 연결 풀 설정 (선택사항)
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_PRE_PING=true
DB_POOL_RECYCLE=3600

# =============================================================================
# Redis 캐시 설정 (필수)
# =============================================================================

# Redis 서버 URL
# 형식: redis://[비밀번호@]호스트:포트[/db번호]
REDIS_URL=redis://localhost:6379/0

# Redis 연결 설정
REDIS_MAX_CONNECTIONS=20
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# =============================================================================
# JWT 토큰 설정 (필수)
# =============================================================================

# JWT 서명에 사용할 비밀 키 (32자 이상 권장)
# 생성 방법: openssl rand -hex 32
JWT_SECRET_KEY=your_super_secure_jwt_secret_key_here_at_least_32_chars

# JWT 토큰 만료 시간 (분 단위)
JWT_EXPIRES_IN=1440  # 24시간

# JWT 리프레시 토큰 만료 시간 (일 단위)
JWT_REFRESH_EXPIRES=30  # 30일

# =============================================================================
# API 설정 (필수)
# =============================================================================

# 애플리케이션 환경
ENVIRONMENT=development  # development, staging, production

# FastAPI 서버 설정
HOST=0.0.0.0
PORT=8000

# API 버전
API_VERSION=v1

# 외부 API 기본 타임아웃 (초)
API_TIMEOUT=30

# =============================================================================
# 증권 API 설정 (필수)
# =============================================================================

# KIS (한국투자증권) API 설정
KIS_APP_KEY=your_kis_app_key_here
KIS_APP_SECRET=your_kis_app_secret_here
KIS_BASE_URL=https://openapi.koreainvestment.com:9443

# 모의투자 여부 (true/false)
KIS_MOCK_TRADING=true

# KRX (한국거래소) API 설정 (선택사항)
KRX_API_KEY=your_krx_api_key_here

# =============================================================================
# AI 모델 설정 (선택사항)
# =============================================================================

# OpenAI API 설정
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=4000

# HuggingFace API 설정 (선택사항)
HUGGINGFACE_API_KEY=your_huggingface_api_key_here

# =============================================================================
# 로깅 설정
# =============================================================================

# 로그 레벨 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# 로그 파일 경로
LOG_FILE=/var/log/stockpilot/app.log

# 로그 파일 최대 크기 (MB)
LOG_MAX_SIZE=100

# 로그 파일 백업 개수
LOG_BACKUP_COUNT=5

# 구조화된 로그 형식 사용 여부 (true/false)
LOG_JSON_FORMAT=false

# =============================================================================
# 보안 설정
# =============================================================================

# CORS 허용 도메인 (쉼표로 구분)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# 허용할 HTTP 메소드
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS

# 허용할 헤더
CORS_HEADERS=*

# 쿠키 보안 설정
SECURE_COOKIES=false  # HTTPS 환경에서는 true로 설정

# API 키 인증 헤더명
API_KEY_HEADER=X-API-Key

# =============================================================================
# 성능 설정
# =============================================================================

# API 요청 제한 (분당 요청 수)
RATE_LIMIT_PER_MINUTE=1000

# 데이터 캐시 TTL (초)
CACHE_TTL=300  # 5분

# 주식 데이터 업데이트 간격 (초)
STOCK_DATA_REFRESH_INTERVAL=60

# WebSocket 연결 타임아웃 (초)
WEBSOCKET_TIMEOUT=300

# =============================================================================
# 알림 설정 (선택사항)
# =============================================================================

# 이메일 알림 설정
EMAIL_ENABLED=false
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_email_password
EMAIL_FROM=noreply@stockpilot.ai

# Slack 알림 설정
SLACK_ENABLED=false
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Telegram 봇 설정
TELEGRAM_ENABLED=false
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_telegram_chat_id

# =============================================================================
# 모니터링 설정 (선택사항)
# =============================================================================

# Prometheus 메트릭 수집 여부
METRICS_ENABLED=true
METRICS_PORT=9090

# Sentry 오류 추적 설정
SENTRY_ENABLED=false
SENTRY_DSN=your_sentry_dsn_here

# 헬스체크 설정
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30

# =============================================================================
# 개발 설정 (개발 환경에서만 사용)
# =============================================================================

# 개발 모드 활성화
DEBUG=true

# 자동 리로드 활성화
RELOAD=true

# 개발용 더미 데이터 생성 여부
GENERATE_SAMPLE_DATA=true

# API 문서 자동 생성 여부
GENERATE_API_DOCS=true

# 테스트 데이터베이스 URL (테스트 시에만 사용)
TEST_DATABASE_URL=postgresql://stockpilot:test_password@localhost:5432/stockpilot_test_db

# =============================================================================
# 백업 및 복구 설정
# =============================================================================

# 자동 백업 활성화 여부
AUTO_BACKUP_ENABLED=true

# 백업 간격 (시간)
BACKUP_INTERVAL=24

# 백업 저장 경로
BACKUP_PATH=/var/backups/stockpilot

# 백업 파일 보관 일수
BACKUP_RETENTION_DAYS=30

# S3 백업 설정 (선택사항)
S3_BACKUP_ENABLED=false
S3_BUCKET=your-stockpilot-backup-bucket
S3_ACCESS_KEY=your_s3_access_key
S3_SECRET_KEY=your_s3_secret_key
S3_REGION=ap-northeast-2

# =============================================================================
# 추가 설정
# =============================================================================

# 타임존 설정
TIMEZONE=Asia/Seoul

# 기본 언어 설정
DEFAULT_LANGUAGE=ko

# 최대 동시 사용자 수
MAX_CONCURRENT_USERS=1000

# 데이터 동기화 간격 (초)
DATA_SYNC_INTERVAL=300

# 시스템 유지보수 모드
MAINTENANCE_MODE=false

# 기능 플래그
FEATURE_REALTIME_TRADING=true
FEATURE_AI_RECOMMENDATIONS=true
FEATURE_SOCIAL_FEATURES=false
FEATURE_ADVANCED_ANALYTICS=true